/*! For license information please see main.c785c2db.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+M(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),R(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+M(o=e[c],c);l+=R(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=R(o=o.value,t,i,u=s+M(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},L={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,L(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,b(E),E=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,A=null,E=-1,C=5,M=-1;function R(){return!(t.unstable_now()-M<C)}function N(){if(null!==A){var e=t.unstable_now();M=e;var n=!0;try{n=A(!0,e)}finally{n?S():(k=!1,A=null)}}else k=!1}if("function"===typeof y)S=function(){y(N)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){v(N,0)};function L(e){A=e,k||(k=!0,S())}function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(b(E),E=-1):m=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),g||p||(g=!0,L(_))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},330:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,a=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},440:e=>{var t=function(){};e.exports=t},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,O=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var W=!1;function B(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case A:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ae(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),_e(e.stateNode,e.type,t))}}function Ee(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ce(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Me(e,t){return e(t)}function Re(){}var Ne=!1;function Te(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Me(e,t,n)}finally{Ne=!1,(null!==Se||null!==ke)&&(Re(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Le=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Le=!1}function je(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,Oe=null,Fe=!1,We=null,Be={onError:function(e){Ie=!0,Oe=e}};function ze(e,t,n,r,i,s,a,o,l){Ie=!1,Oe=null,je.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,et=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,it=i.unstable_IdlePriority,st=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var ut=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,kt,At,Et,Ct=!1,Mt=[],Rt=null,Nt=null,Tt=null,Pt=new Map,Lt=new Map,Dt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Wt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){Wt(e)&&n.delete(t)}function zt(){Ct=!1,null!==Rt&&Wt(Rt)&&(Rt=null),null!==Nt&&Wt(Nt)&&(Nt=null),null!==Tt&&Wt(Tt)&&(Tt=null),Pt.forEach(Bt),Lt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<Mt.length){Ut(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Ut(Rt,e),null!==Nt&&Ut(Nt,e),null!==Tt&&Ut(Tt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Vt=w.ReactCurrentBatchConfig,Gt=!0;function qt(e,t,n,r){var i=wt,s=Vt.transition;Vt.transition=null;try{wt=1,Xt(e,t,n,r)}finally{wt=i,Vt.transition=s}}function Kt(e,t,n,r){var i=wt,s=Vt.transition;Vt.transition=null;try{wt=4,Xt(e,t,n,r)}finally{wt=i,Vt.transition=s}}function Xt(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)Gr(e,t,r,Yt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rt=Ot(Rt,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return Tt=Ot(Tt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lt.set(s,Ot(Lt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Qt(e,t,n,r))&&Gr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(un),hn=O({},un,{view:0,detail:0}),fn=an(hn),pn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(pn),mn=an(O({},pn,{dataTransfer:0})),vn=an(O({},hn,{relatedTarget:0})),bn=an(O({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(yn),xn=an(O({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return An}var Cn=O({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Cn),Rn=an(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=an(O({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Pn),Dn=[9,13,27,32],jn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var On=u&&"TextEvent"in window&&!In,Fn=u&&(!jn||In&&8<In&&11>=In),Wn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Xn=null;function Yn(e){Wr(e,0)}function Qn(e){if(K(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Zn=er}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Kn&&(Kn.detachEvent("onpropertychange",rr),Xn=Kn=null)}function rr(e){if("value"===e.propertyName&&Qn(Xn)){var t=[];qn(t,Xn,e,xe(e)),Te(Yn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Xn=n,(Kn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Xn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dr(n,s);var a=dr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,br=null,yr=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Kr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Ar={};function Er(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return kr[e]=n[t];return e}u&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Er("animationend"),Mr=Er("animationiteration"),Rr=Er("animationstart"),Nr=Er("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Tr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var jr=Pr[Dr];Lr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Lr(Cr,"onAnimationEnd"),Lr(Mr,"onAnimationIteration"),Lr(Rr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var u=Oe;Ie=!1,Oe=null,Fe||(Fe=!0,We=u)}}(r,t,void 0,e),e.currentTarget=null}function Wr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(Fe)throw e=We,Fe=!1,We=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Te((function(){var r=s,i=xe(n),a=[];e:{var o=Tr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case Mr:case Rr:l=bn;break;case Nr:l=Tn;break;case"scroll":l=fn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pe(p,h))&&u.push(qr(p,g,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[gi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(g,p+"leave",l,n,i)).target=d,o.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Xr(f))p++;for(f=0,g=h;g;g=Xr(g))f++;for(;0<p-f;)u=Xr(u),p--;for(;0<f-p;)h=Xr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Xr(u),h=Xr(h)}u=null}else u=null;null!==l&&Yr(a,o,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=$n;else if(Gn(o))if(Jn)m=or;else{m=sr;var v=ir}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(a,m,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(vr=v,br=r,yr=null);break;case"focusout":yr=br=vr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var b;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=tn()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(v=Kr(r,y)).length&&(y=new xn(y,e,null,n,i),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Un(n))&&(y.data=b))),(b=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Wn);case"textInput":return(e=t.data)===Wn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&zn(e,t)?(e=tn(),en=Zt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Wr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Pe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,si="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,pi="__reactProps$"+hi,gi="__reactContainer$"+hi,mi="__reactEvents$"+hi,vi="__reactListeners$"+hi,bi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[fi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[fi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[pi]||null}var Si=[],ki=-1;function Ai(e){return{current:e}}function Ei(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ci(e,t){ki++,Si[ki]=e.current,e.current=t}var Mi={},Ri=Ai(Mi),Ni=Ai(!1),Ti=Mi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ri)}function ji(e,t,n){if(Ri.current!==Mi)throw Error(s(168));Ci(Ri,t),Ci(Ni,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return O({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ti=Ri.current,Ci(Ri,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ii(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ri),Ci(Ri,e)):Ei(Ni),Ci(Ni,n)}var Wi=null,Bi=!1,zi=!1;function Ui(e){null===Wi?Wi=[e]:Wi.push(e)}function Hi(){if(!zi&&null!==Wi){zi=!0;var e=0,t=wt;try{var n=Wi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Wi=null,Bi=!1}catch(i){throw null!==Wi&&(Wi=Wi.slice(e+1)),Ke(et,Hi),i}finally{wt=t,zi=!1}}return null}var Vi=[],Gi=0,qi=null,Ki=0,Xi=[],Yi=0,Qi=null,$i=1,Ji="";function Zi(e,t){Vi[Gi++]=Ki,Vi[Gi++]=qi,qi=e,Ki=t}function es(e,t,n){Xi[Yi++]=$i,Xi[Yi++]=Ji,Xi[Yi++]=Qi,Qi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else $i=1<<s|n<<i|r,Ji=e}function ts(e){null!==e.return&&(Zi(e,1),es(e,1,0))}function ns(e){for(;e===qi;)qi=Vi[--Gi],Vi[Gi]=null,Ki=Vi[--Gi],Vi[Gi]=null;for(;e===Qi;)Qi=Xi[--Yi],Xi[Yi]=null,Ji=Xi[--Yi],Xi[Yi]=null,$i=Xi[--Yi],Xi[Yi]=null}var rs=null,is=null,ss=!1,as=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(ss){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=ui(n.nextSibling);var r=rs;t&&ls(e,t)?os(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function hs(e){if(e!==rs)return!1;if(!ss)return ds(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?ui(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=ui(e.nextSibling)}function ps(){is=rs=null,ss=!1}function gs(e){null===as?as=[e]:as.push(e)}var ms=w.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case _:return(t=Wc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Ic(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);bs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);bs(t,r)}return null}function g(i,s,o,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,o[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===o.length)return n(i,d),ss&&Zi(i,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(i,o[g],l))&&(s=a(d,s,g),null===u?c=d:u.sibling=d,u=d);return ss&&Zi(i,g),c}for(d=r(i,d);g<o.length;g++)null!==(m=p(d,i,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),ss&&Zi(i,g),c}function m(i,o,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(i,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),o=a(y,o,m),null===d?u=y:d.sibling=y,d=y,g=v}if(b.done)return n(i,g),ss&&Zi(i,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(i,b.value,c))&&(o=a(b,o,m),null===d?u=b:d.sibling=b,d=b);return ss&&Zi(i,m),u}for(g=r(i,g);!b.done;m++,b=l.next())null!==(b=p(g,i,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=a(b,o,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(i,e)})),ss&&Zi(i,m),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=vs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Ic(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=vs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Wc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return g(r,s,a,l);if(j(a))return m(r,s,a,l);bs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=ws(!0),_s=ws(!1),Ss=Ai(null),ks=null,As=null,Es=null;function Cs(){Es=As=ks=null}function Ms(e){var t=Ss.current;Ei(Ss),e._currentValue=t}function Rs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){ks=e,Es=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===ks)throw Error(s(308));As=e,ks.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Ps=null;function Ls(e){null===Ps?Ps=[e]:Ps.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ls(t)):(n.next=i.next,i.next=n),t.interleaved=n,js(e,r)}function js(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,js(e,n)}return null===(i=r.interleaved)?(t.next=t,Ls(r)):(t.next=i.next,i.next=t),r.interleaved=t,js(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;Is=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=O({},d,h);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Gs={},qs=Ai(Gs),Ks=Ai(Gs),Xs=Ai(Gs);function Ys(e){if(e===Gs)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Xs,t),Ci(Ks,e),Ci(qs,Gs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Ci(qs,t)}function $s(){Ei(qs),Ei(Ks),Ei(Xs)}function Js(e){Ys(Xs.current);var t=Ys(qs.current),n=le(t,e.type);t!==n&&(Ci(Ks,e),Ci(qs,n))}function Zs(e){Ks.current===e&&(Ei(qs),Ei(Ks))}var ea=Ai(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,sa=w.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(s(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:eo,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(s(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=to,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=oa=null,ua=!1,t)throw Error(s(300));return e}function va(){var e=0!==ha;return ha=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?oa.memoizedState=ca=e:ca=ca.next=e,ca}function ya(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?oa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(s(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?oa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,oa.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,lr(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,Ol|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);lr(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(e,t){var n=oa,r=ya(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,Ia(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ta(9,Ea.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&aa)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Ra(e)}function Ca(e,t,n){return n((function(){Ma(t)&&Ra(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ra(e){var t=js(e,1);null!==t&&rc(t,e,1,-1)}function Na(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,oa,e),[t.memoizedState,e]}function Ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ya().memoizedState}function La(e,t,n,r){var i=ba();oa.flags|=e,i.memoizedState=Ta(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==la){var a=la.memoizedState;if(s=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ta(t,n,s,r))}oa.flags|=e,i.memoizedState=Ta(1|t,n,s,r)}function ja(e,t){return La(8390656,8,e,t)}function Ia(e,t){return Da(2048,8,e,t)}function Oa(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Wa.bind(null,t,e),n)}function za(){}function Ua(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),oa.lanes|=n,Ol|=n,e.baseState=!0),t)}function Ga(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{wt=n,sa.transition=r}}function qa(){return ya().memoizedState}function Ka(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Qa(t,n);else if(null!==(n=Ds(e,t,n,r))){rc(n,e,r,tc()),$a(n,t,r)}}function Xa(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,lr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ls(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ds(e,t,i,r))&&(rc(n,e,r,i=tc()),$a(n,t,r))}}function Ya(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function Qa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Ts,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ts,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Na,useDebugValue:za,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Ga.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,i=ba();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&aa)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Ta(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Nl.identifierPrefix;if(ss){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ts,useCallback:Ua,useContext:Ts,useEffect:Ia,useImperativeHandle:Ba,useInsertionEffect:Oa,useLayoutEffect:Fa,useMemo:Ha,useReducer:xa,useRef:Pa,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return Va(ya(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ya().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},to={readContext:Ts,useCallback:Ua,useContext:Ts,useEffect:Ia,useImperativeHandle:Ba,useInsertionEffect:Oa,useLayoutEffect:Fa,useMemo:Ha,useReducer:_a,useRef:Pa,useState:function(){return _a(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ya();return null===la?t.memoizedState=e:Va(t,la.memoizedState,e)},useTransition:function(){return[_a(wa)[0],ya().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ws(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ws(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ws(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(rc(t,e,r,n),zs(t,e,r))}};function so(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function ao(e,t,n){var r=!1,i=Mi,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Li(t)?Ti:Ri.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Mi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Li(t)?Ti:Ri.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&io.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ws(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ql=r),ho(0,t)},n}function go(e,t,n){(n=Ws(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ws(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,wo=!1;function xo(e,t,n,r){t.child=null===e?_s(t,null,n,r):xs(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=va(),null===e||wo?(ss&&n&&ts(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function So(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Go(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Go(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function Ao(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Dl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Dl,Ll),Ll|=r;return xo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Li(n)?Ti:Ri.current;return s=Pi(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=va(),null===e||wo?(ss&&r&&ts(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function Mo(e,t,n,r,i){if(Li(n)){var s=!0;Oi(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Vo(e,t),ao(t,n,r),lo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Pi(t,c=Li(n)?Ti:Ri.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Is=!1;var h=t.memoizedState;a.state=h,Hs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ni.current||Is?("function"===typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=Is||so(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Pi(t,l=Li(n)?Ti:Ri.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&oo(t,a,r,l),Is=!1,h=t.memoizedState,a.state=h,Hs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||Is?("function"===typeof f&&(ro(t,n,f,r),p=t.memoizedState),(c=Is||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Go(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),Qs(e,t.containerInfo)}function To(e,t,n,r,i){return ps(),gs(i),t.flags|=256,xo(e,t,n,r),t.child}var Po,Lo,Do,jo,Io={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=ea.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,i,0,null),e=Ic(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Io,e):Wo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(a=Ic(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Io,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,js(e,i),rc(r,e,i,-1))}return mc(),Bo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,is=ui(i.nextSibling),rs=t,ss=!0,as=null,null!==e&&(Xi[Yi++]=$i,Xi[Yi++]=Ji,Xi[Yi++]=Qi,$i=e.id,Ji=e.overflow,Qi=t),t=Wo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&gs(r),xs(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Rs(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Li(t.type)&&Di(),Ko(t),null;case 3:return r=t.stateNode,$s(),Ei(Ni),Ei(Ri),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==as&&(oc(as),as=null))),Lo(e,t),Ko(t),null;case 5:Zs(t);var i=Ys(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Ys(qs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Br(Ir[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in be(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Br(Ir[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in be(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&y(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Xs.current),Ys(qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ei(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ps(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[fi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==as&&(oc(as),as=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===jl&&(jl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return $s(),Lo(e,t),null===e&&Hr(t.stateNode.containerInfo),Ko(t),null;case 10:return Ms(t.type._context),Ko(t),null;case 19:if(Ei(ea),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Hl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ss)return Ko(t),null}else 2*Je()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ns(t),t.tag){case 1:return Li(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),Ei(Ni),Ei(Ri),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ei(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ea),null;case 4:return $s(),null;case 10:return Ms(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(qs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[vi],delete t[bi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:$o||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Ht(e)):ci(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$o&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ac(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,fl(e,t,n),$o=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ac(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Ac(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),ye(l,o);var u=ye(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):y(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){Ac(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ac(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Je())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||d,ml(t,e),$o=u):ml(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Zo=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){Ac(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Ac(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Qo;var c=$o;if(Qo=a,($o=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Zo=l):Sl(i);for(;null!==s;)Zo=s,wl(s,t,n),s=s.sibling;Zo=i,Qo=o,$o=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):xl(e)}}function xl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(s(163))}$o||512&t.flags&&sl(t)}catch($e){Ac(t,t.return,$e)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ac(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ac(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Ac(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Ac(t,a,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Al=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Ml=w.ReactCurrentBatchConfig,Rl=0,Nl=null,Tl=null,Pl=0,Ll=0,Dl=Ai(0),jl=0,Il=null,Ol=0,Fl=0,Wl=0,Bl=null,zl=null,Ul=0,Hl=1/0,Vl=null,Gl=!1,ql=null,Kl=null,Xl=!1,Yl=null,Ql=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Rl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));bt(e,n,r),0!==(2&Rl)&&e===Nl||(e===Nl&&(0===(2&Rl)&&(Fl|=n),4===jl&&lc(e,Pl)),ic(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Hl=Je()+500,Bi&&Hi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ot(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ft(e,e===Nl?Pl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Rl)&&Hi()})),n=null;else{switch(xt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ft(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Rl;Rl|=2;var a=gc();for(Nl===e&&Pl===t||(Vl=null,Hl=Je()+500,fc(e,t));;)try{yc();break}catch(l){pc(e,l)}Cs(),El.current=a,Rl=i,null!==Tl?t=0:(Nl=null,Pl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Il,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=gt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Il,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,zl,Vl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(_c.bind(null,e,zl,Vl),t);break}_c(e,zl,Vl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ot(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ii(_c.bind(null,e,zl,Vl),r);break}_c(e,zl,Vl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Wl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Rl))throw Error(s(327));Sc();var t=ft(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,Vl),ic(e,Je()),null}function uc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Hl=Je()+500,Bi&&Hi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Rl)&&Sc();var t=Rl;Rl|=1;var n=Ml.transition,r=wt;try{if(Ml.transition=null,wt=1,e)return e()}finally{wt=r,Ml.transition=n,0===(6&(Rl=t))&&Hi()}}function hc(){Ll=Dl.current,Ei(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:$s(),Ei(Ni),Ei(Ri),ra();break;case 5:Zs(r);break;case 4:$s();break;case 13:case 19:Ei(ea);break;case 10:Ms(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Tl=e=Dc(e.current,null),Pl=Ll=t,jl=0,Il=null,Wl=Fl=Ol=0,zl=Bl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Cs(),ia.current=Ja,ua){for(var r=oa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=oa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){jl=1,Il=t,Tl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,bo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),gs(co(c,l));break e}}a=c=co(c,l),4!==jl&&(jl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Us(a,po(0,c,t));break e;case 1:l=c;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Kl||!Kl.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Us(a,go(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(w){t=w,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function gc(){var e=El.current;return El.current=Ja,null===e?Ja:e}function mc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Nl||0===(268435455&Ol)&&0===(268435455&Fl)||lc(Nl,Pl)}function vc(e,t){var n=Rl;Rl|=2;var r=gc();for(Nl===e&&Pl===t||(Vl=null,fc(e,t));;)try{bc();break}catch(i){pc(e,i)}if(Cs(),Rl=n,El.current=r,null!==Tl)throw Error(s(261));return Nl=null,Pl=0,jl}function bc(){for(;null!==Tl;)wc(Tl)}function yc(){for(;null!==Tl&&!Ye();)wc(Tl)}function wc(e){var t=kl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Ll)))return void(Tl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return jl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===jl&&(jl=5)}function _c(e,t,n){var r=wt,i=Ml.transition;try{Ml.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nl&&(Tl=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Nc(nt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var o=wt;wt=1;var l=Rl;Rl|=4,Cl.current=null,function(e,t){if(ti=Gt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Gt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:no(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Ac(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=nl,nl=!1}(e,n),vl(n,e),gr(ni),Gt=!!ti,ni=ti=null,e.current=n,yl(n,e,i),Qe(),Rl=l,wt=o,Ml.transition=a}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Ql=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Jl?$l++:($l=0,Jl=e):$l=0,Hi()}(e,t,n,r)}finally{Ml.transition=i,wt=r}return null}function Sc(){if(null!==Yl){var e=xt(Ql),t=Ml.transition,n=wt;try{if(Ml.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(al(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Zo=b;break e}Zo=a.return}}var y=e.current;for(Zo=y;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Ac(l,l.return,_)}if(l===o){Zo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zo=x;break e}Zo=l.return}}if(Rl=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(_){}r=!0}return r}finally{wt=n,Ml.transition=t}}return!1}function kc(e,t,n){e=Bs(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(bt(e,1,t),ic(e,t))}function Ac(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bs(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(bt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===jl||3===jl&&(130023424&Pl)===Pl&&500>Je()-Ul?fc(e,0):Wl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=js(e,t))&&(bt(e,t,n),ic(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Tc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Ic(n.children,i,a,t);case k:o=8,i|=8;break;case A:return(e=Pc(12,n,t,2|i)).elementType=A,e.lanes=a,e;case R:return(e=Pc(13,n,t,i)).elementType=R,e.lanes=a,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=a,e;case L:return Oc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case C:o=9;break e;case M:o=11;break e;case T:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Wc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Uc(e){if(!e)return Mi;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Li(n))return Ii(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Uc(null),n=e.current,(s=Ws(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,bt(e,i,r),ic(e,r),e}function Vc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ws(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,a))&&(rc(e,i,a,s),zs(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:No(t),ps();break;case 5:Js(t);break;case 1:Li(t.type)&&Oi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ci(ea,1&ea.current),null!==(e=Go(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n)}return Go(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ss&&0!==(1048576&t.flags)&&es(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var i=Pi(t,Ri.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=io,t.stateNode=i,i._reactInternals=t,lo(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,ss&&a&&ts(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===T)return 14}return 2}(r),e=no(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Mo(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=So(null,t,r,no(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:no(r,i),n);case 1:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:no(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=To(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=To(e,t,r,n,i=co(Error(s(424)),t));break e}for(is=ui(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,as=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Go(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ri(r,i)?o=null:null!==a&&ri(r,a)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:no(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(Ss,r._currentValue),r._currentValue=o,null!==a)if(lr(a.value,o)){if(a.children===i.children&&!Ni.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ws(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Rs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Rs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Ts(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=no(r=t.type,t.pendingProps),So(e,t,r,i=no(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:no(r,i),Vo(e,t),t.tag=1,Li(r)?(e=!0,Oi(t)):e=!1,Ns(t,n),ao(t,r,i),lo(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Ao(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Gc(a);o.call(e)}}Vc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[gi]=a.current,Hr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Gc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[gi]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[gi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Rl)&&(Hl=Je()+500,Hi()))}break;case 13:dc((function(){var t=js(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=js(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=js(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},At=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=uc,Re=dc;var tu={usingClientEntryPoint:!1,Events:[wi,xi,_i,Ee,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{st=iu.inject(ru),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[gi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[gi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>vd,hasStandardBrowserEnv:()=>yd,hasStandardBrowserWebWorkerEnv:()=>wd,navigator:()=>bd,origin:()=>xd});var i={};n.r(i),n.d(i,{dU:()=>nA,ng:()=>gp,EA:()=>cx,Tm:()=>U_,D6:()=>w_,YE:()=>D_});var s,a=n(43),o=n.t(a,2),l=n(391);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=s.Pop,h=null,m=v();function v(){return(o.state||{idx:null}).idx}function b(){l=s.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function y(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(c({},o.state,{idx:m}),""));let w={get action(){return l},get location(){return e(i,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,b),h=e,()=>{i.removeEventListener(u,b),h=null}},createHref:e=>t(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=s.Push;let r=p(w.location,e,t);n&&n(r,e),m=v()+1;let c=f(r,m),u=w.createHref(r);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=s.Replace;let r=p(w.location,e,t);n&&n(r,e),m=v();let i=f(r,m),c=w.createHref(r);o.replaceState(i,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=L(i);a=T(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=W([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=_(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,k=3,A=2,E=1,C=10,M=-2,R=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=M),t&&(r+=A),n.filter((e=>!R(e))).reduce(((e,t)=>e+(S.test(t)?k:""===t?E:C)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:W([s,u.pathname]),pathnameBase:B(W([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=W([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=I(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:U(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const W=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],G=(new Set(V),["get",...V]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const K=a.createContext(null);const X=a.createContext(null);const Y=a.createContext(null);const Q=a.createContext(null);const $=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function Z(){return null!=a.useContext(Q)}function ee(){return Z()||d(!1),a.useContext(Q).location}function te(e){a.useContext(Y).static||a.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=a.useContext($);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=a.useRef(!1);te((()=>{n.current=!0}));let r=a.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||d(!1);let e=a.useContext(K),{basename:t,future:n,navigator:r}=a.useContext(Y),{matches:i}=a.useContext($),{pathname:s}=ee(),o=JSON.stringify(O(i,n.v7_relativeSplatPath)),l=a.useRef(!1);te((()=>{l.current=!0}));let c=a.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=F(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:W([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,o,s,e]);return c}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(Y),{matches:i}=a.useContext($),{pathname:s}=ee(),o=JSON.stringify(O(i,r.v7_relativeSplatPath));return a.useMemo((()=>F(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function ie(e,t,n,r){Z()||d(!1);let{navigator:i}=a.useContext(Y),{matches:o}=a.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?m(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let w=ce(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:W([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:W([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&w?a.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:s.Pop}},w):w}function se(){let e=function(){var e;let t=a.useContext(J),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const ae=a.createElement(se,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement($.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement($.Provider,{value:t},r)}function ce(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let s,d=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===i?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,i+1)),m=()=>{let t;return t=s?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(le,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=a.useContext(K);return t||d(!1),t}function fe(e){let t=a.useContext(X);return t||d(!1),t}function pe(e){let t=function(){let e=a.useContext($);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;Z()||d(!1);let{future:s,static:o}=a.useContext(Y),{matches:l}=a.useContext($),{pathname:c}=ee(),u=ne(),h=F(t,O(l,s.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(h);return a.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:i})),[u,f,i,n,r]),null}function be(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:r,navigationType:i=s.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo((()=>({basename:u,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof r&&(r=m(r));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:b="default"}=r,y=a.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:b},navigationType:i}}),[u,f,p,g,v,b,i]);return null==y?null:a.createElement(Y.Provider,{value:h},a.createElement(Q.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return ie(xe(t),n)}new Promise((()=>{}));a.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,xe(e.props.children,i));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=xe(e.props.children,i)),n.push(s)})),n}var _e=n(950),Se=n.t(_e,2);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(zN){}new Map;const Ce=o.startTransition;Se.flushSync,o.useId;function Me(e){let{basename:t,children:n,future:r,window:i}=e,s=a.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,e)}({window:i,v5Compat:!0}));let o=s.current,[l,c]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=a.useCallback((e=>{u&&Ce?Ce((()=>c(e))):c(e)}),[c,u]);return a.useLayoutEffect((()=>o.listen(d)),[o,d]),a.useEffect((()=>me(r)),[r]),a.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Re="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=a.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ae(e,Ee),{basename:m}=a.useContext(Y),v=!1;if("string"===typeof u&&Ne.test(u)&&(n=u,Re))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(zN){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:i}=a.useContext(Y),{hash:s,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:W([r,o])),i.createHref({pathname:c,search:l,hash:s})}(u,{relative:i}),y=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:o});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l})}}),[u,c,d,r,i,n,e,s,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});return a.createElement("a",ke({},p,{href:n||b,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Pe,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function je(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function Ie(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Be(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=Be(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():Be(t[e],null)}}}}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useCallback(ze(...t),t)}var He=n(579);const Ve=["children"],Ge=["children"];function qe(e){const t=Xe(e),n=a.forwardRef(((e,n)=>{const{children:r}=e,i=We(e,Ve),s=a.Children.toArray(r),o=s.find(Qe);if(o){const e=o.props.children,r=s.map((t=>t===o?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t));return(0,He.jsx)(t,Fe(Fe({},i),{},{ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null}))}return(0,He.jsx)(t,Fe(Fe({},i),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}var Ke=qe("Slot");function Xe(e){const t=a.forwardRef(((e,t)=>{const{children:n}=e,r=We(e,Ge);if(a.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=Fe({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){const e=s(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=Fe(Fe({},i),s):"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return Fe(Fe({},e),n)}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?ze(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}var Ye=Symbol("radix.slottable");function Qe(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ye}function $e(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$e(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$e(e))&&(r&&(r+=" "),r+=t);return r}const Ze=Je,et=["class","className"],tt=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,nt=Je,rt=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return nt(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map((e=>{const t=null===n||void 0===n?void 0:n[e],r=null===s||void 0===s?void 0:s[e];if(null===t)return null;const a=tt(t)||tt(r);return i[e][a]})),o=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r}=t,i=We(t,et);return Object.entries(i).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes(Fe(Fe({},s),o)[t]):Fe(Fe({},s),o)[t]===n}))?[...e,n,r]:e}),[]);return nt(e,a,l,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},it=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),s=i?it(e.slice(1),i):void 0;if(s)return s;if(0===t.validators.length)return;const a=e.join("-");return null===(n=t.validators.find((e=>{let{validator:t}=e;return t(a)})))||void 0===n?void 0:n.classGroupId},st=/^\[(.+)\]$/,at=e=>{if(st.test(e)){const t=st.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ot=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return dt(Object.entries(e.classGroups),n).forEach((e=>{let[n,i]=e;lt(i,r,n,t)})),r},lt=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return ut(e)?void lt(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,s]=e;lt(s,ct(t,i),n,r)}))}else{(""===e?t:ct(t,e)).classGroupId=n}}))},ct=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},ut=e=>e.isThemeGetter,dt=(e,t)=>t?e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]})):e,ht=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},ft=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===i&&(r||e.slice(d,d+s)===t)){n.push(e.slice(l,d)),l=d+s;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},pt=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},gt=e=>Fe({cache:ht(e.cacheSize),parseClassName:ft(e)},(e=>{const t=ot(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),it(n,t)||at(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),mt=/\s+/;function vt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=bt(e))&&(r&&(r+=" "),r+=t);return r}const bt=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=bt(e[r]))&&(n&&(n+=" "),n+=t);return n};function yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,s,a,o=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=gt(r),s=i.cache.get,a=i.cache.set,o=l,l(t)};function l(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(mt);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=r(u),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=pt(t).join(":"),g=c?p+"!":p,m=g+f;if(s.includes(m))continue;s.push(m);const v=i(f,h);for(let n=0;n<v.length;++n){const e=v[n];s.push(g+e)}o=e+(o.length>0?" "+o:o)}return o})(e,i);return a(e,n),n}return function(){return o(vt.apply(null,arguments))}}const wt=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},xt=/^\[(?:([a-z-]+):)?(.+)\]$/i,_t=/^\d+\/\d+$/,St=new Set(["px","full","screen"]),kt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,At=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Et=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ct=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rt=e=>Tt(e)||St.has(e)||_t.test(e),Nt=e=>Vt(e,"length",Gt),Tt=e=>Boolean(e)&&!Number.isNaN(Number(e)),Pt=e=>Vt(e,"number",Tt),Lt=e=>Boolean(e)&&Number.isInteger(Number(e)),Dt=e=>e.endsWith("%")&&Tt(e.slice(0,-1)),jt=e=>xt.test(e),It=e=>kt.test(e),Ot=new Set(["length","size","percentage"]),Ft=e=>Vt(e,Ot,qt),Wt=e=>Vt(e,"position",qt),Bt=new Set(["image","url"]),zt=e=>Vt(e,Bt,Xt),Ut=e=>Vt(e,"",Kt),Ht=()=>!0,Vt=(e,t,n)=>{const r=xt.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Gt=e=>At.test(e)&&!Et.test(e),qt=()=>!1,Kt=e=>Ct.test(e),Xt=e=>Mt.test(e),Yt=(Symbol.toStringTag,()=>{const e=wt("colors"),t=wt("spacing"),n=wt("blur"),r=wt("brightness"),i=wt("borderColor"),s=wt("borderRadius"),a=wt("borderSpacing"),o=wt("borderWidth"),l=wt("contrast"),c=wt("grayscale"),u=wt("hueRotate"),d=wt("invert"),h=wt("gap"),f=wt("gradientColorStops"),p=wt("gradientColorStopPositions"),g=wt("inset"),m=wt("margin"),v=wt("opacity"),b=wt("padding"),y=wt("saturate"),w=wt("scale"),x=wt("sepia"),_=wt("skew"),S=wt("space"),k=wt("translate"),A=()=>["auto",jt,t],E=()=>[jt,t],C=()=>["",Rt,Nt],M=()=>["auto",Tt,jt],R=()=>["","0",jt],N=()=>[Tt,jt];return{cacheSize:500,separator:":",theme:{colors:[Ht],spacing:[Rt,Nt],blur:["none","",It,jt],brightness:N(),borderColor:[e],borderRadius:["none","","full",It,jt],borderSpacing:E(),borderWidth:C(),contrast:N(),grayscale:R(),hueRotate:N(),invert:R(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Dt,Nt],inset:A(),margin:A(),opacity:N(),padding:E(),saturate:N(),scale:N(),sepia:R(),skew:N(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",jt]}],container:["container"],columns:[{columns:[It]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",jt]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lt,jt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Lt,jt]}],"grid-cols":[{"grid-cols":[Ht]}],"col-start-end":[{col:["auto",{span:["full",Lt,jt]},jt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ht]}],"row-start-end":[{row:["auto",{span:[Lt,jt]},jt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jt,t]}],"min-w":[{"min-w":[jt,t,"min","max","fit"]}],"max-w":[{"max-w":[jt,t,"none","full","min","max","fit","prose",{screen:[It]},It]}],h:[{h:[jt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",It,Nt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pt]}],"font-family":[{font:[Ht]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jt]}],"line-clamp":[{"line-clamp":["none",Tt,Pt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rt,jt]}],"list-image":[{"list-image":["none",jt]}],"list-style-type":[{list:["none","disc","decimal",jt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rt,Nt]}],"underline-offset":[{"underline-offset":["auto",Rt,jt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Wt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ft]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Rt,jt]}],"outline-w":[{outline:[Rt,Nt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Rt,Nt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",It,Ut]}],"shadow-color":[{shadow:[Ht]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",It,jt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jt]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",jt]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",jt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Lt,jt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rt,Nt,Pt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),Qt=yt(Yt);function $t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qt(Je(t))}const Jt=["className","variant","size","asChild"],Zt=rt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),en=a.forwardRef(((e,t)=>{let{className:n,variant:r,size:i,asChild:s=!1}=e,a=We(e,Jt);const o=s?Ke:"button";return(0,He.jsx)(o,Fe({className:$t(Zt({variant:r,size:i,className:n})),ref:t},a))}));en.displayName="Button";const tn=(0,a.createContext)(void 0);function nn(e){let{children:t}=e;const[n,r]=(0,a.useState)((()=>localStorage.getItem("theme")||"light"));return(0,a.useEffect)((()=>{localStorage.setItem("theme",n),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(n)}),[n]),(0,He.jsx)(tn.Provider,{value:{theme:n,setTheme:r},children:t})}var rn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sn=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],an=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u}=n,d=We(n,sn);return(0,a.createElement)("svg",Fe(Fe({ref:r},rn),{},{width:s,height:s,stroke:i,strokeWidth:l?24*Number(o)/Number(s):o,className:["lucide","lucide-".concat((h=e,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},d),[...t.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...Array.isArray(u)?u:[u]]);var h}));return n.displayName="".concat(e),n},on=an("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ln=an("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);function cn(){const{theme:e,setTheme:t}=function(){const e=(0,a.useContext)(tn);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}();return(0,He.jsxs)(en,{variant:"ghost",size:"icon",onClick:()=>t("light"===e?"dark":"light"),children:[(0,He.jsx)(on,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,He.jsx)(ln,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,He.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}const un=["scope","children"];function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const r=()=>{const t=n.map((e=>a.createContext(e)));return function(n){const r=(null===n||void 0===n?void 0:n[e])||t;return a.useMemo((()=>({["__scope".concat(e)]:Fe(Fe({},n),{},{[e]:r})})),[n,r])}};return r.scopeName=e,[function(t,r){const i=a.createContext(r),s=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o}=t,l=We(t,un),c=(null===r||void 0===r||null===(n=r[e])||void 0===n?void 0:n[s])||i,u=a.useMemo((()=>l),Object.values(l));return(0,He.jsx)(c.Provider,{value:u,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var l;const c=(null===o||void 0===o||null===(l=o[e])||void 0===l?void 0:l[s])||i,u=a.useContext(c);if(u)return u;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},hn(r,...t)]}function hn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:r,scopeName:i}=n;const s=r(t)["__scope".concat(i)];return Fe(Fe({},e),s)}),{});return a.useMemo((()=>({["__scope".concat(r.scopeName)]:n})),[n])}};return i.scopeName=r.scopeName,i}function fn(e){const t=a.useRef(e);return a.useEffect((()=>{t.current=e})),a.useMemo((()=>function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)}),[])}var pn=null!==globalThis&&void 0!==globalThis&&globalThis.document?a.useLayoutEffect:()=>{};const gn=["asChild"];var mn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((e,t)=>{const n=qe("Primitive.".concat(t)),r=a.forwardRef(((e,r)=>{const{asChild:i}=e,s=We(e,gn),a=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,He.jsx)(a,Fe(Fe({},s),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),Fe(Fe({},e),{},{[t]:r})}),{});function vn(e,t){e&&_e.flushSync((()=>e.dispatchEvent(t)))}var bn=n(461);function yn(){return()=>{}}const wn=["__scopeAvatar"],xn=["__scopeAvatar","src","onLoadingStatusChange"],_n=["__scopeAvatar","delayMs"];var Sn="Avatar",[kn,An]=dn(Sn),[En,Cn]=kn(Sn),Mn=a.forwardRef(((e,t)=>{const{__scopeAvatar:n}=e,r=We(e,wn),[i,s]=a.useState("idle");return(0,He.jsx)(En,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:(0,He.jsx)(mn.span,Fe(Fe({},r),{},{ref:t}))})}));Mn.displayName=Sn;var Rn="AvatarImage",Nn=a.forwardRef(((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{}}=e,s=We(e,xn),o=Cn(Rn,n),l=function(e,t){let{referrerPolicy:n,crossOrigin:r}=t;const i=(0,bn.useSyncExternalStore)(yn,(()=>!0),(()=>!1)),s=a.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[l,c]=a.useState((()=>Ln(o,e)));return pn((()=>{c(Ln(o,e))}),[o,e]),pn((()=>{const e=e=>()=>{c(e)};if(!o)return;const t=e("loaded"),i=e("error");return o.addEventListener("load",t),o.addEventListener("error",i),n&&(o.referrerPolicy=n),"string"===typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",t),o.removeEventListener("error",i)}}),[o,r,n]),l}(r,s),c=fn((e=>{i(e),o.onImageLoadingStatusChange(e)}));return pn((()=>{"idle"!==l&&c(l)}),[l,c]),"loaded"===l?(0,He.jsx)(mn.img,Fe(Fe({},s),{},{ref:t,src:r})):null}));Nn.displayName=Rn;var Tn="AvatarFallback",Pn=a.forwardRef(((e,t)=>{const{__scopeAvatar:n,delayMs:r}=e,i=We(e,_n),s=Cn(Tn,n),[o,l]=a.useState(void 0===r);return a.useEffect((()=>{if(void 0!==r){const e=window.setTimeout((()=>l(!0)),r);return()=>window.clearTimeout(e)}}),[r]),o&&"loaded"!==s.imageLoadingStatus?(0,He.jsx)(mn.span,Fe(Fe({},i),{},{ref:t})):null}));function Ln(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}Pn.displayName=Tn;var Dn=Mn,jn=Nn,In=Pn;const On=["className"],Fn=["className"],Wn=["className"],Bn=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,On);return(0,He.jsx)(Dn,Fe({ref:t,className:$t("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n)},r))}));Bn.displayName=Dn.displayName;const zn=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Fn);return(0,He.jsx)(jn,Fe({ref:t,className:$t("aspect-square h-full w-full",n)},r))}));zn.displayName=jn.displayName;const Un=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Wn);return(0,He.jsx)(In,Fe({ref:t,className:$t("flex h-full w-full items-center justify-center rounded-full bg-muted",n)},r))}));function Hn(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}Un.displayName=In.displayName;var Vn=o[" useInsertionEffect ".trim().toString()]||pn;function Gn(e){let{prop:t,defaultProp:n,onChange:r=()=>{},caller:i}=e;const[s,o,l]=function(e){let{defaultProp:t,onChange:n}=e;const[r,i]=a.useState(t),s=a.useRef(r),o=a.useRef(n);return Vn((()=>{o.current=n}),[n]),a.useEffect((()=>{var e;s.current!==r&&(null===(e=o.current)||void 0===e||e.call(o,r),s.current=r)}),[r,s]),[r,i,o]}({defaultProp:n,onChange:r}),c=void 0!==t,u=c?t:s;{const e=a.useRef(void 0!==t);a.useEffect((()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c}),[c,i])}const d=a.useCallback((e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(t):e;var n;if(r!==t)null===(n=l.current)||void 0===n||n.call(l,r)}else o(e)}),[c,t,o,l]);return[u,d]}var qn;Symbol("RADIX:SYNC_STATE");function Kn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xn(e,t,n){Kn(e,t),t.set(e,n)}function Yn(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Qn(e,t){return e.get(Yn(e,t))}function $n(e,t,n){return e.set(Yn(e,t),n),n}const Jn=["scope","children"];function Zn(e){const t=e+"CollectionProvider",[n,r]=dn(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=a.useRef(null),s=a.useRef(new Map).current;return(0,He.jsx)(i,{scope:t,itemMap:s,collectionRef:r,children:n})};o.displayName=t;const l=e+"CollectionSlot",c=qe(l),u=a.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=Ue(t,s(l,n).collectionRef);return(0,He.jsx)(c,{ref:i,children:r})}));u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=qe(d),p=a.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=We(e,Jn),o=a.useRef(null),l=Ue(t,o),c=s(d,n);return a.useEffect((()=>(c.itemMap.set(o,Fe({ref:o},i)),()=>{c.itemMap.delete(o)}))),(0,He.jsx)(f,Fe(Fe({},{[h]:""}),{},{ref:l,children:r}))}));return p.displayName=d,[{Provider:o,Slot:u,ItemSlot:p},function(t){const n=s(e+"CollectionConsumer",t);return a.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},r]}var er=new WeakMap;qn=new WeakMap,Map;function tr(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=nr(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function nr(e){return e!==e||0===e?0:Math.trunc(e)}var rr=a.createContext(void 0);function ir(e){const t=a.useContext(rr);return e||t||"ltr"}const sr=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var ar,or="dismissableLayer.update",lr="dismissableLayer.pointerDownOutside",cr="dismissableLayer.focusOutside",ur=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dr=a.forwardRef(((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=e,u=We(e,sr),d=a.useContext(ur),[h,f]=a.useState(null),p=null!==(n=null===h||void 0===h?void 0:h.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=a.useState({}),m=Ue(t,(e=>f(e))),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),w=h?v.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=fn(e),r=a.useRef(!1),i=a.useRef((()=>{}));return a.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){pr(lr,n,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...d.branches].some((e=>e.contains(t)));_&&!n&&(null===s||void 0===s||s(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())}),p),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=fn(e),r=a.useRef(!1);return a.useEffect((()=>{const e=e=>{if(e.target&&!r.current){pr(cr,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...d.branches].some((e=>e.contains(t)))||(null===o||void 0===o||o(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())}),p);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=fn(e);a.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{w===d.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))}),p),a.useEffect((()=>{if(h)return r&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(ar=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),fr(),()=>{r&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=ar)}}),[h,p,r,d]),a.useEffect((()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),fr())}),[h,d]),a.useEffect((()=>{const e=()=>g({});return document.addEventListener(or,e),()=>document.removeEventListener(or,e)}),[]),(0,He.jsx)(mn.div,Fe(Fe({},u),{},{ref:m,style:Fe({pointerEvents:x?_?"auto":"none":void 0},e.style),onFocusCapture:Hn(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Hn(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Hn(e.onPointerDownCapture,S.onPointerDownCapture)}))}));dr.displayName="DismissableLayer";var hr=a.forwardRef(((e,t)=>{const n=a.useContext(ur),r=a.useRef(null),i=Ue(t,r);return a.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),(0,He.jsx)(mn.div,Fe(Fe({},e),{},{ref:i}))}));function fr(){const e=new CustomEvent(or);document.dispatchEvent(e)}function pr(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?vn(s,a):s.dispatchEvent(a)}hr.displayName="DismissableLayerBranch";var gr=0;function mr(){a.useEffect((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:vr()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:vr()),gr++,()=>{1===gr&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),gr--}}),[])}function vr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const br=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var yr="focusScope.autoFocusOnMount",wr="focusScope.autoFocusOnUnmount",xr={bubbles:!1,cancelable:!0},_r=a.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s}=e,o=We(e,br),[l,c]=a.useState(null),u=fn(i),d=fn(s),h=a.useRef(null),f=Ue(t,(e=>c(e))),p=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect((()=>{if(r){let e=function(e){if(p.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:Er(h.current,{select:!0})},t=function(e){if(p.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Er(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Er(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,l,p.paused]),a.useEffect((()=>{if(l){Cr.add(p);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(yr,xr);l.addEventListener(yr,u),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(Er(r,{select:t}),document.activeElement!==n)return}((e=Sr(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&Er(l))}return()=>{l.removeEventListener(yr,u),setTimeout((()=>{const e=new CustomEvent(wr,xr);l.addEventListener(wr,d),l.dispatchEvent(e),e.defaultPrevented||Er(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(wr,d),Cr.remove(p)}),0)}}var e}),[l,u,d,p]);const g=a.useCallback((e=>{if(!n&&!r)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,s]=function(e){const t=Sr(e),n=kr(t,e),r=kr(t.reverse(),e);return[n,r]}(t);r&&s?e.shiftKey||i!==s?e.shiftKey&&i===r&&(e.preventDefault(),n&&Er(s,{select:!0})):(e.preventDefault(),n&&Er(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,p.paused]);return(0,He.jsx)(mn.div,Fe(Fe({tabIndex:-1},o),{},{ref:f,onKeyDown:g}))}));function Sr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kr(e,t){for(const n of e)if(!Ar(n,{upTo:t}))return n}function Ar(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Er(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}_r.displayName="FocusScope";var Cr=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=Mr(e,t),e.unshift(t)},remove(t){var n;e=Mr(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function Mr(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Rr=o[" useId ".trim().toString()]||(()=>{}),Nr=0;function Tr(e){const[t,n]=a.useState(Rr());return pn((()=>{e||n((e=>null!==e&&void 0!==e?e:String(Nr++)))}),[e]),e||(t?"radix-".concat(t):"")}const Pr=["top","right","bottom","left"],Lr=Math.min,Dr=Math.max,jr=Math.round,Ir=Math.floor,Or=e=>({x:e,y:e}),Fr={left:"right",right:"left",bottom:"top",top:"bottom"},Wr={start:"end",end:"start"};function Br(e,t,n){return Dr(e,Lr(t,n))}function zr(e,t){return"function"===typeof e?e(t):e}function Ur(e){return e.split("-")[0]}function Hr(e){return e.split("-")[1]}function Vr(e){return"x"===e?"y":"x"}function Gr(e){return"y"===e?"height":"width"}function qr(e){return["top","bottom"].includes(Ur(e))?"y":"x"}function Kr(e){return Vr(qr(e))}function Xr(e){return e.replace(/start|end/g,(e=>Wr[e]))}function Yr(e){return e.replace(/left|right|bottom|top/g,(e=>Fr[e]))}function Qr(e){return"number"!==typeof e?function(e){return Fe({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function $r(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const Jr=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Zr=["strategy"],ei=["mainAxis","crossAxis","limiter"],ti=["apply"];function ni(e,t,n){let{reference:r,floating:i}=e;const s=qr(t),a=Kr(t),o=Gr(a),l=Ur(t),c="y"===s,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Hr(t)){case"start":f[a]-=h*(n&&c?-1:1);break;case"end":f[a]+=h*(n&&c?-1:1)}return f}async function ri(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=zr(t,e),p=Qr(f),g=o[h?"floating"===d?"reference":"floating":d],m=$r(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),y=await(null==s.isElement?void 0:s.isElement(b))&&await(null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},w=$r(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-w.top+p.top)/y.y,bottom:(w.bottom-m.bottom+p.bottom)/y.y,left:(m.left-w.left+p.left)/y.x,right:(w.right-m.right+p.right)/y.x}}function ii(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function si(e){return Pr.some((t=>e[t]>=0))}function ai(){return"undefined"!==typeof window}function oi(e){return ui(e)?(e.nodeName||"").toLowerCase():"#document"}function li(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ci(e){var t;return null==(t=(ui(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ui(e){return!!ai()&&(e instanceof Node||e instanceof li(e).Node)}function di(e){return!!ai()&&(e instanceof Element||e instanceof li(e).Element)}function hi(e){return!!ai()&&(e instanceof HTMLElement||e instanceof li(e).HTMLElement)}function fi(e){return!(!ai()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof li(e).ShadowRoot)}function pi(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function gi(e){return["table","td","th"].includes(oi(e))}function mi(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(zN){return!1}}))}function vi(e){const t=bi(),n=di(e)?wi(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function bi(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function yi(e){return["html","body","#document"].includes(oi(e))}function wi(e){return li(e).getComputedStyle(e)}function xi(e){return di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _i(e){if("html"===oi(e))return e;const t=e.assignedSlot||e.parentNode||fi(e)&&e.host||ci(e);return fi(t)?t.host:t}function Si(e){const t=_i(e);return yi(t)?e.ownerDocument?e.ownerDocument.body:e.body:hi(t)&&pi(t)?t:Si(t)}function ki(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Si(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),a=li(i);if(s){const e=Ai(a);return t.concat(a,a.visualViewport||[],pi(i)?i:[],e&&n?ki(e):[])}return t.concat(i,ki(i,[],n))}function Ai(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ei(e){const t=wi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=hi(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=jr(n)!==s||jr(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Ci(e){return di(e)?e:e.contextElement}function Mi(e){const t=Ci(e);if(!hi(t))return Or(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Ei(t);let a=(s?jr(n.width):n.width)/r,o=(s?jr(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const Ri=Or(0);function Ni(e){const t=li(e);return bi()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ri}function Ti(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=Ci(e);let a=Or(1);t&&(r?di(r)&&(a=Mi(r)):a=Mi(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==li(e))&&t}(s,n,r)?Ni(s):Or(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const e=li(s),t=r&&di(r)?li(r):r;let n=e,i=Ai(n);for(;i&&r&&t!==n;){const e=Mi(i),t=i.getBoundingClientRect(),r=wi(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=s,c+=a,n=li(i),i=Ai(n)}}return $r({width:u,height:d,x:l,y:c})}function Pi(e,t){const n=xi(e).scrollLeft;return t?t.left+n:Ti(ci(e)).left+n}function Li(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Pi(e,r)),y:r.top+t.scrollTop}}function Di(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=li(e),r=ci(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const e=bi();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=ci(e),n=xi(e),r=e.ownerDocument.body,i=Dr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Dr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Pi(e);const o=-n.scrollTop;return"rtl"===wi(r).direction&&(a+=Dr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}(ci(e));else if(di(t))r=function(e,t){const n=Ti(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=hi(e)?Mi(e):Or(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=Ni(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return $r(r)}function ji(e,t){const n=_i(e);return!(n===t||!di(n)||yi(n))&&("fixed"===wi(n).position||ji(n,t))}function Ii(e,t,n){const r=hi(t),i=ci(t),s="fixed"===n,a=Ti(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Or(0);function c(){l.x=Pi(i)}if(r||!r&&!s)if(("body"!==oi(t)||pi(i))&&(o=xi(t)),r){const e=Ti(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();s&&!r&&i&&c();const u=!i||r||s?Or(0):Li(i,o);return{x:a.left+o.scrollLeft-l.x-u.x,y:a.top+o.scrollTop-l.y-u.y,width:a.width,height:a.height}}function Oi(e){return"static"===wi(e).position}function Fi(e,t){if(!hi(e)||"fixed"===wi(e).position)return null;if(t)return t(e);let n=e.offsetParent;return ci(e)===n&&(n=n.ownerDocument.body),n}function Wi(e,t){const n=li(e);if(mi(e))return n;if(!hi(e)){let t=_i(e);for(;t&&!yi(t);){if(di(t)&&!Oi(t))return t;t=_i(t)}return n}let r=Fi(e,t);for(;r&&gi(r)&&Oi(r);)r=Fi(r,t);return r&&yi(r)&&Oi(r)&&!vi(r)?n:r||function(e){let t=_i(e);for(;hi(t)&&!yi(t);){if(vi(t))return t;if(mi(t))return null;t=_i(t)}return null}(e)||n}const Bi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,a=ci(r),o=!!t&&mi(t.floating);if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Or(1);const u=Or(0),d=hi(r);if((d||!d&&!s)&&(("body"!==oi(r)||pi(a))&&(l=xi(r)),hi(r))){const e=Ti(r);c=Mi(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!a||d||s?Or(0):Li(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:ci,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[..."clippingAncestors"===n?mi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=ki(e,[],!1).filter((e=>di(e)&&"body"!==oi(e))),i=null;const s="fixed"===wi(e).position;let a=s?_i(e):e;for(;di(a)&&!yi(a);){const t=wi(a),n=vi(a);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||pi(a)&&!n&&ji(e,a))?r=r.filter((e=>e!==a)):i=t,a=_i(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=s[0],o=s.reduce(((e,n)=>{const r=Di(t,n,i);return e.top=Dr(r.top,e.top),e.right=Lr(r.right,e.right),e.bottom=Lr(r.bottom,e.bottom),e.left=Dr(r.left,e.left),e}),Di(t,a,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Wi,getElementRects:async function(e){const t=this.getOffsetParent||Wi,n=this.getDimensions,r=await n(e.floating);return{reference:Ii(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ei(e);return{width:t,height:n}},getScale:Mi,isElement:di,isRTL:function(e){return"rtl"===wi(e).direction}};function zi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ui(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=Ci(e),u=i||s?[...c?ki(c):[],...ki(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const d=c&&o?function(e,t){let n,r=null;const i=ci(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||t(),!h||!f)return;const p={rootMargin:-Ir(d)+"px "+-Ir(i.clientWidth-(u+h))+"px "+-Ir(i.clientHeight-(d+f))+"px "+-Ir(u)+"px",threshold:Dr(0,Lr(1,l))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||zi(c,e.getBoundingClientRect())||a(),g=!1}try{r=new IntersectionObserver(m,Fe(Fe({},p),{},{root:i.ownerDocument}))}catch(v){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),s}(c,n):null;let h,f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let g=l?Ti(e):null;return l&&function t(){const r=Ti(e);g&&!zi(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Hi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=Ur(n),o=Hr(n),l="y"===qr(n),c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=zr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"===typeof p&&(f="end"===o?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return a===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:Fe(Fe({},l),{},{placement:a})}}}},Vi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,s=zr(e,t),{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=s,c=We(s,ei),u={x:n,y:r},d=await ri(t,c),h=qr(Ur(i)),f=Vr(h);let p=u[f],g=u[h];if(a){const e="y"===f?"bottom":"right";p=Br(p+d["y"===f?"top":"left"],p,p-d[e])}if(o){const e="y"===h?"bottom":"right";g=Br(g+d["y"===h?"top":"left"],g,g-d[e])}const m=l.fn(Fe(Fe({},t),{},{[f]:p,[h]:g}));return Fe(Fe({},m),{},{data:{x:m.x-n,y:m.y-r,enabled:{[f]:a,[h]:o}}})}}},Gi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,u=zr(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0}=u,v=We(u,Jr);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const b=Ur(i),y=qr(o),w=Ur(o)===o,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),_=f||(w||!m?[Yr(o)]:function(e){const t=Yr(e);return[Xr(e),t,Xr(t)]}(o)),S="none"!==g;!f&&S&&_.push(...function(e,t,n,r){const i=Hr(e);let s=function(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}(Ur(e),"start"===n,r);return i&&(s=s.map((e=>e+"-"+i)),t&&(s=s.concat(s.map(Xr)))),s}(o,m,g,x));const k=[o,..._],A=await ri(t,v),E=[];let C=(null==(r=s.flip)?void 0:r.overflows)||[];if(d&&E.push(A[b]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=Hr(e),i=Kr(e),s=Gr(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Yr(a)),[a,Yr(a)]}(i,a,x);E.push(A[e[0]],A[e[1]])}if(C=[...C,{placement:i,overflows:E}],!E.every((e=>e<=0))){var M,R;const e=((null==(M=s.flip)?void 0:M.index)||0)+1,t=k[e];if(t){if(!("alignment"===h&&y!==qr(t))||C.every((e=>e.overflows[0]>0&&qr(e.placement)===y)))return{data:{index:e,overflows:C},reset:{placement:t}}}let n=null==(R=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:R.placement;if(!n)switch(p){case"bestFit":{var N;const e=null==(N=C.filter((e=>{if(S){const t=qr(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},qi=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,l=zr(e,t),{apply:c=()=>{}}=l,u=We(l,ti),d=await ri(t,u),h=Ur(i),f=Hr(i),p="y"===qr(i),{width:g,height:m}=s.floating;let v,b;"top"===h||"bottom"===h?(v=h,b=f===(await(null==a.isRTL?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(b=h,v="end"===f?"top":"bottom");const y=m-d.top-d.bottom,w=g-d.left-d.right,x=Lr(m-d[v],y),_=Lr(g-d[b],w),S=!t.middlewareData.shift;let k=x,A=_;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(A=w),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=y),S&&!f){const e=Dr(d.left,0),t=Dr(d.right,0),n=Dr(d.top,0),r=Dr(d.bottom,0);p?A=g-2*(0!==e||0!==t?e+t:Dr(d.left,d.right)):k=m-2*(0!==n||0!==r?n+r:Dr(d.top,d.bottom))}await c(Fe(Fe({},t),{},{availableWidth:A,availableHeight:k}));const E=await a.getDimensions(o.floating);return g!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}},Ki=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=zr(e,t),{strategy:i="referenceHidden"}=r,s=We(r,Zr);switch(i){case"referenceHidden":{const e=ii(await ri(t,Fe(Fe({},s),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:si(e)}}}case"escaped":{const e=ii(await ri(t,Fe(Fe({},s),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:si(e)}}}default:return{}}}}},Xi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=zr(e,t)||{};if(null==c)return{};const d=Qr(u),h={x:n,y:r},f=Kr(i),p=Gr(f),g=await a.getDimensions(c),m="y"===f,v=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-h[f]-s.floating[p],x=h[f]-s.reference[f],_=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let S=_?_[y]:0;S&&await(null==a.isElement?void 0:a.isElement(_))||(S=o.floating[y]||s.floating[p]);const k=w/2-x/2,A=S/2-g[p]/2-1,E=Lr(d[v],A),C=Lr(d[b],A),M=E,R=S-g[p]-C,N=S/2-g[p]/2+k,T=Br(M,N,R),P=!l.arrow&&null!=Hr(i)&&N!==T&&s.reference[p]/2-(N<M?E:C)-g[p]/2<0,L=P?N<M?N-M:N-R:0;return{[f]:h[f]+L,data:Fe({[f]:T,centerOffset:N-T-L},P&&{alignmentOffset:L}),reset:P}}}),Yi=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=zr(e,t),u={x:n,y:r},d=qr(i),h=Vr(d);let f=u[h],p=u[d];const g=zr(o,t),m="number"===typeof g?{mainAxis:g,crossAxis:0}:Fe({mainAxis:0,crossAxis:0},g);if(l){const e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+m.mainAxis,n=s.reference[h]+s.reference[e]-m.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var v,b;const e="y"===h?"width":"height",t=["top","left"].includes(Ur(i)),n=s.reference[d]-s.floating[e]+(t&&(null==(v=a.offset)?void 0:v[d])||0)+(t?0:m.crossAxis),r=s.reference[d]+s.reference[e]+(t?0:(null==(b=a.offset)?void 0:b[d])||0)-(t?m.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[h]:f,[d]:p}}}},Qi=(e,t,n)=>{const r=new Map,i=Fe({platform:Bi},n),s=Fe(Fe({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ni(c,r,l),h=r,f={},p=0;for(let g=0;g<o.length;g++){const{name:n,fn:s}=o[g],{x:m,y:v,data:b,reset:y}=await s({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=v?v:d,f=Fe(Fe({},f),{},{[n]:Fe(Fe({},f[n]),b)}),y&&p<=50&&(p++,"object"===typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:u,y:d}=ni(c,h,l))),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,Fe(Fe({},i),{},{platform:s}))};var $i="undefined"!==typeof document?a.useLayoutEffect:function(){};function Ji(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Ji(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Ji(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Zi(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function es(e,t){const n=Zi(e);return Math.round(t*n)/n}function ts(e){const t=a.useRef(e);return $i((()=>{t.current=e})),t}const ns=(e,t)=>Fe(Fe({},Hi(e)),{},{options:[e,t]}),rs=(e,t)=>Fe(Fe({},Vi(e)),{},{options:[e,t]}),is=(e,t)=>Fe(Fe({},Yi(e)),{},{options:[e,t]}),ss=(e,t)=>Fe(Fe({},Gi(e)),{},{options:[e,t]}),as=(e,t)=>Fe(Fe({},qi(e)),{},{options:[e,t]}),os=(e,t)=>Fe(Fe({},Ki(e)),{},{options:[e,t]}),ls=(e,t)=>Fe(Fe({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?Xi({element:n.current,padding:r}).fn(t):{}:n?Xi({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),cs=["children","width","height"];var us=a.forwardRef(((e,t)=>{const{children:n,width:r=10,height:i=5}=e,s=We(e,cs);return(0,He.jsx)(mn.svg,Fe(Fe({},s),{},{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,He.jsx)("polygon",{points:"0,0 30,0 15,10"})}))}));us.displayName="Arrow";var ds=us;const hs=["__scopePopper","virtualRef"],fs=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],ps=["__scopePopper"];var gs="Popper",[ms,vs]=dn(gs),[bs,ys]=ms(gs),ws=e=>{const{__scopePopper:t,children:n}=e,[r,i]=a.useState(null);return(0,He.jsx)(bs,{scope:t,anchor:r,onAnchorChange:i,children:n})};ws.displayName=gs;var xs="PopperAnchor",_s=a.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:r}=e,i=We(e,hs),s=ys(xs,n),o=a.useRef(null),l=Ue(t,o);return a.useEffect((()=>{s.onAnchorChange((null===r||void 0===r?void 0:r.current)||o.current)})),r?null:(0,He.jsx)(mn.div,Fe(Fe({},i),{},{ref:l}))}));_s.displayName=xs;var Ss="PopperContent",[ks,As]=ms(Ss),Es=a.forwardRef(((e,t)=>{var n,r,i,s,o,l,c,u;const{__scopePopper:d,side:h="bottom",sideOffset:f=0,align:p="center",alignOffset:g=0,arrowPadding:m=0,avoidCollisions:v=!0,collisionBoundary:b=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:x=!1,updatePositionStrategy:_="optimized",onPlaced:S}=e,k=We(e,fs),A=ys(Ss,d),[E,C]=a.useState(null),M=Ue(t,(e=>C(e))),[R,N]=a.useState(null),T=function(e){const[t,n]=a.useState(void 0);return pn((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,s;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,s=t.blockSize}else i=e.offsetWidth,s=e.offsetHeight;n({width:i,height:s})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}(R),P=null!==(n=null===T||void 0===T?void 0:T.width)&&void 0!==n?n:0,L=null!==(r=null===T||void 0===T?void 0:T.height)&&void 0!==r?r:0,D=h+("center"!==p?"-"+p:""),j="number"===typeof y?y:Fe({top:0,right:0,bottom:0,left:0},y),I=Array.isArray(b)?b:[b],O=I.length>0,F={padding:j,boundary:I.filter(Ns),altBoundary:O},{refs:W,floatingStyles:B,placement:z,isPositioned:U,middlewareData:H}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=a.useState(r);Ji(f,r)||p(r);const[g,m]=a.useState(null),[v,b]=a.useState(null),y=a.useCallback((e=>{e!==S.current&&(S.current=e,m(e))}),[]),w=a.useCallback((e=>{e!==k.current&&(k.current=e,b(e))}),[]),x=s||g,_=o||v,S=a.useRef(null),k=a.useRef(null),A=a.useRef(d),E=null!=c,C=ts(c),M=ts(i),R=ts(u),N=a.useCallback((()=>{if(!S.current||!k.current)return;const e={placement:t,strategy:n,middleware:f};M.current&&(e.platform=M.current),Qi(S.current,k.current,e).then((e=>{const t=Fe(Fe({},e),{},{isPositioned:!1!==R.current});T.current&&!Ji(A.current,t)&&(A.current=t,_e.flushSync((()=>{h(t)})))}))}),[f,t,n,M,R]);$i((()=>{!1===u&&A.current.isPositioned&&(A.current.isPositioned=!1,h((e=>Fe(Fe({},e),{},{isPositioned:!1}))))}),[u]);const T=a.useRef(!1);$i((()=>(T.current=!0,()=>{T.current=!1})),[]),$i((()=>{if(x&&(S.current=x),_&&(k.current=_),x&&_){if(C.current)return C.current(x,_,N);N()}}),[x,_,N,C,E]);const P=a.useMemo((()=>({reference:S,floating:k,setReference:y,setFloating:w})),[y,w]),L=a.useMemo((()=>({reference:x,floating:_})),[x,_]),D=a.useMemo((()=>{const e={position:n,left:0,top:0};if(!L.floating)return e;const t=es(L.floating,d.x),r=es(L.floating,d.y);return l?Fe(Fe({},e),{},{transform:"translate("+t+"px, "+r+"px)"},Zi(L.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}}),[n,l,L.floating,d.x,d.y]);return a.useMemo((()=>Fe(Fe({},d),{},{update:N,refs:P,elements:L,floatingStyles:D})),[d,N,P,L,D])}({strategy:"fixed",placement:D,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ui(...t,{animationFrame:"always"===_})},elements:{reference:A.anchor},middleware:[ns({mainAxis:f+L,alignmentAxis:g}),v&&rs(Fe({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?is():void 0},F)),v&&ss(Fe({},F)),as(Fe(Fe({},F),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:s,height:a}=n.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width","".concat(r,"px")),o.setProperty("--radix-popper-available-height","".concat(i,"px")),o.setProperty("--radix-popper-anchor-width","".concat(s,"px")),o.setProperty("--radix-popper-anchor-height","".concat(a,"px"))}})),R&&ls({element:R,padding:m}),Ts({arrowWidth:P,arrowHeight:L}),x&&os(Fe({strategy:"referenceHidden"},F))]}),[V,G]=Ps(z),q=fn(S);pn((()=>{U&&(null===q||void 0===q||q())}),[U,q]);const K=null===(i=H.arrow)||void 0===i?void 0:i.x,X=null===(s=H.arrow)||void 0===s?void 0:s.y,Y=0!==(null===(o=H.arrow)||void 0===o?void 0:o.centerOffset),[Q,$]=a.useState();return pn((()=>{E&&$(window.getComputedStyle(E).zIndex)}),[E]),(0,He.jsx)("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:Fe(Fe({},B),{},{transform:U?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[null===(l=H.transformOrigin)||void 0===l?void 0:l.x,null===(c=H.transformOrigin)||void 0===c?void 0:c.y].join(" ")},(null===(u=H.hide)||void 0===u?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,He.jsx)(ks,{scope:d,placedSide:V,onArrowChange:N,arrowX:K,arrowY:X,shouldHideArrow:Y,children:(0,He.jsx)(mn.div,Fe(Fe({"data-side":V,"data-align":G},k),{},{ref:M,style:Fe(Fe({},k.style),{},{animation:U?void 0:"none"})}))})})}));Es.displayName=Ss;var Cs="PopperArrow",Ms={top:"bottom",right:"left",bottom:"top",left:"right"},Rs=a.forwardRef((function(e,t){const{__scopePopper:n}=e,r=We(e,ps),i=As(Cs,n),s=Ms[i.placedSide];return(0,He.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,He.jsx)(ds,Fe(Fe({},r),{},{ref:t,style:Fe(Fe({},r.style),{},{display:"block"})}))})}));function Ns(e){return null!==e}Rs.displayName=Cs;var Ts=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,s,a;const{placement:o,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=Ps(o),g={start:"0%",center:"50%",end:"100%"}[p],m=(null!==(r=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+d/2,v=(null!==(s=null===(a=c.arrow)||void 0===a?void 0:a.y)&&void 0!==s?s:0)+h/2;let b="",y="";return"bottom"===f?(b=u?g:"".concat(m,"px"),y="".concat(-h,"px")):"top"===f?(b=u?g:"".concat(m,"px"),y="".concat(l.floating.height+h,"px")):"right"===f?(b="".concat(-h,"px"),y=u?g:"".concat(v,"px")):"left"===f&&(b="".concat(l.floating.width+h,"px"),y=u?g:"".concat(v,"px")),{data:{x:b,y:y}}}});function Ps(e){const[t,n="center"]=e.split("-");return[t,n]}var Ls=ws,Ds=_s,js=Es,Is=Rs;const Os=["container"];var Fs=a.forwardRef(((e,t)=>{var n;const{container:r}=e,i=We(e,Os),[s,o]=a.useState(!1);pn((()=>o(!0)),[]);const l=r||s&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return l?_e.createPortal((0,He.jsx)(mn.div,Fe(Fe({},i),{},{ref:t})),l):null}));Fs.displayName="Portal";var Ws=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=a.useState(),r=a.useRef(null),i=a.useRef(e),s=a.useRef("none"),o=e?"mounted":"unmounted",[l,c]=function(e,t){return a.useReducer(((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect((()=>{const e=Bs(r.current);s.current="mounted"===l?e:"none"}),[l]),pn((()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,a=Bs(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),pn((()=>{if(t){var e;let n;const a=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,o=e=>{const s=Bs(r.current).includes(e.animationName);if(e.target===t&&s&&(c("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=a.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)}))}},l=e=>{e.target===t&&(s.current=Bs(r.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{a.clearTimeout(n),t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:a.useCallback((e=>{r.current=e?getComputedStyle(e):null,n(e)}),[])}}(t),i="function"===typeof n?n({present:r.isPresent}):a.Children.only(n),s=Ue(r.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?a.cloneElement(i,{ref:s}):null};function Bs(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Ws.displayName="Presence";const zs=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Us=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var Hs="rovingFocusGroup.onEntryFocus",Vs={bubbles:!1,cancelable:!0},Gs="RovingFocusGroup",[qs,Ks,Xs]=Zn(Gs),[Ys,Qs]=dn(Gs,[Xs]),[$s,Js]=Ys(Gs),Zs=a.forwardRef(((e,t)=>(0,He.jsx)(qs.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,He.jsx)(qs.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,He.jsx)(ea,Fe(Fe({},e),{},{ref:t}))})})));Zs.displayName=Gs;var ea=a.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1}=e,h=We(e,zs),f=a.useRef(null),p=Ue(t,f),g=ir(s),[m,v]=Gn({prop:o,defaultProp:null!==l&&void 0!==l?l:null,onChange:c,caller:Gs}),[b,y]=a.useState(!1),w=fn(u),x=Ks(n),_=a.useRef(!1),[S,k]=a.useState(0);return a.useEffect((()=>{const e=f.current;if(e)return e.addEventListener(Hs,w),()=>e.removeEventListener(Hs,w)}),[w]),(0,He.jsx)($s,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:a.useCallback((e=>v(e)),[v]),onItemShiftTab:a.useCallback((()=>y(!0)),[]),onFocusableItemAdd:a.useCallback((()=>k((e=>e+1))),[]),onFocusableItemRemove:a.useCallback((()=>k((e=>e-1))),[]),children:(0,He.jsx)(mn.div,Fe(Fe({tabIndex:b||0===S?-1:0,"data-orientation":r},h),{},{ref:p,style:Fe({outline:"none"},e.style),onMouseDown:Hn(e.onMouseDown,(()=>{_.current=!0})),onFocus:Hn(e.onFocus,(e=>{const t=!_.current;if(e.target===e.currentTarget&&t&&!b){const t=new CustomEvent(Hs,Vs);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=x().filter((e=>e.focusable));ia([e.find((e=>e.active)),e.find((e=>e.id===m)),...e].filter(Boolean).map((e=>e.ref.current)),d)}}_.current=!1})),onBlur:Hn(e.onBlur,(()=>y(!1)))}))})})),ta="RovingFocusGroupItem",na=a.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o}=e,l=We(e,Us),c=Tr(),u=s||c,d=Js(ta,n),h=d.currentTabStopId===u,f=Ks(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return a.useEffect((()=>{if(r)return p(),()=>g()}),[r,p,g]),(0,He.jsx)(qs.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:(0,He.jsx)(mn.span,Fe(Fe({tabIndex:h?0:-1,"data-orientation":d.orientation},l),{},{ref:t,onMouseDown:Hn(e.onMouseDown,(e=>{r?d.onItemFocus(u):e.preventDefault()})),onFocus:Hn(e.onFocus,(()=>d.onItemFocus(u))),onKeyDown:Hn(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void d.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:ra[r]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=f().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const s=i.indexOf(e.currentTarget);i=d.loop?(r=s+1,(n=i).map(((e,t)=>n[(r+t)%n.length]))):i.slice(s+1)}setTimeout((()=>ia(i)))}var n,r})),children:"function"===typeof o?o({isCurrentTabStop:h,hasTabStop:null!=m}):o}))})}));na.displayName=ta;var ra={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ia(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var sa=Zs,aa=na,oa=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},la=new WeakMap,ca=new WeakMap,ua={},da=0,ha=function(e){return e&&(e.host||ha(e.parentNode))},fa=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=ha(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);ua[n]||(ua[n]=new WeakMap);var s=ua[n],a=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(la.get(e)||0)+1,c=(s.get(e)||0)+1;la.set(e,l),s.set(e,c),a.push(e),1===l&&i&&ca.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(zN){console.error("aria-hidden: cannot operate on ",e,zN)}}))};return u(t),o.clear(),da++,function(){a.forEach((function(e){var t=la.get(e)-1,i=s.get(e)-1;la.set(e,t),s.set(e,i),t||(ca.has(e)||e.removeAttribute(r),ca.delete(e)),i||e.removeAttribute(n)})),--da||(la=new WeakMap,la=new WeakMap,ca=new WeakMap,ua={})}},pa=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||oa(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fa(r,i,n,"aria-hidden")):function(){return null}};var ga=function(){return ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ga.apply(this,arguments)};function ma(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function va(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var ba="right-scroll-bar-position",ya="width-before-scroll-bar";function wa(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var xa="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,_a=new WeakMap;function Sa(e,t){var n=function(e,t){var n=(0,a.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return wa(e,t)}))}));return xa((function(){var t=_a.get(n);if(t){var r=new Set(t),i=new Set(e),s=n.current;r.forEach((function(e){i.has(e)||wa(e,null)})),i.forEach((function(e){r.has(e)||wa(e,s)}))}_a.set(n,e)}),[e]),n}function ka(e){return e}function Aa(e,t){void 0===t&&(t=ka);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}var Ea=function(e){void 0===e&&(e={});var t=Aa(null);return t.options=ga({async:!0,ssr:!1},e),t}(),Ca=function(){},Ma=a.forwardRef((function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:Ca,onWheelCapture:Ca,onTouchMoveCapture:Ca}),i=r[0],s=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,b=e.as,y=void 0===b?"div":b,w=e.gapMode,x=ma(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=Sa([n,t]),k=ga(ga({},x),i);return a.createElement(a.Fragment,null,d&&a.createElement(_,{sideCar:Ea,removeScrollBar:u,shards:h,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?a.cloneElement(a.Children.only(l),ga(ga({},k),{ref:S})):a.createElement(y,ga({},k,{className:c,ref:S}),l))}));Ma.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ma.classNames={fullWidth:ya,zeroRight:ba};var Ra,Na=function(e){var t=e.sideCar,n=ma(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,ga({},n))};Na.isSideCarExport=!0;function Ta(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ra||n.nc;return t&&e.setAttribute("nonce",t),e}var Pa=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Ta())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},La=function(){var e=function(){var e=Pa();return function(t,n){a.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Da={left:0,top:0,right:0,gap:0},ja=function(e){return parseInt(e||"",10)||0},Ia=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Da;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[ja(n),ja(r),ja(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Oa=La(),Fa="data-scroll-locked",Wa=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(Fa,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ba," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(ya," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(ba," .").concat(ba," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(ya," .").concat(ya," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Fa,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},Ba=function(){var e=parseInt(document.body.getAttribute(Fa)||"0",10);return isFinite(e)?e:0},za=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;a.useEffect((function(){return document.body.setAttribute(Fa,(Ba()+1).toString()),function(){var e=Ba()-1;e<=0?document.body.removeAttribute(Fa):document.body.setAttribute(Fa,e.toString())}}),[]);var s=a.useMemo((function(){return Ia(i)}),[i]);return a.createElement(Oa,{styles:Wa(s,!t,i,n?"":"!important")})},Ua=!1;if("undefined"!==typeof window)try{var Ha=Object.defineProperty({},"passive",{get:function(){return Ua=!0,!0}});window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch(UN){Ua=!1}var Va=!!Ua&&{passive:!1},Ga=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},qa=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ka(e,r)){var i=Xa(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ka=function(e,t){return"v"===e?function(e){return Ga(e,"overflowY")}(t):function(e){return Ga(e,"overflowX")}(t)},Xa=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ya=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qa=function(e){return[e.deltaX,e.deltaY]},$a=function(e){return e&&"current"in e?e.current:e},Ja=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Za=0,eo=[];function to(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const no=(ro=function(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),i=a.useState(Za++)[0],s=a.useState(La)[0],o=a.useRef(e);a.useEffect((function(){o.current=e}),[e]),a.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=va([e.lockRef.current],(e.shards||[]).map($a),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=a.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,s=Ya(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=qa(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=qa(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r,i){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,l=t.contains(o),c=!1,u=a>0,d=0,h=0;do{if(!o)break;var f=Xa(e,o),p=f[0],g=f[1]-f[2]-s*p;(p||g)&&Ka(e,o)&&(d+=g,h+=p);var m=o.parentNode;o=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(u&&(i&&Math.abs(d)<1||!i&&a>d)||!u&&(i&&Math.abs(h)<1||!i&&-a>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)}),[]),c=a.useCallback((function(e){var n=e;if(eo.length&&eo[eo.length-1]===s){var r="deltaY"in n?Qa(n):Ya(n),i=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var a=(o.current.shards||[]).map($a).filter(Boolean).filter((function(e){return e.contains(n.target)}));(a.length>0?l(n,a[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=a.useCallback((function(e,n,r,i){var s={name:e,delta:n,target:r,should:i,shadowParent:to(r)};t.current.push(s),setTimeout((function(){t.current=t.current.filter((function(e){return e!==s}))}),1)}),[]),d=a.useCallback((function(e){n.current=Ya(e),r.current=void 0}),[]),h=a.useCallback((function(t){u(t.type,Qa(t),t.target,l(t,e.lockRef.current))}),[]),f=a.useCallback((function(t){u(t.type,Ya(t),t.target,l(t,e.lockRef.current))}),[]);a.useEffect((function(){return eo.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Va),document.addEventListener("touchmove",c,Va),document.addEventListener("touchstart",d,Va),function(){eo=eo.filter((function(e){return e!==s})),document.removeEventListener("wheel",c,Va),document.removeEventListener("touchmove",c,Va),document.removeEventListener("touchstart",d,Va)}}),[]);var p=e.removeScrollBar,g=e.inert;return a.createElement(a.Fragment,null,g?a.createElement(s,{styles:Ja(i)}):null,p?a.createElement(za,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Ea.useMedium(ro),Na);var ro,io=a.forwardRef((function(e,t){return a.createElement(Ma,ga({},e,{ref:t,sideCar:no}))}));io.classNames=Ma.classNames;const so=io,ao=["__scopeMenu"],oo=["forceMount"],lo=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],co=["__scopeMenu"],uo=["__scopeMenu"],ho=["disabled","onSelect"],fo=["__scopeMenu","disabled","textValue"],po=["checked","onCheckedChange"],go=["value","onValueChange"],mo=["value"],vo=["__scopeMenu","forceMount"],bo=["__scopeMenu"],yo=["__scopeMenu"],wo=["forceMount"];var xo=["Enter"," "],_o=["ArrowUp","PageDown","End"],So=["ArrowDown","PageUp","Home",..._o],ko={ltr:[...xo,"ArrowRight"],rtl:[...xo,"ArrowLeft"]},Ao={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eo="Menu",[Co,Mo,Ro]=Zn(Eo),[No,To]=dn(Eo,[Ro,vs,Qs]),Po=vs(),Lo=Qs(),[Do,jo]=No(Eo),[Io,Oo]=No(Eo),Fo=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,l=Po(t),[c,u]=a.useState(null),d=a.useRef(!1),h=fn(s),f=ir(i);return a.useEffect((()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,He.jsx)(Ls,Fe(Fe({},l),{},{children:(0,He.jsx)(Do,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:(0,He.jsx)(Io,{scope:t,onClose:a.useCallback((()=>h(!1)),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})}))};Fo.displayName=Eo;var Wo=a.forwardRef(((e,t)=>{const{__scopeMenu:n}=e,r=We(e,ao),i=Po(n);return(0,He.jsx)(Ds,Fe(Fe(Fe({},i),r),{},{ref:t}))}));Wo.displayName="MenuAnchor";var Bo="MenuPortal",[zo,Uo]=No(Bo,{forceMount:void 0}),Ho=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=jo(Bo,t);return(0,He.jsx)(zo,{scope:t,forceMount:n,children:(0,He.jsx)(Ws,{present:n||s.open,children:(0,He.jsx)(Fs,{asChild:!0,container:i,children:r})})})};Ho.displayName=Bo;var Vo="MenuContent",[Go,qo]=No(Vo),Ko=a.forwardRef(((e,t)=>{const n=Uo(Vo,e.__scopeMenu),{forceMount:r=n.forceMount}=e,i=We(e,oo),s=jo(Vo,e.__scopeMenu),a=Oo(Vo,e.__scopeMenu);return(0,He.jsx)(Co.Provider,{scope:e.__scopeMenu,children:(0,He.jsx)(Ws,{present:r||s.open,children:(0,He.jsx)(Co.Slot,{scope:e.__scopeMenu,children:a.modal?(0,He.jsx)(Xo,Fe(Fe({},i),{},{ref:t})):(0,He.jsx)(Yo,Fe(Fe({},i),{},{ref:t}))})})})})),Xo=a.forwardRef(((e,t)=>{const n=jo(Vo,e.__scopeMenu),r=a.useRef(null),i=Ue(t,r);return a.useEffect((()=>{const e=r.current;if(e)return pa(e)}),[]),(0,He.jsx)($o,Fe(Fe({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Hn(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))})),Yo=a.forwardRef(((e,t)=>{const n=jo(Vo,e.__scopeMenu);return(0,He.jsx)($o,Fe(Fe({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))})),Qo=qe("MenuContent.ScrollLock"),$o=a.forwardRef(((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g}=e,m=We(e,lo),v=jo(Vo,n),b=Oo(Vo,n),y=Po(n),w=Lo(n),x=Mo(n),[_,S]=a.useState(null),k=a.useRef(null),A=Ue(t,k,v.onContentChange),E=a.useRef(0),C=a.useRef(""),M=a.useRef(0),R=a.useRef(null),N=a.useRef("right"),T=a.useRef(0),P=g?so:a.Fragment,L=g?{as:Qo,allowPinchZoom:!0}:void 0,D=e=>{var t,n;const r=C.current+e,i=x().filter((e=>!e.disabled)),s=document.activeElement,a=null===(t=i.find((e=>e.ref.current===s)))||void 0===t?void 0:t.textValue,o=function(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0])),i=r?t[0]:t,s=n?e.indexOf(n):-1;let a=(o=e,l=Math.max(s,0),o.map(((e,t)=>o[(l+t)%o.length])));var o,l;1===i.length&&(a=a.filter((e=>e!==n)));const c=a.find((e=>e.toLowerCase().startsWith(i.toLowerCase())));return c!==n?c:void 0}(i.map((e=>e.textValue)),r,a),l=null===(n=i.find((e=>e.textValue===o)))||void 0===n?void 0:n.ref.current;!function e(t){C.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout((()=>e("")),1e3))}(r),l&&setTimeout((()=>l.focus()))};a.useEffect((()=>()=>window.clearTimeout(E.current)),[]),mr();const j=a.useCallback((e=>{var t,n;return N.current===(null===(t=R.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return function(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const e=t[s],o=t[a],l=e.x,c=e.y,u=o.x,d=o.y;c>r!==d>r&&n<(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i}(n,t)}(e,null===(n=R.current)||void 0===n?void 0:n.area)}),[]);return(0,He.jsx)(Go,{scope:n,searchRef:C,onItemEnter:a.useCallback((e=>{j(e)&&e.preventDefault()}),[j]),onItemLeave:a.useCallback((e=>{var t;j(e)||(null===(t=k.current)||void 0===t||t.focus(),S(null))}),[j]),onTriggerLeave:a.useCallback((e=>{j(e)&&e.preventDefault()}),[j]),pointerGraceTimerRef:M,onPointerGraceIntentChange:a.useCallback((e=>{R.current=e}),[]),children:(0,He.jsx)(P,Fe(Fe({},L),{},{children:(0,He.jsx)(_r,{asChild:!0,trapped:i,onMountAutoFocus:Hn(s,(e=>{var t;e.preventDefault(),null===(t=k.current)||void 0===t||t.focus({preventScroll:!0})})),onUnmountAutoFocus:o,children:(0,He.jsx)(dr,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:(0,He.jsx)(sa,Fe(Fe({asChild:!0},w),{},{dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:Hn(c,(e=>{b.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:(0,He.jsx)(js,Fe(Fe(Fe({role:"menu","aria-orientation":"vertical","data-state":Al(v.open),"data-radix-menu-content":"",dir:b.dir},y),m),{},{ref:A,style:Fe({outline:"none"},m.style),onKeyDown:Hn(m.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&D(e.key));const i=k.current;if(e.target!==i)return;if(!So.includes(e.key))return;e.preventDefault();const s=x().filter((e=>!e.disabled)).map((e=>e.ref.current));_o.includes(e.key)&&s.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(s)})),onBlur:Hn(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),C.current="")})),onPointerMove:Hn(e.onPointerMove,Ml((e=>{const t=e.target,n=T.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>T.current?"right":"left";N.current=t,T.current=e.clientX}})))}))}))})})}))})}));Ko.displayName=Vo;var Jo=a.forwardRef(((e,t)=>{const{__scopeMenu:n}=e,r=We(e,co);return(0,He.jsx)(mn.div,Fe(Fe({role:"group"},r),{},{ref:t}))}));Jo.displayName="MenuGroup";var Zo=a.forwardRef(((e,t)=>{const{__scopeMenu:n}=e,r=We(e,uo);return(0,He.jsx)(mn.div,Fe(Fe({},r),{},{ref:t}))}));Zo.displayName="MenuLabel";var el="MenuItem",tl="menu.itemSelect",nl=a.forwardRef(((e,t)=>{const{disabled:n=!1,onSelect:r}=e,i=We(e,ho),s=a.useRef(null),o=Oo(el,e.__scopeMenu),l=qo(el,e.__scopeMenu),c=Ue(t,s),u=a.useRef(!1);return(0,He.jsx)(rl,Fe(Fe({},i),{},{ref:c,disabled:n,onClick:Hn(e.onClick,(()=>{const e=s.current;if(!n&&e){const t=new CustomEvent(tl,{bubbles:!0,cancelable:!0});e.addEventListener(tl,(e=>null===r||void 0===r?void 0:r(e)),{once:!0}),vn(e,t),t.defaultPrevented?u.current=!1:o.onClose()}})),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),u.current=!0},onPointerUp:Hn(e.onPointerUp,(e=>{var t;u.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:Hn(e.onKeyDown,(e=>{const t=""!==l.searchRef.current;n||t&&" "===e.key||xo.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))}));nl.displayName=el;var rl=a.forwardRef(((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i}=e,s=We(e,fo),o=qo(el,n),l=Lo(n),c=a.useRef(null),u=Ue(t,c),[d,h]=a.useState(!1),[f,p]=a.useState("");return a.useEffect((()=>{const e=c.current;var t;e&&p((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[s.children]),(0,He.jsx)(Co.ItemSlot,{scope:n,disabled:r,textValue:null!==i&&void 0!==i?i:f,children:(0,He.jsx)(aa,Fe(Fe({asChild:!0},l),{},{focusable:!r,children:(0,He.jsx)(mn.div,Fe(Fe({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s),{},{ref:u,onPointerMove:Hn(e.onPointerMove,Ml((e=>{if(r)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}}))),onPointerLeave:Hn(e.onPointerLeave,Ml((e=>o.onItemLeave(e)))),onFocus:Hn(e.onFocus,(()=>h(!0))),onBlur:Hn(e.onBlur,(()=>h(!1)))}))}))})})),il=a.forwardRef(((e,t)=>{const{checked:n=!1,onCheckedChange:r}=e,i=We(e,po);return(0,He.jsx)(hl,{scope:e.__scopeMenu,checked:n,children:(0,He.jsx)(nl,Fe(Fe({role:"menuitemcheckbox","aria-checked":El(n)?"mixed":n},i),{},{ref:t,"data-state":Cl(n),onSelect:Hn(i.onSelect,(()=>null===r||void 0===r?void 0:r(!!El(n)||!n)),{checkForDefaultPrevented:!1})}))})}));il.displayName="MenuCheckboxItem";var sl="MenuRadioGroup",[al,ol]=No(sl,{value:void 0,onValueChange:()=>{}}),ll=a.forwardRef(((e,t)=>{const{value:n,onValueChange:r}=e,i=We(e,go),s=fn(r);return(0,He.jsx)(al,{scope:e.__scopeMenu,value:n,onValueChange:s,children:(0,He.jsx)(Jo,Fe(Fe({},i),{},{ref:t}))})}));ll.displayName=sl;var cl="MenuRadioItem",ul=a.forwardRef(((e,t)=>{const{value:n}=e,r=We(e,mo),i=ol(cl,e.__scopeMenu),s=n===i.value;return(0,He.jsx)(hl,{scope:e.__scopeMenu,checked:s,children:(0,He.jsx)(nl,Fe(Fe({role:"menuitemradio","aria-checked":s},r),{},{ref:t,"data-state":Cl(s),onSelect:Hn(r.onSelect,(()=>{var e;return null===(e=i.onValueChange)||void 0===e?void 0:e.call(i,n)}),{checkForDefaultPrevented:!1})}))})}));ul.displayName=cl;var dl="MenuItemIndicator",[hl,fl]=No(dl,{checked:!1}),pl=a.forwardRef(((e,t)=>{const{__scopeMenu:n,forceMount:r}=e,i=We(e,vo),s=fl(dl,n);return(0,He.jsx)(Ws,{present:r||El(s.checked)||!0===s.checked,children:(0,He.jsx)(mn.span,Fe(Fe({},i),{},{ref:t,"data-state":Cl(s.checked)}))})}));pl.displayName=dl;var gl=a.forwardRef(((e,t)=>{const{__scopeMenu:n}=e,r=We(e,bo);return(0,He.jsx)(mn.div,Fe(Fe({role:"separator","aria-orientation":"horizontal"},r),{},{ref:t}))}));gl.displayName="MenuSeparator";var ml=a.forwardRef(((e,t)=>{const{__scopeMenu:n}=e,r=We(e,yo),i=Po(n);return(0,He.jsx)(Is,Fe(Fe(Fe({},i),r),{},{ref:t}))}));ml.displayName="MenuArrow";var vl="MenuSub",[bl,yl]=No(vl),wl=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,s=jo(vl,t),o=Po(t),[l,c]=a.useState(null),[u,d]=a.useState(null),h=fn(i);return a.useEffect((()=>(!1===s.open&&h(!1),()=>h(!1))),[s.open,h]),(0,He.jsx)(Ls,Fe(Fe({},o),{},{children:(0,He.jsx)(Do,{scope:t,open:r,onOpenChange:h,content:u,onContentChange:d,children:(0,He.jsx)(bl,{scope:t,contentId:Tr(),triggerId:Tr(),trigger:l,onTriggerChange:c,children:n})})}))};wl.displayName=vl;var xl="MenuSubTrigger",_l=a.forwardRef(((e,t)=>{const n=jo(xl,e.__scopeMenu),r=Oo(xl,e.__scopeMenu),i=yl(xl,e.__scopeMenu),s=qo(xl,e.__scopeMenu),o=a.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=a.useCallback((()=>{o.current&&window.clearTimeout(o.current),o.current=null}),[]);return a.useEffect((()=>d),[d]),a.useEffect((()=>{const e=l.current;return()=>{window.clearTimeout(e),c(null)}}),[l,c]),(0,He.jsx)(Wo,Fe(Fe({asChild:!0},u),{},{children:(0,He.jsx)(rl,Fe(Fe({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Al(n.open)},e),{},{ref:ze(t,i.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Hn(e.onPointerMove,Ml((t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||o.current||(s.onPointerGraceIntentChange(null),o.current=window.setTimeout((()=>{n.onOpenChange(!0),d()}),100))}))),onPointerLeave:Hn(e.onPointerLeave,Ml((e=>{var t;d();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var i;const t=null===(i=n.content)||void 0===i?void 0:i.dataset.side,a="right"===t,o=a?-5:5,c=r[a?"left":"right"],u=r[a?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:c,y:r.top},{x:u,y:r.top},{x:u,y:r.bottom},{x:c,y:r.bottom}],side:t}),window.clearTimeout(l.current),l.current=window.setTimeout((()=>s.onPointerGraceIntentChange(null)),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}}))),onKeyDown:Hn(e.onKeyDown,(t=>{const i=""!==s.searchRef.current;var a;e.disabled||i&&" "===t.key||ko[r.dir].includes(t.key)&&(n.onOpenChange(!0),null===(a=n.content)||void 0===a||a.focus(),t.preventDefault())}))}))}))}));_l.displayName=xl;var Sl="MenuSubContent",kl=a.forwardRef(((e,t)=>{const n=Uo(Vo,e.__scopeMenu),{forceMount:r=n.forceMount}=e,i=We(e,wo),s=jo(Vo,e.__scopeMenu),o=Oo(Vo,e.__scopeMenu),l=yl(Sl,e.__scopeMenu),c=a.useRef(null),u=Ue(t,c);return(0,He.jsx)(Co.Provider,{scope:e.__scopeMenu,children:(0,He.jsx)(Ws,{present:r||s.open,children:(0,He.jsx)(Co.Slot,{scope:e.__scopeMenu,children:(0,He.jsx)($o,Fe(Fe({id:l.contentId,"aria-labelledby":l.triggerId},i),{},{ref:u,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;o.isUsingKeyboardRef.current&&(null===(t=c.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Hn(e.onFocusOutside,(e=>{e.target!==l.trigger&&s.onOpenChange(!1)})),onEscapeKeyDown:Hn(e.onEscapeKeyDown,(e=>{o.onClose(),e.preventDefault()})),onKeyDown:Hn(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),n=Ao[o.dir].includes(e.key);var r;t&&n&&(s.onOpenChange(!1),null===(r=l.trigger)||void 0===r||r.focus(),e.preventDefault())}))}))})})})}));function Al(e){return e?"open":"closed"}function El(e){return"indeterminate"===e}function Cl(e){return El(e)?"indeterminate":e?"checked":"unchecked"}function Ml(e){return t=>"mouse"===t.pointerType?e(t):void 0}kl.displayName=Sl;var Rl=Fo,Nl=Wo,Tl=Ho,Pl=Ko,Ll=Jo,Dl=Zo,jl=nl,Il=il,Ol=ll,Fl=ul,Wl=pl,Bl=gl,zl=ml,Ul=_l,Hl=kl;const Vl=["__scopeDropdownMenu","disabled"],Gl=["__scopeDropdownMenu"],ql=["__scopeDropdownMenu"],Kl=["__scopeDropdownMenu"],Xl=["__scopeDropdownMenu"],Yl=["__scopeDropdownMenu"],Ql=["__scopeDropdownMenu"],$l=["__scopeDropdownMenu"],Jl=["__scopeDropdownMenu"],Zl=["__scopeDropdownMenu"],ec=["__scopeDropdownMenu"],tc=["__scopeDropdownMenu"],nc=["__scopeDropdownMenu"],rc=["__scopeDropdownMenu"];var ic="DropdownMenu",[sc,ac]=dn(ic,[To]),oc=To(),[lc,cc]=sc(ic),uc=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=oc(t),u=a.useRef(null),[d,h]=Gn({prop:i,defaultProp:null!==s&&void 0!==s&&s,onChange:o,caller:ic});return(0,He.jsx)(lc,{scope:t,triggerId:Tr(),triggerRef:u,contentId:Tr(),open:d,onOpenChange:h,onOpenToggle:a.useCallback((()=>h((e=>!e))),[h]),modal:l,children:(0,He.jsx)(Rl,Fe(Fe({},c),{},{open:d,onOpenChange:h,dir:r,modal:l,children:n}))})};uc.displayName=ic;var dc="DropdownMenuTrigger",hc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1}=e,i=We(e,Vl),s=cc(dc,n),a=oc(n);return(0,He.jsx)(Nl,Fe(Fe({asChild:!0},a),{},{children:(0,He.jsx)(mn.button,Fe(Fe({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i),{},{ref:ze(t,s.triggerRef),onPointerDown:Hn(e.onPointerDown,(e=>{r||0!==e.button||!1!==e.ctrlKey||(s.onOpenToggle(),s.open||e.preventDefault())})),onKeyDown:Hn(e.onKeyDown,(e=>{r||(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))}))}))}));hc.displayName=dc;var fc=e=>{const{__scopeDropdownMenu:t}=e,n=We(e,Gl),r=oc(t);return(0,He.jsx)(Tl,Fe(Fe({},r),n))};fc.displayName="DropdownMenuPortal";var pc="DropdownMenuContent",gc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,ql),i=cc(pc,n),s=oc(n),o=a.useRef(!1);return(0,He.jsx)(Pl,Fe(Fe(Fe({id:i.contentId,"aria-labelledby":i.triggerId},s),r),{},{ref:t,onCloseAutoFocus:Hn(e.onCloseAutoFocus,(e=>{var t;o.current||null===(t=i.triggerRef.current)||void 0===t||t.focus(),o.current=!1,e.preventDefault()})),onInteractOutside:Hn(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;i.modal&&!r||(o.current=!0)})),style:Fe(Fe({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))}));gc.displayName=pc;var mc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,Kl),i=oc(n);return(0,He.jsx)(Ll,Fe(Fe(Fe({},i),r),{},{ref:t}))}));mc.displayName="DropdownMenuGroup";var vc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,Xl),i=oc(n);return(0,He.jsx)(Dl,Fe(Fe(Fe({},i),r),{},{ref:t}))}));vc.displayName="DropdownMenuLabel";var bc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,Yl),i=oc(n);return(0,He.jsx)(jl,Fe(Fe(Fe({},i),r),{},{ref:t}))}));bc.displayName="DropdownMenuItem";var yc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,Ql),i=oc(n);return(0,He.jsx)(Il,Fe(Fe(Fe({},i),r),{},{ref:t}))}));yc.displayName="DropdownMenuCheckboxItem";var wc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,$l),i=oc(n);return(0,He.jsx)(Ol,Fe(Fe(Fe({},i),r),{},{ref:t}))}));wc.displayName="DropdownMenuRadioGroup";var xc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,Jl),i=oc(n);return(0,He.jsx)(Fl,Fe(Fe(Fe({},i),r),{},{ref:t}))}));xc.displayName="DropdownMenuRadioItem";var _c=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,Zl),i=oc(n);return(0,He.jsx)(Wl,Fe(Fe(Fe({},i),r),{},{ref:t}))}));_c.displayName="DropdownMenuItemIndicator";var Sc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,ec),i=oc(n);return(0,He.jsx)(Bl,Fe(Fe(Fe({},i),r),{},{ref:t}))}));Sc.displayName="DropdownMenuSeparator";var kc=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,tc),i=oc(n);return(0,He.jsx)(zl,Fe(Fe(Fe({},i),r),{},{ref:t}))}));kc.displayName="DropdownMenuArrow";var Ac=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,nc),i=oc(n);return(0,He.jsx)(Ul,Fe(Fe(Fe({},i),r),{},{ref:t}))}));Ac.displayName="DropdownMenuSubTrigger";var Ec=a.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n}=e,r=We(e,rc),i=oc(n);return(0,He.jsx)(Hl,Fe(Fe(Fe({},i),r),{},{ref:t,style:Fe(Fe({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))}));Ec.displayName="DropdownMenuSubContent";var Cc=uc,Mc=hc,Rc=fc,Nc=gc,Tc=vc,Pc=bc,Lc=yc,Dc=xc,jc=_c,Ic=Sc,Oc=Ac,Fc=Ec;const Wc=an("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Bc=an("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),zc=an("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Uc=["className","inset","children"],Hc=["className"],Vc=["className","sideOffset"],Gc=["className","inset"],qc=["className","children","checked"],Kc=["className","children"],Xc=["className","inset"],Yc=["className"],Qc=Cc,$c=Mc;a.forwardRef(((e,t)=>{let{className:n,inset:r,children:i}=e,s=We(e,Uc);return(0,He.jsxs)(Oc,Fe(Fe({ref:t,className:$t("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",n)},s),{},{children:[i,(0,He.jsx)(Wc,{className:"ml-auto"})]}))})).displayName=Oc.displayName;a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Hc);return(0,He.jsx)(Fc,Fe({ref:t,className:$t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},r))})).displayName=Fc.displayName;const Jc=a.forwardRef(((e,t)=>{let{className:n,sideOffset:r=4}=e,i=We(e,Vc);return(0,He.jsx)(Rc,{children:(0,He.jsx)(Nc,Fe({ref:t,sideOffset:r,className:$t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},i))})}));Jc.displayName=Nc.displayName;const Zc=a.forwardRef(((e,t)=>{let{className:n,inset:r}=e,i=We(e,Gc);return(0,He.jsx)(Pc,Fe({ref:t,className:$t("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",n)},i))}));Zc.displayName=Pc.displayName;a.forwardRef(((e,t)=>{let{className:n,children:r,checked:i}=e,s=We(e,qc);return(0,He.jsxs)(Lc,Fe(Fe({ref:t,className:$t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:i},s),{},{children:[(0,He.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,He.jsx)(jc,{children:(0,He.jsx)(Bc,{className:"h-4 w-4"})})}),r]}))})).displayName=Lc.displayName;a.forwardRef(((e,t)=>{let{className:n,children:r}=e,i=We(e,Kc);return(0,He.jsxs)(Dc,Fe(Fe({ref:t,className:$t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},i),{},{children:[(0,He.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,He.jsx)(jc,{children:(0,He.jsx)(zc,{className:"h-2 w-2 fill-current"})})}),r]}))})).displayName=Dc.displayName;const eu=a.forwardRef(((e,t)=>{let{className:n,inset:r}=e,i=We(e,Xc);return(0,He.jsx)(Tc,Fe({ref:t,className:$t("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",n)},i))}));eu.displayName=Tc.displayName;const tu=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Yc);return(0,He.jsx)(Ic,Fe({ref:t,className:$t("-mx-1 my-1 h-px bg-muted",n)},r))}));tu.displayName=Ic.displayName;const nu=an("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ru=an("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),iu=an("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function su(){const e=ne(),[t,n]=(0,a.useState)(!1),[r,i]=(0,a.useState)(""),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)("");return(0,a.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("token");n(!!e),e&&(i(localStorage.getItem("username")),o(localStorage.getItem("email")),c(localStorage.getItem("role")))};e(),window.addEventListener("storage",e);const t=setInterval(e,1e3);return()=>{window.removeEventListener("storage",e),clearInterval(t)}}),[]),(0,He.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,He.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,He.jsx)("div",{className:"flex items-center gap-2",children:(0,He.jsx)(Te,{to:"/dashboard",className:"flex items-center gap-2",children:(0,He.jsx)("span",{className:"font-bold text-xl",children:"AINO DMS"})})}),(0,He.jsxs)("div",{className:"flex items-center gap-2",children:[(0,He.jsx)(en,{variant:"ghost",size:"icon",children:(0,He.jsx)(nu,{className:"h-5 w-5"})}),(0,He.jsx)(nn,{children:(0,He.jsx)(cn,{})}),t?(0,He.jsxs)(Qc,{children:[(0,He.jsx)($c,{asChild:!0,children:(0,He.jsx)(en,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,He.jsxs)(Bn,{className:"h-8 w-8",children:[(0,He.jsx)(zn,{src:"/placeholder.svg?height=32&width=32",alt:"User"}),(0,He.jsx)(Un,{children:"AI"})]})})}),(0,He.jsxs)(Jc,{className:"w-56",align:"end",forceMount:!0,children:[(0,He.jsx)(eu,{className:"font-normal",children:(0,He.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,He.jsxs)("p",{className:"text-sm font-medium leading-none",children:["Username: ",r]}),(0,He.jsxs)("p",{className:"text-sm font-medium leading-none",children:["Role: ",l]}),(0,He.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:s})]})}),(0,He.jsx)(tu,{}),(0,He.jsxs)(Zc,{onClick:()=>e("/profile"),children:[(0,He.jsx)(ru,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Profile"})]}),(0,He.jsx)(tu,{}),(0,He.jsxs)(Zc,{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("id"),localStorage.removeItem("email"),localStorage.removeItem("role"),localStorage.removeItem("division"),n(!1),e("/login")},children:[(0,He.jsx)(iu,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Log out"})]})]})]}):(0,He.jsx)(en,{onClick:()=>e("/login"),children:"Login"})]})]})})}const au=an("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ou=an("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),lu=an("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),cu=an("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),uu=an("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),du=[{title:"Dashboard",href:"/",icon:au},{title:"Upload",href:"/upload",icon:ou},{title:"Draft",href:"/draft",icon:lu},{title:"Inbox",href:"/inbox",icon:cu},{title:"Completed",href:"/completed",icon:uu}];function hu(){const e=ee();return(0,He.jsx)("div",{className:"hidden border-r bg-background md:block w-64",children:(0,He.jsx)("div",{className:"flex h-full flex-col gap-2 p-4",children:(0,He.jsxs)("nav",{className:"grid gap-1 px-2 pt-2",children:[du.map(((t,n)=>(0,He.jsxs)(Te,{to:t.href,className:$t("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",e.pathname===t.href?"bg-accent text-accent-foreground":"transparent"),children:[(0,He.jsx)(t.icon,{className:"h-5 w-5"}),t.title]},n))),"admin"===localStorage.getItem("role")&&(0,He.jsxs)(Te,{to:"/users",className:$t("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground","/users"===e.pathname?"bg-accent text-accent-foreground":"transparent"),children:[(0,He.jsx)(ru,{className:"h-5 w-5"}),"Users"]},du.length)]})})})}function fu(e,t){return function(){return e.apply(t,arguments)}}const{toString:pu}=Object.prototype,{getPrototypeOf:gu}=Object,{iterator:mu,toStringTag:vu}=Symbol,bu=(yu=Object.create(null),e=>{const t=pu.call(e);return yu[t]||(yu[t]=t.slice(8,-1).toLowerCase())});var yu;const wu=e=>(e=e.toLowerCase(),t=>bu(t)===e),xu=e=>t=>typeof t===e,{isArray:_u}=Array,Su=xu("undefined");const ku=wu("ArrayBuffer");const Au=xu("string"),Eu=xu("function"),Cu=xu("number"),Mu=e=>null!==e&&"object"===typeof e,Ru=e=>{if("object"!==bu(e))return!1;const t=gu(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(vu in e)&&!(mu in e)},Nu=wu("Date"),Tu=wu("File"),Pu=wu("Blob"),Lu=wu("FileList"),Du=wu("URLSearchParams"),[ju,Iu,Ou,Fu]=["ReadableStream","Request","Response","Headers"].map(wu);function Wu(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),_u(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function Bu(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const zu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Uu=e=>!Su(e)&&e!==zu;const Hu=(Vu="undefined"!==typeof Uint8Array&&gu(Uint8Array),e=>Vu&&e instanceof Vu);var Vu;const Gu=wu("HTMLFormElement"),qu=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ku=wu("RegExp"),Xu=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Wu(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)};const Yu=wu("AsyncFunction"),Qu=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],zu.addEventListener("message",(e=>{let{source:t,data:i}=e;t===zu&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),zu.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Eu(zu.postMessage)),$u="undefined"!==typeof queueMicrotask?queueMicrotask.bind(zu):"undefined"!==typeof process&&process.nextTick||Qu,Ju={isArray:_u,isArrayBuffer:ku,isBuffer:function(e){return null!==e&&!Su(e)&&null!==e.constructor&&!Su(e.constructor)&&Eu(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Eu(e.append)&&("formdata"===(t=bu(e))||"object"===t&&Eu(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ku(e.buffer),t},isString:Au,isNumber:Cu,isBoolean:e=>!0===e||!1===e,isObject:Mu,isPlainObject:Ru,isReadableStream:ju,isRequest:Iu,isResponse:Ou,isHeaders:Fu,isUndefined:Su,isDate:Nu,isFile:Tu,isBlob:Pu,isRegExp:Ku,isFunction:Eu,isStream:e=>Mu(e)&&Eu(e.pipe),isURLSearchParams:Du,isTypedArray:Hu,isFileList:Lu,forEach:Wu,merge:function e(){const{caseless:t}=Uu(this)&&this||{},n={},r=(r,i)=>{const s=t&&Bu(n,i)||i;Ru(n[s])&&Ru(r)?n[s]=e(n[s],r):Ru(r)?n[s]=e({},r):_u(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Wu(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Wu(t,((t,r)=>{n&&Eu(t)?e[r]=fu(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&gu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:bu,kindOfTest:wu,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(_u(e))return e;let t=e.length;if(!Cu(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[mu]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Gu,hasOwnProperty:qu,hasOwnProp:qu,reduceDescriptors:Xu,freezeMethods:e=>{Xu(e,((t,n)=>{if(Eu(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Eu(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return _u(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Bu,global:zu,isContextDefined:Uu,isSpecCompliantForm:function(e){return!!(e&&Eu(e.append)&&"FormData"===e[vu]&&e[mu])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Mu(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=_u(e)?[]:{};return Wu(e,((e,t)=>{const s=n(e,r+1);!Su(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Yu,isThenable:e=>e&&(Mu(e)||Eu(e))&&Eu(e.then)&&Eu(e.catch),setImmediate:Qu,asap:$u,isIterable:e=>null!=e&&Eu(e[mu])};function Zu(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ju.inherits(Zu,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ju.toJSONObject(this.config),code:this.code,status:this.status}}});const ed=Zu.prototype,td={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{td[e]={value:e}})),Object.defineProperties(Zu,td),Object.defineProperty(ed,"isAxiosError",{value:!0}),Zu.from=(e,t,n,r,i,s)=>{const a=Object.create(ed);return Ju.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Zu.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const nd=Zu;function rd(e){return Ju.isPlainObject(e)||Ju.isArray(e)}function id(e){return Ju.endsWith(e,"[]")?e.slice(0,-2):e}function sd(e,t,n){return e?e.concat(t).map((function(e,t){return e=id(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ad=Ju.toFlatObject(Ju,{},null,(function(e){return/^is[A-Z]/.test(e)}));const od=function(e,t,n){if(!Ju.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ju.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ju.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ju.isSpecCompliantForm(t);if(!Ju.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ju.isDate(e))return e.toISOString();if(Ju.isBoolean(e))return e.toString();if(!o&&Ju.isBlob(e))throw new nd("Blob is not supported. Use a Buffer instead.");return Ju.isArrayBuffer(e)||Ju.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(Ju.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ju.isArray(e)&&function(e){return Ju.isArray(e)&&!e.some(rd)}(e)||(Ju.isFileList(e)||Ju.endsWith(n,"[]"))&&(o=Ju.toArray(e)))return n=id(n),o.forEach((function(e,r){!Ju.isUndefined(e)&&null!==e&&t.append(!0===a?sd([n],r,s):null===a?n:n+"[]",l(e))})),!1;return!!rd(e)||(t.append(sd(i,n,s),l(e)),!1)}const u=[],d=Object.assign(ad,{defaultVisitor:c,convertValue:l,isVisitable:rd});if(!Ju.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ju.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Ju.forEach(n,(function(n,s){!0===(!(Ju.isUndefined(n)||null===n)&&i.call(t,n,Ju.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function ld(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cd(e,t){this._pairs=[],e&&od(e,this,t)}const ud=cd.prototype;ud.append=function(e,t){this._pairs.push([e,t])},ud.toString=function(e){const t=e?function(t){return e.call(this,t,ld)}:ld;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const dd=cd;function hd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fd(e,t,n){if(!t)return e;const r=n&&n.encode||hd;Ju.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):Ju.isURLSearchParams(t)?t.toString():new dd(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const pd=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ju.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},gd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},md={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:dd,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},vd="undefined"!==typeof window&&"undefined"!==typeof document,bd="object"===typeof navigator&&navigator||void 0,yd=vd&&(!bd||["ReactNative","NativeScript","NS"].indexOf(bd.product)<0),wd="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,xd=vd&&window.location.href||"http://localhost",_d=Fe(Fe({},r),md);const Sd=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&Ju.isArray(r)?r.length:s,o)return Ju.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&Ju.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&Ju.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(Ju.isFormData(e)&&Ju.isFunction(e.entries)){const n={};return Ju.forEachEntry(e,((e,r)=>{t(function(e){return Ju.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const kd={transitional:gd,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Ju.isObject(e);i&&Ju.isHTMLForm(e)&&(e=new FormData(e));if(Ju.isFormData(e))return r?JSON.stringify(Sd(e)):e;if(Ju.isArrayBuffer(e)||Ju.isBuffer(e)||Ju.isStream(e)||Ju.isFile(e)||Ju.isBlob(e)||Ju.isReadableStream(e))return e;if(Ju.isArrayBufferView(e))return e.buffer;if(Ju.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return od(e,new _d.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _d.isNode&&Ju.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ju.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return od(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ju.isString(e))try{return(t||JSON.parse)(e),Ju.trim(e)}catch(zN){if("SyntaxError"!==zN.name)throw zN}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||kd.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ju.isResponse(e)||Ju.isReadableStream(e))return e;if(e&&Ju.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(zN){if(n){if("SyntaxError"===zN.name)throw nd.from(zN,nd.ERR_BAD_RESPONSE,this,null,this.response);throw zN}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_d.classes.FormData,Blob:_d.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ju.forEach(["delete","get","head","post","put","patch"],(e=>{kd.headers[e]={}}));const Ad=kd,Ed=Ju.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cd=Symbol("internals");function Md(e){return e&&String(e).trim().toLowerCase()}function Rd(e){return!1===e||null==e?e:Ju.isArray(e)?e.map(Rd):String(e)}function Nd(e,t,n,r,i){return Ju.isFunction(r)?r.call(this,t,n):(i&&(t=n),Ju.isString(t)?Ju.isString(r)?-1!==t.indexOf(r):Ju.isRegExp(r)?r.test(t):void 0:void 0)}class Td{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Md(t);if(!i)throw new Error("header name must be a non-empty string");const s=Ju.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Rd(e))}const s=(e,t)=>Ju.forEach(e,((e,n)=>i(e,n,t)));if(Ju.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Ju.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Ed[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Ju.isObject(e)&&Ju.isIterable(e)){let n,r,i={};for(const t of e){if(!Ju.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Ju.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=Md(e)){const n=Ju.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ju.isFunction(t))return t.call(this,e,n);if(Ju.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Md(e)){const n=Ju.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nd(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Md(e)){const i=Ju.findKey(n,e);!i||t&&!Nd(0,n[i],i,t)||(delete n[i],r=!0)}}return Ju.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Nd(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Ju.forEach(this,((r,i)=>{const s=Ju.findKey(n,i);if(s)return t[s]=Rd(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Rd(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ju.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ju.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Cd]=this[Cd]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Md(e);t[r]||(!function(e,t){const n=Ju.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Ju.isArray(e)?e.forEach(r):r(e),this}}Td.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ju.reduceDescriptors(Td.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Ju.freezeMethods(Td);const Pd=Td;function Ld(e,t){const n=this||Ad,r=t||n,i=Pd.from(r.headers);let s=r.data;return Ju.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Dd(e){return!(!e||!e.__CANCEL__)}function jd(e,t,n){nd.call(this,null==e?"canceled":e,nd.ERR_CANCELED,t,n),this.name="CanceledError"}Ju.inherits(jd,nd,{__CANCEL__:!0});const Id=jd;function Od(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new nd("Request failed with status code "+n.status,[nd.ERR_BAD_REQUEST,nd.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Fd=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Wd=function(e,t){let n,r,i=0,s=1e3/t;const a=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),s-t)))},()=>n&&a(n)]},Bd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Fd(50,250);return Wd((n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},zd=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ud=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ju.asap((()=>e(...n)))},Hd=_d.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_d.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_d.origin),_d.navigator&&/(msie|trident)/i.test(_d.navigator.userAgent)):()=>!0,Vd=_d.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];Ju.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Ju.isString(r)&&a.push("path="+r),Ju.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Gd(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qd=e=>e instanceof Pd?Fe({},e):e;function Kd(e,t){t=t||{};const n={};function r(e,t,n,r){return Ju.isPlainObject(e)&&Ju.isPlainObject(t)?Ju.merge.call({caseless:r},e,t):Ju.isPlainObject(t)?Ju.merge({},t):Ju.isArray(t)?t.slice():t}function i(e,t,n,i){return Ju.isUndefined(t)?Ju.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!Ju.isUndefined(t))return r(void 0,t)}function a(e,t){return Ju.isUndefined(t)?Ju.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(qd(e),qd(t),0,!0)};return Ju.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,a=s(e[r],t[r],r);Ju.isUndefined(a)&&s!==o||(n[r]=a)})),n}const Xd=e=>{const t=Kd({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Pd.from(o),t.url=fd(Gd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ju.isFormData(r))if(_d.hasStandardBrowserEnv||_d.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(_d.hasStandardBrowserEnv&&(i&&Ju.isFunction(i)&&(i=i(t)),i||!1!==i&&Hd(t.url))){const e=s&&a&&Vd.read(a);e&&o.set(s,e)}return t},Yd="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Xd(e);let i=r.data;const s=Pd.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=Pd.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Od((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new nd("Request aborted",nd.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new nd("Network Error",nd.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||gd;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new nd(t,i.clarifyTimeoutError?nd.ETIMEDOUT:nd.ECONNABORTED,e,g)),g=null},void 0===i&&s.setContentType(null),"setRequestHeader"in g&&Ju.forEach(s.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Ju.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),f&&([l,u]=Bd(f,!0),g.addEventListener("progress",l)),h&&g.upload&&([o,c]=Bd(h),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{g&&(n(!t||t.type?new Id(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===_d.protocols.indexOf(v)?n(new nd("Unsupported protocol "+v+":",nd.ERR_BAD_REQUEST,e)):g.send(i||null)}))},Qd=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof nd?t:new Id(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new nd("timeout ".concat(t," of ms exceeded"),nd.ETIMEDOUT))}),t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:o}=r;return o.unsubscribe=()=>Ju.asap(a),o}};function $d(e,t){this.v=e,this.k=t}function Jd(e){return function(){return new Zd(e.apply(this,arguments))}}function Zd(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,o=a instanceof $d;Promise.resolve(o?a.v:a).then((function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(s,a){var o={key:e,arg:i,resolve:s,reject:a,next:null};n?n=n.next=o:(t=n=o,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function eh(e){return new $d(e,0)}function th(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new $d(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function nh(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new rh(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function rh(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return rh=function(e){this.s=e,this.n=e.next},rh.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new rh(e)}Zd.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Zd.prototype.next=function(e){return this._invoke("next",e)},Zd.prototype.throw=function(e){return this._invoke("throw",e)},Zd.prototype.return=function(e){return this._invoke("return",e)};const ih=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},sh=function(){var e=Jd((function*(e,t){var n,r=!1,i=!1;try{for(var s,a=nh(ah(e));r=!(s=yield eh(a.next())).done;r=!1){const e=s.value;yield*th(nh(ih(e,t)))}}catch(UN){i=!0,n=UN}finally{try{r&&null!=a.return&&(yield eh(a.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),ah=function(){var e=Jd((function*(e){if(e[Symbol.asyncIterator])return void(yield*th(nh(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield eh(t.read());if(e)break;yield n}}finally{yield eh(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),oh=(e,t,n,r)=>{const i=sh(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(UN){throw o(UN),UN}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},lh="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ch=lh&&"function"===typeof ReadableStream,uh=lh&&("function"===typeof TextEncoder?(dh=new TextEncoder,e=>dh.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var dh;const hh=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(zN){return!1}},fh=ch&&hh((()=>{let e=!1;const t=new Request(_d.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ph=ch&&hh((()=>Ju.isReadableStream(new Response("").body))),gh={stream:ph&&(e=>e.body)};var mh;lh&&(mh=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!gh[e]&&(gh[e]=Ju.isFunction(mh[e])?t=>t[e]():(t,n)=>{throw new nd("Response type '".concat(e,"' is not supported"),nd.ERR_NOT_SUPPORT,n)})})));const vh=async(e,t)=>{const n=Ju.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ju.isBlob(e))return e.size;if(Ju.isSpecCompliantForm(e)){const t=new Request(_d.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ju.isArrayBufferView(e)||Ju.isArrayBuffer(e)?e.byteLength:(Ju.isURLSearchParams(e)&&(e+=""),Ju.isString(e)?(await uh(e)).byteLength:void 0)})(t):n},bh=lh&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Xd(e);c=c?(c+"").toLowerCase():"text";let f,p=Qd([i,s&&s.toAbortSignal()],a);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&fh&&"get"!==n&&"head"!==n&&0!==(m=await vh(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Ju.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=zd(m,Bd(Ud(l)));r=oh(n.body,65536,e,t)}}Ju.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,Fe(Fe({},h),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0}));let s=await fetch(f,h);const a=ph&&("stream"===c||"response"===c);if(ph&&(o||a&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=Ju.toFiniteNumber(s.headers.get("content-length")),[n,r]=o&&zd(t,Bd(Ud(o),!0))||[];s=new Response(oh(s.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let v=await gh[Ju.findKey(gh,c)||"text"](s,e);return!a&&g&&g(),await new Promise(((t,n)=>{Od(t,n,{data:v,headers:Pd.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(UN){if(g&&g(),UN&&"TypeError"===UN.name&&/Load failed|fetch/i.test(UN.message))throw Object.assign(new nd("Network Error",nd.ERR_NETWORK,e,f),{cause:UN.cause||UN});throw nd.from(UN,UN&&UN.code,e,f)}}),yh={http:null,xhr:Yd,fetch:bh};Ju.forEach(yh,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(zN){}Object.defineProperty(e,"adapterName",{value:t})}}));const wh=e=>"- ".concat(e),xh=e=>Ju.isFunction(e)||null===e||!1===e,_h=e=>{e=Ju.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!xh(n)&&(r=yh[(t=String(n)).toLowerCase()],void 0===r))throw new nd("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(wh).join("\n"):" "+wh(e[0]):"as no adapter specified";throw new nd("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Sh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Id(null,e)}function kh(e){Sh(e),e.headers=Pd.from(e.headers),e.data=Ld.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return _h(e.adapter||Ad.adapter)(e).then((function(t){return Sh(e),t.data=Ld.call(e,e.transformResponse,t),t.headers=Pd.from(t.headers),t}),(function(t){return Dd(t)||(Sh(e),t&&t.response&&(t.response.data=Ld.call(e,e.transformResponse,t.response),t.response.headers=Pd.from(t.response.headers))),Promise.reject(t)}))}const Ah="1.10.0",Eh={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Eh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ch={};Eh.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Ah+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new nd(r(i," has been removed"+(t?" in "+t:"")),nd.ERR_DEPRECATED);return t&&!Ch[i]&&(Ch[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},Eh.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Mh={assertOptions:function(e,t,n){if("object"!==typeof e)throw new nd("options must be an object",nd.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new nd("option "+s+" must be "+n,nd.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new nd("Unknown option "+s,nd.ERR_BAD_OPTION)}},validators:Eh},Rh=Mh.validators;class Nh{constructor(e){this.defaults=e||{},this.interceptors={request:new pd,response:new pd}}async request(e,t){try{return await this._request(e,t)}catch(UN){if(UN instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{UN.stack?n&&!String(UN.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(UN.stack+="\n"+n):UN.stack=n}catch(zN){}}throw UN}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Kd(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Mh.assertOptions(n,{silentJSONParsing:Rh.transitional(Rh.boolean),forcedJSONParsing:Rh.transitional(Rh.boolean),clarifyTimeoutError:Rh.transitional(Rh.boolean)},!1),null!=r&&(Ju.isFunction(r)?t.paramsSerializer={serialize:r}:Mh.assertOptions(r,{encode:Rh.function,serialize:Rh.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Mh.assertOptions(t,{baseUrl:Rh.spelling("baseURL"),withXsrfToken:Rh.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Ju.merge(i.common,i[t.method]);i&&Ju.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Pd.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[kh.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=kh.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return fd(Gd((e=Kd(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ju.forEach(["delete","get","head","options"],(function(e){Nh.prototype[e]=function(t,n){return this.request(Kd(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ju.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Kd(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Nh.prototype[e]=t(),Nh.prototype[e+"Form"]=t(!0)}));const Th=Nh;class Ph{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Id(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ph((function(t){e=t})),cancel:e}}}const Lh=Ph;const Dh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dh).forEach((e=>{let[t,n]=e;Dh[n]=t}));const jh=Dh;const Ih=function e(t){const n=new Th(t),r=fu(Th.prototype.request,n);return Ju.extend(r,Th.prototype,n,{allOwnKeys:!0}),Ju.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Kd(t,n))},r}(Ad);Ih.Axios=Th,Ih.CanceledError=Id,Ih.CancelToken=Lh,Ih.isCancel=Dd,Ih.VERSION=Ah,Ih.toFormData=od,Ih.AxiosError=nd,Ih.Cancel=Ih.CanceledError,Ih.all=function(e){return Promise.all(e)},Ih.spread=function(e){return function(t){return e.apply(null,t)}},Ih.isAxiosError=function(e){return Ju.isObject(e)&&!0===e.isAxiosError},Ih.mergeConfig=Kd,Ih.AxiosHeaders=Pd,Ih.formToJSON=e=>Sd(Ju.isHTMLForm(e)?new FormData(e):e),Ih.getAdapter=_h,Ih.HttpStatusCode=jh,Ih.default=Ih;const Oh=Ih,Fh=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),c=ne();return(0,He.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,He.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,He.jsx)("div",{children:(0,He.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Login ke DMS AINO"})}),i&&(0,He.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,He.jsx)("span",{className:"block sm:inline",children:i})}),(0,He.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),s(""),e&&n){l(!0);try{const t=await Oh.post("".concat("http://localhost:8000","/users/login"),{username:e,password:n}),r=t.data.token;r?(localStorage.setItem("token",r),localStorage.setItem("username",t.data.user.username),localStorage.setItem("id",t.data.user._id),localStorage.setItem("email",t.data.user.email),localStorage.setItem("role",t.data.user.role),localStorage.setItem("division",t.data.user.division),c("/dashboard")):s("Token not found in response")}catch(UN){var r,i;const t=(null===(r=UN.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||UN;s("Failed to login: ".concat(t))}finally{l(!1)}}else s("Please fill in all fields")},children:[(0,He.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,He.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,He.jsx)("input",{id:"username",name:"username",type:"username",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:e=>t(e.target.value)})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,He.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:e=>r(e.target.value)})]})]}),(0,He.jsx)("div",{className:"flex items-center justify-between",children:(0,He.jsxs)("div",{className:"flex items-center",children:[(0,He.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,He.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),(0,He.jsx)("div",{children:(0,He.jsx)("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat(o?"opacity-75 cursor-not-allowed":""),children:o?(0,He.jsxs)(He.Fragment,{children:[(0,He.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,He.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,He.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Login..."]}):"Login"})})]})]})})},Wh=["className"],Bh=["className"],zh=["className"],Uh=["className"],Hh=["className"],Vh=["className"],Gh=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Wh);return(0,He.jsx)("div",Fe({ref:t,className:$t("rounded-lg border bg-card text-card-foreground shadow-sm",n)},r))}));Gh.displayName="Card";const qh=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Bh);return(0,He.jsx)("div",Fe({ref:t,className:$t("flex flex-col space-y-1.5 p-6",n)},r))}));qh.displayName="CardHeader";const Kh=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,zh);return(0,He.jsx)("div",Fe({ref:t,className:$t("text-2xl font-semibold leading-none tracking-tight",n)},r))}));Kh.displayName="CardTitle";a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Uh);return(0,He.jsx)("div",Fe({ref:t,className:$t("text-sm text-muted-foreground",n)},r))})).displayName="CardDescription";const Xh=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Hh);return(0,He.jsx)("div",Fe({ref:t,className:$t("p-6 pt-0",n)},r))}));Xh.displayName="CardContent";a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,Vh);return(0,He.jsx)("div",Fe({ref:t,className:$t("flex items-center p-6 pt-0",n)},r))})).displayName="CardFooter";const Yh=an("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Qh=an("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);function $h(){return(0,He.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,He.jsxs)(Gh,{children:[(0,He.jsx)(qh,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,He.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,He.jsx)(Kh,{className:"text-sm font-medium",children:"Total Dokumen"}),(0,He.jsx)(lu,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,He.jsxs)(Xh,{children:[(0,He.jsx)("div",{className:"text-2xl font-bold",children:"142"}),(0,He.jsx)("p",{className:"text-xs text-muted-foreground",children:"+12 from last month"})]})]}),(0,He.jsxs)(Gh,{children:[(0,He.jsx)(qh,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,He.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,He.jsx)(Kh,{className:"text-sm font-medium",children:"Dokumen Tertanda Tangani"}),(0,He.jsx)(Yh,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,He.jsxs)(Xh,{children:[(0,He.jsx)("div",{className:"text-2xl font-bold",children:"98"}),(0,He.jsx)("p",{className:"text-xs text-muted-foreground",children:"+8 from last month"})]})]}),(0,He.jsxs)(Gh,{children:[(0,He.jsx)(qh,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,He.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,He.jsx)(Kh,{className:"text-sm font-medium",children:"Dokumen Complete"}),(0,He.jsx)(Qh,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,He.jsxs)(Xh,{children:[(0,He.jsx)("div",{className:"text-2xl font-bold",children:"24"}),(0,He.jsx)("p",{className:"text-xs text-muted-foreground",children:"+3 from last week"})]})]}),(0,He.jsxs)(Gh,{children:[(0,He.jsx)(qh,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,He.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,He.jsx)(Kh,{className:"text-sm font-medium",children:"Dokumen Ter-upload"}),(0,He.jsx)(Qh,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,He.jsxs)(Xh,{children:[(0,He.jsx)("div",{className:"text-2xl font-bold",children:"30"}),(0,He.jsx)("p",{className:"text-xs text-muted-foreground",children:"+5 from last week"})]})]})]})}function Jh(){return(0,He.jsx)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:(0,He.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Document Management System"}),(0,He.jsx)("p",{className:"text-muted-foreground",children:"Platform untuk memanajemen, tanda tangan dan track dokumen PT. AINO."})]}),(0,He.jsx)($h,{})]})})}const Zh={ADD:"ADDENDUM",BA:"BERITA ACARA",SKU:"SURAT KUASA",JO:"JOB ORDER",KK:"KONTRAK KERJA",KW:"KWITANSI",MOM:"MINUTES OF MEETING",MOU:"MEMORANDUM OF UNDERSTANDING",NC:"NOTA CAPAIAN",ND:"NOTA DINAS",PENG:"PENGADUAN",PEM:"PEMBERITAHUAN",PB:"PENERIMAAN BARANG",PM:"PERMOHONAN",PN:"PENOLAKAN",NDA:"PERJANJIAN KERAHASIAAN",PKS:"PERJANJIAN KERJA SAMA",PR:"PERKENALAN",PNW:"PENERANGAN",PO:"PURCHASE ORDER",PT:"PENGANTAR",SK:"SURAT KEPUTUSAN",SKT:"SURAT KETERANGAN",SP:"SURAT PERINGATAN",SPI:"SURAT PEMBERIAN IZIN",SPK:"SURAT PERINTAH KERJA",SPR:"SURAT PERNYATAAN",SR:"SURAT REKOMENDASI",SE:"SURAT EDARAN",PNG:"PENUGASAN",SERT:"SERTIFIKAT",TAG:"TAGIHAN",U:"UNDANGAN",ST:"SURAT TEGURAN",PQ:"MATERIAL REQUEST",PJ:"PERSETUJUAN",CL:"CONFIRMATION LETTER"},ef=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),d=ne();return(0,He.jsxs)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Upload"}),(0,He.jsx)("p",{className:"text-muted-foreground",children:"Upload dokumenmu."})]}),(0,He.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 bg-background rounded-lg shadow-lg border-t-ring",children:[(0,He.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Form Upload"}),o&&(0,He.jsx)("div",{className:"mb-4 text-red-600 border border-red-400 bg-red-100 p-2 rounded",children:o}),(0,He.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),!e||!n||!i)return void l("Tolong isi semua kolom!");const r=new FormData;r.append("file",e),r.append("type",n),r.append("content",i),u(!0);try{await Oh.post("http://localhost:8000/documents",r,{headers:{"Content-Type":"multipart/form-data","x-access-token":localStorage.getItem("token")}}),d("/draft")}catch(UN){var s,a;l("Upload failed: ".concat(null===(s=UN.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message))}finally{u(!1)}},children:[(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsxs)("label",{className:"block mb-1 font-medium",children:["Pilih File: ",(0,He.jsx)("em",{children:"(.pdf)"})]}),(0,He.jsx)("input",{type:"file",accept:".pdf",onChange:e=>t(e.target.files[0]),required:!0,className:"block w-full border rounded px-3 py-2"})]}),(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsx)("label",{className:"block mb-1 font-medium",children:"Tipe Dokumen:"}),(0,He.jsxs)("select",{value:n,onChange:e=>r(e.target.value),required:!0,className:"block w-full border rounded px-3 py-2 bg-background",children:[(0,He.jsx)("option",{value:"",children:"Pilih Tipe"}),Object.keys(Zh).map((e=>(0,He.jsx)("option",{value:e,children:"".concat(e," (").concat(Zh[e],")")},e)))]})]}),(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsx)("label",{className:"block mb-1 font-medium",children:"Deskripsi:"}),(0,He.jsx)("textarea",{value:i,onChange:e=>s(e.target.value),required:!0,rows:"4",className:"block w-full border rounded px-3 py-2 bg-background",placeholder:"Masukan deskripsi dokumen..."})]}),(0,He.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-black text-white px-4 py-2 rounded hover:bg-black border border-t-green-300 ".concat(c?"opacity-75 cursor-not-allowed":""),children:c?"Uploading...":"Upload Dokumen"})]})]})]})},tf=["className","type"],nf=a.forwardRef(((e,t)=>{let{className:n,type:r}=e,i=We(e,tf);return(0,He.jsx)("input",Fe({type:r,className:$t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},i))}));nf.displayName="Input";const rf=["className"],sf=["className"],af=["className"],of=["className"],lf=["className"],cf=["className"],uf=["className"],df=["className"],hf=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,rf);return(0,He.jsx)("div",{className:"relative w-full overflow-auto",children:(0,He.jsx)("table",Fe({ref:t,className:$t("w-full caption-bottom text-sm",n)},r))})}));hf.displayName="Table";const ff=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,sf);return(0,He.jsx)("thead",Fe({ref:t,className:$t("[&_tr]:border-b",n)},r))}));ff.displayName="TableHeader";const pf=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,af);return(0,He.jsx)("tbody",Fe({ref:t,className:$t("[&_tr:last-child]:border-0",n)},r))}));pf.displayName="TableBody";a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,of);return(0,He.jsx)("tfoot",Fe({ref:t,className:$t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n)},r))})).displayName="TableFooter";const gf=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,lf);return(0,He.jsx)("tr",Fe({ref:t,className:$t("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n)},r))}));gf.displayName="TableRow";const mf=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,cf);return(0,He.jsx)("th",Fe({ref:t,className:$t("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n)},r))}));mf.displayName="TableHead";const vf=a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,uf);return(0,He.jsx)("td",Fe({ref:t,className:$t("p-4 align-middle [&:has([role=checkbox])]:pr-0",n)},r))}));vf.displayName="TableCell";a.forwardRef(((e,t)=>{let{className:n}=e,r=We(e,df);return(0,He.jsx)("caption",Fe({ref:t,className:$t("mt-4 text-sm text-muted-foreground",n)},r))})).displayName="TableCaption";const bf=["className","variant"],yf=rt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function wf(e){let{className:t,variant:n}=e,r=We(e,bf);return(0,He.jsx)("div",Fe({className:$t(yf({variant:n}),t)},r))}const xf=an("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),_f=an("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Sf=an("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),kf=an("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Af=an("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ef=an("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Cf=an("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function Mf(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0),[i,s]=(0,a.useState)(""),o=ne(),l=async()=>{try{const e=await Oh.get("".concat("http://localhost:8000","/documents/?status=saved,sent"),{headers:{"x-access-token":localStorage.getItem("token")}});t(e.data)}catch(UN){var e,n;s("Gagal dalam load dokumen. ".concat(null===(e=UN.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message))}finally{r(!1)}},c=async(e,t)=>{try{const n=await Oh.get("".concat("http://localhost:8000","/documents/blob/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")},responseType:"blob"}),r=window.URL.createObjectURL(n.data);let i=document.createElement("a");i.href=r,i.download=t,i.click()}catch(UN){var n,r;alert("Gagal dalam download dokumen. ".concat(null===(n=UN.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message))}};return(0,a.useEffect)((()=>{l()}),[]),n?(0,He.jsx)("p",{className:"p-4",children:"Loading documents..."}):i?(0,He.jsx)("p",{className:"p-4 text-red-500",children:i}):(0,He.jsx)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:(0,He.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Draft"}),(0,He.jsxs)("p",{className:"text-muted-foreground",children:["Dokumen yang baru saja kamu upload."," ","admin"===localStorage.getItem("role")?"Role kamu adalah Admin. Kamu dapat melihat semua dokumen yang 'saved' dan 'sent' dari semua user.":""]})]}),(0,He.jsx)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:(0,He.jsxs)("div",{className:"flex w-full md:w-1/2 items-center gap-2",children:[(0,He.jsxs)("div",{className:"relative w-full",children:[(0,He.jsx)(xf,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,He.jsx)(nf,{type:"search",placeholder:"Cari dokumen...",className:"w-full pl-8"})]}),(0,He.jsx)(en,{variant:"outline",size:"icon",children:(0,He.jsx)(_f,{className:"h-4 w-4"})})]})}),(0,He.jsx)("div",{className:"rounded-md border",children:(0,He.jsxs)(hf,{children:[(0,He.jsx)(ff,{children:(0,He.jsxs)(gf,{children:[(0,He.jsx)(mf,{children:"Deskripsi"}),(0,He.jsx)(mf,{children:"Nomor"}),(0,He.jsx)(mf,{children:"Status"}),(0,He.jsx)(mf,{children:"Divisi"}),(0,He.jsx)(mf,{children:"Tipe"}),(0,He.jsx)(mf,{children:"Tanggal Upload"}),(0,He.jsx)(mf,{className:"w-[70px]"})]})}),(0,He.jsx)(pf,{children:e.rows.map((e=>(0,He.jsxs)(gf,{children:[(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.content})]})}),(0,He.jsx)(vf,{children:(0,He.jsx)("div",{className:"flex items-center gap-3",children:(0,He.jsx)("span",{className:"font-medium",children:e.title})})}),(0,He.jsx)(vf,{children:(0,He.jsx)(wf,{variant:"saved"===e.status?"success":"sent"===e.status?"warning":"completed"===e.status?"outline":"secondary",className:"saved"===e.status?"bg-green-500/10 text-green-500 hover:bg-green-500/20 hover:text-green-600":"sent"===e.status?"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20 hover:text-yellow-600":"completed"===e.status?"bg-gray-500/10 text-gray-500 hover:bg-gray-500/20 hover:text-gray-600":"",children:e.status})}),(0,He.jsx)(vf,{children:e.division}),(0,He.jsx)(vf,{children:e.type}),(0,He.jsx)(vf,{children:e.createdAt}),(0,He.jsx)(vf,{children:(0,He.jsxs)(Qc,{children:[(0,He.jsx)($c,{asChild:!0,children:(0,He.jsxs)(en,{variant:"ghost",size:"icon",children:[(0,He.jsx)(Sf,{className:"h-4 w-4"}),(0,He.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,He.jsxs)(Jc,{align:"end",children:["sent"!==e.status&&(0,He.jsxs)(Zc,{onClick:()=>{return t=e._id,n=e.title,void o("/sent",{state:{id:t,title:n}});var t,n},children:[(0,He.jsx)(kf,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Kirim"})]}),(0,He.jsxs)(Zc,{onClick:()=>{return t=e._id,n=e.title,void o("/view",{state:{id:t,title:n}});var t,n},children:[(0,He.jsx)(Af,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Lihat"})]}),(0,He.jsxs)(Zc,{onClick:()=>c(e._id,e.title),children:[(0,He.jsx)(Ef,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Download"})]}),(0,He.jsxs)(Zc,{onClick:()=>(async e=>{try{await Oh.delete("".concat("http://localhost:8000","/documents/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")}}),alert("Dokumen berhasil di hapus!"),await l()}catch(UN){var t,n;alert("Gagal dalam menghapus dokumen. ".concat(null===(t=UN.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message))}})(e._id),children:[(0,He.jsx)(Cf,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Hapus"})]})]})]})})]},e._id)))})]})})]})})}function Rf(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0),[i,s]=(0,a.useState)(""),o=ne(),l=async(e,t)=>{try{const n=await Oh.get("".concat("http://localhost:8000","/documents/blob/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")},responseType:"blob"}),r=window.URL.createObjectURL(n.data);let i=document.createElement("a");i.href=r,i.download=t,i.click()}catch(UN){var n,r;alert("Gagal dalam download dokumen. ".concat(null===(n=UN.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message))}},c=(e,t)=>{o("/view",{state:{id:e,title:t,signing:!0}})};return(0,a.useEffect)((()=>{(async()=>{try{const e=await Oh.get("".concat("http://localhost:8000","/documents/inbox"),{headers:{"x-access-token":localStorage.getItem("token")}});t(e.data)}catch(UN){s("Gagal dalam load dokumen. ".concat(UN.response.data.message))}finally{r(!1)}})()}),[]),n?(0,He.jsx)("p",{className:"p-4",children:"Loading documents..."}):i?(0,He.jsx)("p",{className:"p-4 text-red-500",children:i}):(0,He.jsx)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:(0,He.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Inbox"}),(0,He.jsx)("p",{className:"text-muted-foreground",children:"Dokumen yang dikirim kepadamu."})]}),(0,He.jsx)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:(0,He.jsxs)("div",{className:"flex w-full md:w-1/2 items-center gap-2",children:[(0,He.jsxs)("div",{className:"relative w-full",children:[(0,He.jsx)(xf,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,He.jsx)(nf,{type:"search",placeholder:"Cari dokumen...",className:"w-full pl-8"})]}),(0,He.jsx)(en,{variant:"outline",size:"icon",children:(0,He.jsx)(_f,{className:"h-4 w-4"})})]})}),(0,He.jsx)("div",{className:"rounded-md border",children:(0,He.jsxs)(hf,{children:[(0,He.jsx)(ff,{children:(0,He.jsxs)(gf,{children:[(0,He.jsx)(mf,{children:"Deskripsi"}),(0,He.jsx)(mf,{children:"Nomor"}),(0,He.jsx)(mf,{children:"Divisi"}),(0,He.jsx)(mf,{children:"Tipe"}),(0,He.jsx)(mf,{children:"Tanggal Dikirim"}),(0,He.jsx)(mf,{className:"w-[70px]"}),(0,He.jsx)(mf,{className:"w-[70px]"})]})}),(0,He.jsx)(pf,{children:e.rows.map((e=>(0,He.jsxs)(gf,{children:[(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.content})]})}),(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,He.jsx)(vf,{children:e.division}),(0,He.jsx)(vf,{children:e.type}),(0,He.jsx)(vf,{children:e.dateSent}),(0,He.jsx)(vf,{children:(0,He.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:()=>c(e._id,e.title),children:"SIGN"})}),(0,He.jsx)(vf,{children:(0,He.jsxs)(Qc,{children:[(0,He.jsx)($c,{asChild:!0,children:(0,He.jsxs)(en,{variant:"ghost",size:"icon",children:[(0,He.jsx)(Sf,{className:"h-4 w-4"}),(0,He.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,He.jsxs)(Jc,{align:"end",children:[(0,He.jsxs)(Zc,{onClick:()=>c(e._id,e.title),children:[(0,He.jsx)(Af,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Lihat"})]}),(0,He.jsxs)(Zc,{onClick:()=>l(e._id,e.title),children:[(0,He.jsx)(Ef,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Download"})]})]})]})})]},e._id)))})]})})]})})}function Nf(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(null),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),c=ne(),u=async()=>{try{const e=await Oh.get("".concat("http://localhost:8000","/documents/?status=complete"),{headers:{"x-access-token":localStorage.getItem("token")}});t(e.data);const n=await Oh.get("".concat("http://localhost:8000","/documents/signed"),{headers:{"x-access-token":localStorage.getItem("token")}});r(n.data)}catch(UN){var e,n;l("Gagal dalam load dokumen. ".concat(null===(e=UN.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message))}finally{s(!1)}},d=async(e,t)=>{try{const n=await Oh.get("".concat("http://localhost:8000","/documents/blob/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")},responseType:"blob"}),r=window.URL.createObjectURL(n.data);let i=document.createElement("a");i.href=r,i.download=t,i.click()}catch(UN){var n,r;alert("Gagal dalam download dokumen. ".concat(null===(n=UN.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message))}},h=(e,t)=>{c("/view",{state:{id:e,title:t}})};return(0,a.useEffect)((()=>{u()}),[]),i?(0,He.jsx)("p",{className:"p-4",children:"Loading documents..."}):o?(0,He.jsx)("p",{className:"p-4 text-red-500",children:o}):(0,He.jsx)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:(0,He.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Completed"}),(0,He.jsxs)("p",{className:"text-muted-foreground",children:["Dokumen yang ",(0,He.jsx)("strong",{children:"kamu upload"})," dan sudah di tanda tangani oleh semua penerima."," ","admin"===localStorage.getItem("role")?"Role kamu adalah Admin. Kamu dapat melihat semua dokumen yang 'complete' dari semua user.":""]})]}),(0,He.jsx)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:(0,He.jsxs)("div",{className:"flex w-full md:w-1/2 items-center gap-2",children:[(0,He.jsxs)("div",{className:"relative w-full",children:[(0,He.jsx)(xf,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,He.jsx)(nf,{type:"search",placeholder:"Cari dokumen...",className:"w-full pl-8"})]}),(0,He.jsx)(en,{variant:"outline",size:"icon",children:(0,He.jsx)(_f,{className:"h-4 w-4"})})]})}),(0,He.jsx)("div",{className:"rounded-md border mb-4",children:(0,He.jsxs)(hf,{children:[(0,He.jsx)(ff,{children:(0,He.jsxs)(gf,{children:[(0,He.jsx)(mf,{children:"Deskripsi"}),(0,He.jsx)(mf,{children:"Nomor"}),(0,He.jsx)(mf,{children:"Status"}),(0,He.jsx)(mf,{children:"Divisi"}),(0,He.jsx)(mf,{children:"Tipe"}),(0,He.jsx)(mf,{children:"Tanggal Complete"}),(0,He.jsx)(mf,{className:"w-[70px]"})]})}),(0,He.jsx)(pf,{children:e.rows.map((e=>(0,He.jsxs)(gf,{children:[(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.content})]})}),(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,He.jsx)(vf,{children:(0,He.jsx)(wf,{variant:"saved"===e.status?"success":"sent"===e.status?"warning":"completed"===e.status?"outline":"secondary",className:"saved"===e.status?"bg-green-500/10 text-green-500 hover:bg-green-500/20 hover:text-green-600":"sent"===e.status?"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20 hover:text-yellow-600":"completed"===e.status?"bg-gray-500/10 text-gray-500 hover:bg-gray-500/20 hover:text-gray-600":"",children:e.status})}),(0,He.jsx)(vf,{children:e.division}),(0,He.jsx)(vf,{children:e.type}),(0,He.jsx)(vf,{children:e.dateComplete}),(0,He.jsx)(vf,{children:(0,He.jsxs)(Qc,{children:[(0,He.jsx)($c,{asChild:!0,children:(0,He.jsxs)(en,{variant:"ghost",size:"icon",children:[(0,He.jsx)(Sf,{className:"h-4 w-4"}),(0,He.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,He.jsxs)(Jc,{align:"end",children:[(0,He.jsxs)(Zc,{onClick:()=>h(e._id,e.title),children:[(0,He.jsx)(Af,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Lihat"})]}),(0,He.jsxs)(Zc,{onClick:()=>d(e._id,e.title),children:[(0,He.jsx)(Ef,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Download"})]}),(0,He.jsxs)(Zc,{onClick:()=>(async e=>{try{await Oh.delete("".concat("http://localhost:8000","/documents/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")}}),alert("Dokumen berhasil di hapus!"),await u()}catch(UN){var t,n;alert("Gagal dalam menghapus dokumen. ".concat(null===(t=UN.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message))}})(e._id),children:[(0,He.jsx)(Cf,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Hapus"})]})]})]})})]},e._id)))})]})}),(0,He.jsxs)("p",{className:"text-muted-foreground",children:["Seluruh dokumen yang ",(0,He.jsx)("strong",{children:"pernah"})," kamu tanda tangani,"," ",(0,He.jsx)("strong",{children:(0,He.jsx)("em",{children:"dari kamu maupun orang lain"})}),":"]}),(0,He.jsx)("div",{className:"rounded-md border",children:(0,He.jsxs)(hf,{children:[(0,He.jsx)(ff,{children:(0,He.jsxs)(gf,{children:[(0,He.jsx)(mf,{children:"Deskripsi"}),(0,He.jsx)(mf,{children:"Nomor"}),(0,He.jsx)(mf,{children:"Divisi"}),(0,He.jsx)(mf,{children:"Tipe"}),(0,He.jsx)(mf,{children:"Tanggal Tanda Tangan"}),(0,He.jsx)(mf,{className:"w-[70px]"})]})}),(0,He.jsx)(pf,{children:n.map((e=>(0,He.jsxs)(gf,{children:[(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.content})]})}),(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(lu,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,He.jsx)(vf,{children:e.division}),(0,He.jsx)(vf,{children:e.type}),(0,He.jsx)(vf,{children:e.dateSigned}),(0,He.jsx)(vf,{children:(0,He.jsxs)(Qc,{children:[(0,He.jsx)($c,{asChild:!0,children:(0,He.jsxs)(en,{variant:"ghost",size:"icon",children:[(0,He.jsx)(Sf,{className:"h-4 w-4"}),(0,He.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,He.jsxs)(Jc,{align:"end",children:[(0,He.jsxs)(Zc,{onClick:()=>h(e._id,e.title),children:[(0,He.jsx)(Af,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Lihat"})]}),(0,He.jsxs)(Zc,{onClick:()=>d(e._id,e.title),children:[(0,He.jsx)(Ef,{className:"mr-2 h-4 w-4"}),(0,He.jsx)("span",{children:"Download"})]})]})]})})]},e._id)))})]})})]})})}const Tf=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function Pf(e,t){const n={};for(const r of Tf){const i=e[r];i&&(n[r]=t?e=>i(e,t(r)):i)}return n}function Lf(e){let t=!1;return{promise:new Promise(((n,r)=>{e.then((e=>!t&&n(e))).catch((e=>!t&&r(e)))})),cancel(){t=!0}}}var Df="Invariant failed";function jf(e,t){if(!e)throw new Error(Df)}var If,Of,Ff,Wf,Bf,zf,Uf,Hf,Vf,Gf,qf,Kf,Xf,Yf,Qf,$f=n(440),Jf=Object.prototype.hasOwnProperty;function Zf(e,t,n){for(n of e.keys())if(ep(n,t))return n}function ep(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ep(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=Zf(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=Zf(t,i)))return!1;if(!ep(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Jf.call(e,n)&&++r&&!Jf.call(t,n))return!1;if(!(n in t)||!ep(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}function tp(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}function np(e,t){Kn(e,t),t.add(e)}function rp(e,t,n){return n(Yn(e,t))}const ip="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),sp=[.001,0,0,.001,0,0],ap=1.35,op=1,lp=2,cp=4,up=16,dp=32,hp=64,fp=128,pp=256,gp={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},mp={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},vp={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},bp=0,yp=1,wp=2,xp=3,_p=3,Sp=4,kp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ap={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ep=1,Cp=2,Mp=3,Rp=4,Np=5,Tp={ERRORS:0,WARNINGS:1,INFOS:5},Pp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Lp=0,Dp=1,jp=2,Ip=3;let Op=Tp.WARNINGS;function Fp(e){Number.isInteger(e)&&(Op=e)}function Wp(){return Op}function Bp(e){Op>=Tp.INFOS&&console.log("Info: ".concat(e))}function zp(e){Op>=Tp.WARNINGS&&console.log("Warning: ".concat(e))}function Up(e){throw new Error(e)}function Hp(e,t){e||Up(t)}function Vp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(i){}}const r=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r)?r:null}function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=URL.parse(e);return r?(r.hash=t,r.href):n&&Vp(e,"http://example.com")?e.split("#",1)[0]+"".concat(t?"#".concat(t):""):""}function qp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Kp=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class Xp extends Kp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Yp extends Kp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Qp extends Kp{constructor(e){super(e,"InvalidPDFException")}}class $p extends Kp{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class Jp extends Kp{constructor(e){super(e,"FormatError")}}class Zp extends Kp{constructor(e){super(e,"AbortException")}}function eg(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||Up("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const s=Math.min(i+n,t),a=e.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function tg(e){"string"!==typeof e&&Up("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}class ng{static get isLittleEndian(){return qp(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return qp(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return qp(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return qp(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return qp(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return qp(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const rg=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class ig{static makeHexColor(e,t,n){return"#".concat(rg[e]).concat(rg[t]).concat(rg[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e[n],i=e[n+1];e[n]=r*t[0]+i*t[2]+t[4],e[n+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[n+c],u=e[n+c+1];e[n+c]=t*r+u*s+o,e[n+c+1]=t*i+u*a+l}}static applyInverseTransform(e,t){const n=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=e[0],u=e[1],d=e[2],h=e[3];let f=r*c+o,p=f,g=r*d+o,m=g,v=a*u+l,b=v,y=a*h+l,w=y;if(0!==i||0!==s){const e=i*c,t=i*d,n=s*u,r=s*h;f+=n,m+=n,g+=r,p+=r,v+=e,w+=e,y+=t,b+=t}n[0]=Math.min(n[0],f,g,p,m),n[1]=Math.min(n[1],v,y,b,w),n[2]=Math.max(n[2],f,g,p,m),n[3]=Math.max(n[3],v,y,b,w)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],i=e[2],s=e[3],a=n**2+r**2,o=n*i+r*s,l=i**2+s**2,c=(a+l)/2,u=Math.sqrt(c**2-(a*l-o**2));t[0]=Math.sqrt(c+u||1),t[1]=Math.sqrt(c-u||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>s?null:[n,i,r,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,n,r,i,s,a,o,l){l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o),Yn(ig,this,ag).call(this,e,n,i,a,t,r,s,o,3*(3*(n-i)-e+a),6*(e-2*n+i),3*(n-e),l),Yn(ig,this,ag).call(this,e,n,i,a,t,r,s,o,3*(3*(r-s)-t+o),6*(t-2*r+s),3*(r-t),l)}}function sg(e,t,n,r,i,s,a,o,l,c){if(l<=0||l>=1)return;const u=1-l,d=l*l,h=d*l,f=u*(u*(u*e+3*l*t)+3*d*n)+h*r,p=u*(u*(u*i+3*l*s)+3*d*a)+h*o;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}function ag(e,t,n,r,i,s,a,o,l,c,u,d){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&Yn(If,this,sg).call(this,e,t,n,r,i,s,a,o,-u/c,d));const h=c**2-4*u*l;if(h<0)return;const f=Math.sqrt(h),p=2*l;Yn(If,this,sg).call(this,e,t,n,r,i,s,a,o,(-c+f)/p,d),Yn(If,this,sg).call(this,e,t,n,r,i,s,a,o,(-c-f)/p,d)}If=ig;let og=null,lg=null;function cg(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),eg(e)}const ug="pdfjs_internal_id_";function dg(e,t,n){return Math.min(Math.max(e,t),n)}function hg(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(eg(e))}"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t=>{t(e(...n))}))}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce(((e,t)=>e+t),0)});const fg="http://www.w3.org/2000/svg";class pg{}async function gg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(xg(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)}))}Of=pg,Ie(pg,"CSS",96),Ie(pg,"PDF",72),Ie(pg,"PDF_TO_CSS_UNITS",Of.CSS/Of.PDF);class mg{constructor(e){let{viewBox:t,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}=e;this.viewBox=t,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let u,d,h,f,p,g,m,v;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f),0===u?(p=Math.abs(c-t[1])*r+s,g=Math.abs(l-t[0])*r+a,m=(t[3]-t[1])*r,v=(t[2]-t[0])*r):(p=Math.abs(l-t[0])*r+s,g=Math.abs(c-t[1])*r+a,m=(t[2]-t[0])*r,v=(t[3]-t[1])*r),this.transform=[u*r,d*r,h*r,f*r,p-u*r*l-h*r*c,g-d*r*l-f*r*c],this.width=m,this.height=v}get rawDims(){const e=this.viewBox;return qp(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new mg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const n=[e,t];return ig.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];ig.applyTransform(t,this.transform);const n=[e[2],e[3]];return ig.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return ig.applyInverseTransform(n,this.transform),n}}class vg extends Kp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function bg(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function yg(e){return"string"===typeof e&&/\.pdf$/i.test(e)}class wg{constructor(){Ie(this,"started",Object.create(null)),Ie(this,"times",[])}time(e){e in this.started&&zp("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||zp("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}}function xg(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function _g(e){e.preventDefault()}function Sg(e){e.preventDefault(),e.stopPropagation()}class kg{static toDateObject(e){if(!e||"string"!==typeof e)return null;Yn(kg,this,Ag)._||(Ag._=Yn(kg,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=Yn(kg,this,Ag)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,r,i,s,a,o))}}var Ag={_:void 0};function Eg(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(zp('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function Cg(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform();return[t,n,r,i,s,a]}function Mg(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform().invertSelf();return[t,n,r,i,s,a]}function Rg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof mg){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:s}=e,a=ng.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(r,"px"),l="var(--total-scale-factor) * ".concat(i,"px"),c=a?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),u=a?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(s.width=u,s.height=c):(s.width=c,s.height=u)}r&&e.setAttribute("data-main-rotation",t.rotation)}class Ng{constructor(){const{pixelRatio:e}=Ng;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=1/0,a=1/0,o=1/0;(n=Ng.capPixels(n,i))>0&&(s=Math.sqrt(n/(e*t))),-1!==r&&(a=r/e,o=r/t);const l=Math.min(s,a,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Tg=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Pg=new WeakMap,Lg=new WeakMap,Dg=new WeakMap,jg=new WeakMap,Ig=new WeakMap,Og=new WeakMap,Fg=new WeakSet;class Wg{constructor(e){np(this,Fg),Xn(this,Pg,null),Xn(this,Lg,null),Xn(this,Dg,void 0),Xn(this,jg,null),Xn(this,Ig,null),Xn(this,Og,null),$n(Dg,this,e),qg._||(qg._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=$n(Pg,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=Qn(Dg,this)._uiManager._signal;e.addEventListener("contextmenu",_g,{signal:t}),e.addEventListener("pointerdown",Bg,{signal:t});const n=$n(jg,this,document.createElement("div"));n.className="buttons",e.append(n);const r=Qn(Dg,this).toolbarPosition;if(r){const{style:t}=e,n="ltr"===Qn(Dg,this)._uiManager.direction?1-r[0]:r[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*r[1],"% + var(--editor-toolbar-vert-offset))")}return Yn(Fg,this,Vg).call(this),e}get div(){return Qn(Pg,this)}hide(){var e;Qn(Pg,this).classList.add("hidden"),null===(e=Qn(Lg,this))||void 0===e||e.hideDropdown()}show(){var e;Qn(Pg,this).classList.remove("hidden"),null===(e=Qn(Ig,this))||void 0===e||e.shown()}async addAltText(e){const t=await e.render();Yn(Fg,this,Hg).call(this,t),Qn(jg,this).prepend(t,rp(Fg,this,Gg)),$n(Ig,this,e)}addColorPicker(e){$n(Lg,this,e);const t=e.renderButton();Yn(Fg,this,Hg).call(this,t),Qn(jg,this).prepend(t,rp(Fg,this,Gg))}async addEditSignatureButton(e){const t=$n(Og,this,await e.renderEditButton(Qn(Dg,this)));Yn(Fg,this,Hg).call(this,t),Qn(jg,this).prepend(t,rp(Fg,this,Gg))}updateEditSignatureButton(e){Qn(Og,this)&&(Qn(Og,this).title=e)}remove(){var e;Qn(Pg,this).remove(),null===(e=Qn(Lg,this))||void 0===e||e.destroy(),$n(Lg,this,null)}}function Bg(e){e.stopPropagation()}function zg(e){Qn(Dg,this)._focusEventsAllowed=!1,Sg(e)}function Ug(e){Qn(Dg,this)._focusEventsAllowed=!0,Sg(e)}function Hg(e){const t=Qn(Dg,this)._uiManager._signal;e.addEventListener("focusin",Yn(Fg,this,zg).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",Yn(Fg,this,Ug).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_g,{signal:t})}function Vg(){const{editorType:e,_uiManager:t}=Qn(Dg,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",qg._[e]),Yn(Fg,this,Hg).call(this,n),n.addEventListener("click",(e=>{t.delete()}),{signal:t._signal}),Qn(jg,this).append(n)}function Gg(e){const t=document.createElement("div");return t.className="divider",t}var qg={_:null},Kg=new WeakMap,Xg=new WeakMap,Yg=new WeakMap,Qg=new WeakSet;class $g{constructor(e){np(this,Qg),Xn(this,Kg,null),Xn(this,Xg,null),Xn(this,Yg,void 0),$n(Yg,this,e)}show(e,t,n){const[r,i]=Yn(Qg,this,Zg).call(this,t,n),{style:s}=Qn(Xg,this)||$n(Xg,this,Yn(Qg,this,Jg).call(this));e.append(Qn(Xg,this)),s.insetInlineEnd="".concat(100*r,"%"),s.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){Qn(Xg,this).remove()}}function Jg(){const e=$n(Xg,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",_g,{signal:Qn(Yg,this)._signal});const t=$n(Kg,this,document.createElement("div"));return t.className="buttons",e.append(t),Yn(Qg,this,em).call(this),e}function Zg(e,t){let n=0,r=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const s=i.x+(t?i.width:0);e>n?(r=s,n=e):t?s>r&&(r=s):s<r&&(r=s)}return[t?1-r:r,n]}function em(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=Qn(Yg,this)._signal;e.addEventListener("contextmenu",_g,{signal:n}),e.addEventListener("click",(()=>{Qn(Yg,this).highlightSelection("floating_button")}),{signal:n}),Qn(Kg,this).append(e)}function tm(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}var nm=new WeakMap;class rm{constructor(){Xn(this,nm,0)}get id(){var e,t;return"".concat("pdfjs_internal_editor_").concat(($n(nm,this,(e=Qn(nm,this),t=e++,e)),t))}}var im=new WeakMap,sm=new WeakMap,am=new WeakMap,om=new WeakSet;class lm{constructor(){np(this,om),Xn(this,im,cg()),Xn(this,sm,0),Xn(this,am,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return qp(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return Yn(om,this,cm).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return Yn(om,this,cm).call(this,e,e)}async getFromBlob(e,t){const n=await t;return Yn(om,this,cm).call(this,e,n)}async getFromId(e){Qn(am,this)||$n(am,this,new Map);const t=Qn(am,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,r,i;Qn(am,this)||$n(am,this,new Map);let s=Qn(am,this).get(e);if(null!==(i=s)&&void 0!==i&&i.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),s={bitmap:a.transferToImageBitmap(),id:"image_".concat(Qn(im,this),"_").concat(($n(sm,this,(n=Qn(sm,this),r=n++,n)),r)),refCounter:1,isSvg:!1},Qn(am,this).set(e,s),Qn(am,this).set(s.id,s),s}getSvgUrl(e){const t=Qn(am,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;Qn(am,this)||$n(am,this,new Map);const n=Qn(am,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:r}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(r.width,r.height);e.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=e.convertToBlob()}null===(t=r.close)||void 0===t||t.call(r),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(Qn(im,this),"_"))}}async function cm(e,t){var n;Qn(am,this)||$n(am,this,new Map);let r=Qn(am,this).get(e);if(null===r)return null;if(null!==(n=r)&&void 0!==n&&n.bitmap)return r.refCounter+=1,r;try{var i,s;let e;if(r||(r={bitmap:null,id:"image_".concat(Qn(im,this),"_").concat(($n(sm,this,(i=Qn(sm,this),s=i++,i)),s)),refCounter:0,isSvg:!1}),"string"===typeof t?(r.url=t,e=await gg(t,"blob")):t instanceof File?e=r.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=Ff._isSVGFittingCanvas,n=new FileReader,i=new Image,s=new Promise(((e,s)=>{i.onload=()=>{r.bitmap=i,r.isSvg=!0,e()},n.onload=async()=>{const e=r.svgUrl=n.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=n.onerror=s}));n.readAsDataURL(e),await s}else r.bitmap=await createImageBitmap(e);r.refCounter=1}catch(zN){zp(zN),r=null}return Qn(am,this).set(e,r),r&&Qn(am,this).set(r.id,r),r}Ff=lm;var um=new WeakMap,dm=new WeakMap,hm=new WeakMap,fm=new WeakMap;class pm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;Xn(this,um,[]),Xn(this,dm,!1),Xn(this,hm,void 0),Xn(this,fm,-1),$n(hm,this,e)}add(e){let{cmd:t,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(i&&t(),Qn(dm,this))return;const l={cmd:t,undo:n,post:r,type:s};if(-1===Qn(fm,this))return Qn(um,this).length>0&&(Qn(um,this).length=0),$n(fm,this,0),void Qn(um,this).push(l);if(a&&Qn(um,this)[Qn(fm,this)].type===s)return o&&(l.undo=Qn(um,this)[Qn(fm,this)].undo),void(Qn(um,this)[Qn(fm,this)]=l);const c=Qn(fm,this)+1;c===Qn(hm,this)?Qn(um,this).splice(0,1):($n(fm,this,c),c<Qn(um,this).length&&Qn(um,this).splice(c)),Qn(um,this).push(l)}undo(){if(-1===Qn(fm,this))return;$n(dm,this,!0);const{undo:e,post:t}=Qn(um,this)[Qn(fm,this)];e(),null===t||void 0===t||t(),$n(dm,this,!1),$n(fm,this,Qn(fm,this)-1)}redo(){if(Qn(fm,this)<Qn(um,this).length-1){$n(fm,this,Qn(fm,this)+1),$n(dm,this,!0);const{cmd:e,post:t}=Qn(um,this)[Qn(fm,this)];e(),null===t||void 0===t||t(),$n(dm,this,!1)}}hasSomethingToUndo(){return-1!==Qn(fm,this)}hasSomethingToRedo(){return Qn(fm,this)<Qn(um,this).length-1}cleanType(e){if(-1!==Qn(fm,this)){for(let t=Qn(fm,this);t>=0;t--)if(Qn(um,this)[t].type!==e)return Qn(um,this).splice(t+1,Qn(fm,this)-t),void $n(fm,this,t);Qn(um,this).length=0,$n(fm,this,-1)}}destroy(){$n(um,this,null)}}var gm=new WeakSet;class mm{constructor(e){np(this,gm),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ng.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(Yn(gm,this,vm).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(r.bind(e,...s,t)(),i||Sg(t))}}function vm(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class bm{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,Eg(r))}t.remove()}(e),qp(this,"_colors",e)}convert(e){const t=Eg(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return bm._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ig.makeHexColor(...t):e}}Ie(bm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var ym=new WeakMap,wm=new WeakMap,xm=new WeakMap,_m=new WeakMap,Sm=new WeakMap,km=new WeakMap,Am=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Rm=new WeakMap,Nm=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Lm=new WeakMap,Dm=new WeakMap,jm=new WeakMap,Im=new WeakMap,Om=new WeakMap,Fm=new WeakMap,Wm=new WeakMap,Bm=new WeakMap,zm=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Gm=new WeakMap,qm=new WeakMap,Km=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,Qm=new WeakMap,$m=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,ev=new WeakMap,tv=new WeakMap,nv=new WeakMap,rv=new WeakMap,iv=new WeakMap,sv=new WeakMap,av=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakSet;class uv{static get _keyboardManager(){const e=uv.prototype,t=e=>Qn(av,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return qp(this,"_keyboardManager",new mm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&Qn(av,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&Qn(av,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,r,i,s,a,o,l,c,u,d,h,f){np(this,cv),Xn(this,ym,new AbortController),Xn(this,wm,null),Xn(this,xm,new Map),Xn(this,_m,new Map),Xn(this,Sm,null),Xn(this,km,null),Xn(this,Am,null),Xn(this,Em,new pm),Xn(this,Cm,null),Xn(this,Mm,null),Xn(this,Rm,0),Xn(this,Nm,new Set),Xn(this,Tm,null),Xn(this,Pm,null),Xn(this,Lm,new Set),Ie(this,"_editorUndoBar",null),Xn(this,Dm,!1),Xn(this,jm,!1),Xn(this,Im,!1),Xn(this,Om,null),Xn(this,Fm,null),Xn(this,Wm,null),Xn(this,Bm,null),Xn(this,zm,!1),Xn(this,Um,null),Xn(this,Hm,new rm),Xn(this,Vm,!1),Xn(this,Gm,!1),Xn(this,qm,null),Xn(this,Km,null),Xn(this,Xm,null),Xn(this,Ym,null),Xn(this,Qm,null),Xn(this,$m,mp.NONE),Xn(this,Jm,new Set),Xn(this,Zm,null),Xn(this,ev,null),Xn(this,tv,null),Xn(this,nv,null),Xn(this,rv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),Xn(this,iv,[0,0]),Xn(this,sv,null),Xn(this,av,null),Xn(this,ov,null),Xn(this,lv,null);const p=this._signal=Qn(ym,this).signal;$n(av,this,e),$n(ov,this,t),$n(Sm,this,n),$n(ev,this,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",(e=>this.updateParams(e.type,e.value)),{signal:p}),Yn(cv,this,mv).call(this),Yn(cv,this,Sv).call(this),Yn(cv,this,yv).call(this),$n(km,this,s.annotationStorage),$n(Om,this,s.filterFactory),$n(tv,this,a),$n(Bm,this,o||null),$n(Dm,this,l),$n(jm,this,c),$n(Im,this,u),$n(Qm,this,d||null),this.viewParameters={realScale:pg.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=h||null,this._supportsPinchToZoom=!1!==f}destroy(){var e,t,n,r,i,s,a,o;null===(e=Qn(lv,this))||void 0===e||e.resolve(),$n(lv,this,null),null===(t=Qn(ym,this))||void 0===t||t.abort(),$n(ym,this,null),this._signal=null;for(const l of Qn(_m,this).values())l.destroy();Qn(_m,this).clear(),Qn(xm,this).clear(),Qn(Lm,this).clear(),null===(n=Qn(Ym,this))||void 0===n||n.clear(),$n(wm,this,null),Qn(Jm,this).clear(),Qn(Em,this).destroy(),null===(r=Qn(Sm,this))||void 0===r||r.destroy(),null===(i=Qn(ev,this))||void 0===i||i.destroy(),null===(s=Qn(Um,this))||void 0===s||s.hide(),$n(Um,this,null),null===(a=Qn(Xm,this))||void 0===a||a.destroy(),$n(Xm,this,null),Qn(Fm,this)&&(clearTimeout(Qn(Fm,this)),$n(Fm,this,null)),Qn(sv,this)&&(clearTimeout(Qn(sv,this)),$n(sv,this,null)),null===(o=this._editorUndoBar)||void 0===o||o.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return Qn(Qm,this)}get useNewAltTextFlow(){return Qn(jm,this)}get useNewAltTextWhenAddingImage(){return Qn(Im,this)}get hcmFilter(){return qp(this,"hcmFilter",Qn(tv,this)?Qn(Om,this).addHCMFilter(Qn(tv,this).foreground,Qn(tv,this).background):"none")}get direction(){return qp(this,"direction",getComputedStyle(Qn(av,this)).direction)}get highlightColors(){return qp(this,"highlightColors",Qn(Bm,this)?new Map(Qn(Bm,this).split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return qp(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),$n(Mm,this,e)}setMainHighlightColorPicker(e){$n(Xm,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=Qn(Sm,this))||void 0===t||t.editAltText(this,e,n)}getSignature(e){var t;null===(t=Qn(ev,this))||void 0===t||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return Qn(ev,this)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)$n(Im,this,n)}onPageChanging(e){let{pageNumber:t}=e;$n(Rm,this,t-1)}focusMainContainer(){Qn(av,this).focus()}findParent(e,t){for(const n of Qn(_m,this).values()){const{x:r,y:i,width:s,height:a}=n.div.getBoundingClientRect();if(e>=r&&e<=r+s&&t>=i&&t<=i+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Qn(ov,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){Qn(Lm,this).add(e)}removeShouldRescale(e){Qn(Lm,this).delete(e)}onScaleChanging(e){var t;let{scale:n}=e;this.commitOrRemove(),this.viewParameters.realScale=n*pg.PDF_TO_CSS_UNITS;for(const r of Qn(Lm,this))r.onScaleChanging();null===(t=Qn(Mm,this))||void 0===t||t.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t,a=t.toString(),o=Yn(cv,this,dv).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=Yn(cv,this,hv).call(this,o),u=Qn($m,this)===mp.NONE,d=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s,text:a}),u&&this.showAllEditors("highlight",!0,!0)};u?this.switchToMode(mp.HIGHLIGHT,d):d()}addToAnnotationStorage(e){e.isEmpty()||!Qn(km,this)||Qn(km,this).has(e.id)||Qn(km,this).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,Qn(zm,this)&&($n(zm,this,!1),Yn(cv,this,gv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of Qn(Jm,this))if(t.div.contains(e)){$n(Km,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!Qn(Km,this))return;const[e,t]=Qn(Km,this);$n(Km,this,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}addEditListeners(){Yn(cv,this,yv).call(this),Yn(cv,this,xv).call(this)}removeEditListeners(){Yn(cv,this,wv).call(this),Yn(cv,this,_v).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of Qn(Pm,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of Qn(Pm,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=Qn(wm,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of Qn(Jm,this)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const e of Qn(Pm,this))if(e.isHandlingMimeForPasting(s.type))return void e.paste(s,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void zp('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const s of n){const t=await r.deserialize(s);if(!t)return;e.push(t)}const t=()=>{for(const t of e)Yn(cv,this,Mv).call(this,t);Yn(cv,this,Tv).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){zp('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),Qn($m,this)===mp.NONE||this.isEditorHandlingKeyboard||uv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,Qn(zm,this)&&($n(zm,this,!1),Yn(cv,this,gv).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(Yn(cv,this,vv).call(this),Yn(cv,this,xv).call(this),Yn(cv,this,kv).call(this,{isEditing:Qn($m,this)!==mp.NONE,isEmpty:Yn(cv,this,Nv).call(this),hasSomethingToUndo:Qn(Em,this).hasSomethingToUndo(),hasSomethingToRedo:Qn(Em,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(Yn(cv,this,bv).call(this),Yn(cv,this,_v).call(this),Yn(cv,this,kv).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!Qn(Pm,this)){$n(Pm,this,e);for(const e of Qn(Pm,this))Yn(cv,this,Av).call(this,e.defaultPropertiesToUpdate)}}getId(){return Qn(Hm,this).id}get currentLayer(){return Qn(_m,this).get(Qn(Rm,this))}getLayer(e){return Qn(_m,this).get(e)}get currentPageIndex(){return Qn(Rm,this)}addLayer(e){Qn(_m,this).set(e.pageIndex,e),Qn(Vm,this)?e.enable():e.disable()}removeLayer(e){Qn(_m,this).delete(e.pageIndex)}async updateMode(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qn($m,this)!==e&&(!Qn(lv,this)||(await Qn(lv,this).promise,Qn(lv,this)))){var i,s;if($n(lv,this,Promise.withResolvers()),null===(t=Qn(Mm,this))||void 0===t||t.commitOrRemove(),$n($m,this,e),e===mp.NONE)return this.setEditingState(!1),Yn(cv,this,Cv).call(this),null===(i=this._editorUndoBar)||void 0===i||i.hide(),void Qn(lv,this).resolve();if(e===mp.SIGNATURE)await(null===(s=Qn(ev,this))||void 0===s?void 0:s.loadSignatures());this.setEditingState(!0),await Yn(cv,this,Ev).call(this),this.unselectAll();for(const t of Qn(_m,this).values())t.updateMode(e);if(!n)return r&&this.addNewEditorFromKeyboard(),void Qn(lv,this).resolve();for(const e of Qn(xm,this).values())e.annotationElementId===n||e.id===n?(this.setSelected(e),e.enterInEditMode()):e.unselect();Qn(lv,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==Qn($m,this)&&this._eventBus.dispatch("switchannotationeditormode",Fe({source:this},e))}updateParams(e,t){var n;if(Qn(Pm,this)){switch(e){case vp.CREATE:return void this.currentLayer.addNewEditor(t);case vp.HIGHLIGHT_DEFAULT_COLOR:null===(n=Qn(Xm,this))||void 0===n||n.updateColor(t);break;case vp.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Qn(nv,this)||$n(nv,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of Qn(Jm,this))n.updateParams(e,t);for(const n of Qn(Pm,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,r;for(const i of Qn(xm,this).values())i.editorType===e&&i.show(t);(null===(n=null===(r=Qn(nv,this))||void 0===r?void 0:r.get(vp.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&Yn(cv,this,Av).call(this,[[vp.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Qn(Gm,this)!==e){$n(Gm,this,e);for(const t of Qn(_m,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of Qn(xm,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return Qn(xm,this).get(e)}addEditor(e){Qn(xm,this).set(e.id,e)}removeEditor(e){var t,n;(e.div.contains(document.activeElement)&&(Qn(Fm,this)&&clearTimeout(Qn(Fm,this)),$n(Fm,this,setTimeout((()=>{this.focusMainContainer(),$n(Fm,this,null)}),0))),Qn(xm,this).delete(e.id),e.annotationElementId)&&(null===(t=Qn(Ym,this))||void 0===t||t.delete(e.annotationElementId));(this.unselect(e),e.annotationElementId&&Qn(Nm,this).has(e.annotationElementId))||(null===(n=Qn(km,this))||void 0===n||n.remove(e.id))}addDeletedAnnotationElement(e){Qn(Nm,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return Qn(Nm,this).has(e)}removeDeletedAnnotationElement(e){Qn(Nm,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){Qn(wm,this)!==e&&($n(wm,this,e),e&&Yn(cv,this,Av).call(this,e.propertiesToUpdate))}updateUI(e){rp(cv,this,Rv)===e&&Yn(cv,this,Av).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){Yn(cv,this,Av).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(Qn(Jm,this).has(e))return Qn(Jm,this).delete(e),e.unselect(),void Yn(cv,this,kv).call(this,{hasSelectedEditor:this.hasSelection});Qn(Jm,this).add(e),e.select(),Yn(cv,this,Av).call(this,e.propertiesToUpdate),Yn(cv,this,kv).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;null===(t=Qn(Mm,this))||void 0===t||t.commitOrRemove();for(const n of Qn(Jm,this))n!==e&&n.unselect();Qn(Jm,this).clear(),Qn(Jm,this).add(e),e.select(),Yn(cv,this,Av).call(this,e.propertiesToUpdate),Yn(cv,this,kv).call(this,{hasSelectedEditor:!0})}isSelected(e){return Qn(Jm,this).has(e)}get firstSelectedEditor(){return Qn(Jm,this).values().next().value}unselect(e){e.unselect(),Qn(Jm,this).delete(e),Yn(cv,this,kv).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==Qn(Jm,this).size}get isEnterHandled(){return 1===Qn(Jm,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;Qn(Em,this).undo(),Yn(cv,this,kv).call(this,{hasSomethingToUndo:Qn(Em,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Yn(cv,this,Nv).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}redo(){Qn(Em,this).redo(),Yn(cv,this,kv).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Qn(Em,this).hasSomethingToRedo(),isEmpty:Yn(cv,this,Nv).call(this)})}addCommands(e){Qn(Em,this).add(e),Yn(cv,this,kv).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Yn(cv,this,Nv).call(this)})}cleanUndoStack(e){Qn(Em,this).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...Qn(Jm,this)],r=()=>{for(const e of n)Yn(cv,this,Mv).call(this,e)};this.addCommands({cmd:()=>{var e;null===(e=this._editorUndoBar)||void 0===e||e.show(r,1===n.length?n[0].editorType:n.length);for(const t of n)t.remove()},undo:r,mustExec:!0})}commitOrRemove(){var e;null===(e=Qn(wm,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return Qn(wm,this)||this.hasSelection}selectAll(){for(const e of Qn(Jm,this))e.commit();Yn(cv,this,Tv).call(this,Qn(xm,this).values())}unselectAll(){var e;if((!Qn(wm,this)||(Qn(wm,this).commitOrRemove(),Qn($m,this)===mp.NONE))&&(null===(e=Qn(Mm,this))||void 0===e||!e.commitOrRemove())&&this.hasSelection){for(const e of Qn(Jm,this))e.unselect();Qn(Jm,this).clear(),Yn(cv,this,kv).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;Qn(iv,this)[0]+=e,Qn(iv,this)[1]+=t;const[n,r]=Qn(iv,this),i=[...Qn(Jm,this)];Qn(sv,this)&&clearTimeout(Qn(sv,this)),$n(sv,this,setTimeout((()=>{$n(sv,this,null),Qn(iv,this)[0]=Qn(iv,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)Qn(xm,this).has(e.id)&&(e.translateInPage(n,r),e.translationDone())},undo:()=>{for(const e of i)Qn(xm,this).has(e.id)&&(e.translateInPage(-n,-r),e.translationDone())},mustExec:!1})}),1e3));for(const s of i)s.translateInPage(e,t),s.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(Tm,this,new Map);for(const e of Qn(Jm,this))Qn(Tm,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Qn(Tm,this))return!1;this.disableUserSelect(!1);const e=Qn(Tm,this);$n(Tm,this,null);let t=!1;for(const[{x:r,y:i,pageIndex:s},a]of e)a.newX=r,a.newY=i,a.newPageIndex=s,t||(t=r!==a.savedX||i!==a.savedY||s!==a.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if(Qn(xm,this).has(e.id)){const i=Qn(_m,this).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:s}]of e)n(t,r,i,s)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:s}]of e)n(t,r,i,s)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(Qn(Tm,this))for(const n of Qn(Tm,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===Qn(Jm,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return Qn(wm,this)===e}getActive(){return Qn(wm,this)}getMode(){return Qn($m,this)}get imageManager(){return qp(this,"imageManager",new lm)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-r)/s,y:1-(e+a-n)/i,width:o/s,height:a/i});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/i,y:1-(t+o-r)/s,width:a/i,height:o/s});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-r)/s,y:(e-n)/i,width:o/s,height:a/i});break;default:a=(e,t,a,o)=>({x:(e-n)/i,y:(t-r)/s,width:a/i,height:o/s})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:r,height:i}of e.getClientRects())0!==r&&0!==i&&o.push(a(t,n,r,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(Qn(Am,this)||$n(Am,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=Qn(Am,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=Qn(Am,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const r=Qn(km,this).getRawValue(n);r&&(Qn($m,this)!==mp.NONE||r.hasBeenModified)&&r.renderAnnotationElement(e)}setMissingCanvas(e,t,n){var r;const i=null===(r=Qn(Ym,this))||void 0===r?void 0:r.get(e);i&&(i.setCanvas(t,n),Qn(Ym,this).delete(e))}addMissingCanvas(e,t){(Qn(Ym,this)||$n(Ym,this,new Map)).set(e,t)}}function dv(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function hv(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of Qn(_m,this).values())if(n.hasTextLayer(e))return n;return null}function fv(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=Yn(cv,this,dv).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(Qn(Um,this)||$n(Um,this,new $g(this)),Qn(Um,this).show(t,n,"ltr"===this.direction))}function pv(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(Qn(Zm,this))null===(n=Qn(Um,this))||void 0===n||n.hide(),$n(Zm,this,null),Yn(cv,this,kv).call(this,{hasSelectedText:!1});return}const{anchorNode:r}=t;if(r===Qn(Zm,this))return;const i=Yn(cv,this,dv).call(this,t).closest(".textLayer");var s;if(i){if(null===(e=Qn(Um,this))||void 0===e||e.hide(),$n(Zm,this,r),Yn(cv,this,kv).call(this,{hasSelectedText:!0}),(Qn($m,this)===mp.HIGHLIGHT||Qn($m,this)===mp.NONE)&&(Qn($m,this)===mp.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$n(zm,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=Qn($m,this)===mp.HIGHLIGHT?Yn(cv,this,hv).call(this,i):null;null===e||void 0===e||e.toggleDrawing();const t=new AbortController,n=this.combinedSignal(t),r=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&Yn(cv,this,gv).call(this,"main_toolbar"))};window.addEventListener("pointerup",r,{signal:n}),window.addEventListener("blur",r,{signal:n})}}else Qn(Zm,this)&&(null===(s=Qn(Um,this))||void 0===s||s.hide(),$n(Zm,this,null),Yn(cv,this,kv).call(this,{hasSelectedText:!1}))}function gv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Qn($m,this)===mp.HIGHLIGHT?this.highlightSelection(e):Qn(Dm,this)&&Yn(cv,this,fv).call(this)}function mv(){document.addEventListener("selectionchange",Yn(cv,this,pv).bind(this),{signal:this._signal})}function vv(){if(Qn(Wm,this))return;$n(Wm,this,new AbortController);const e=this.combinedSignal(Qn(Wm,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function bv(){var e;null===(e=Qn(Wm,this))||void 0===e||e.abort(),$n(Wm,this,null)}function yv(){if(Qn(qm,this))return;$n(qm,this,new AbortController);const e=this.combinedSignal(Qn(qm,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function wv(){var e;null===(e=Qn(qm,this))||void 0===e||e.abort(),$n(qm,this,null)}function xv(){if(Qn(Cm,this))return;$n(Cm,this,new AbortController);const e=this.combinedSignal(Qn(Cm,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function _v(){var e;null===(e=Qn(Cm,this))||void 0===e||e.abort(),$n(Cm,this,null)}function Sv(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function kv(e){Object.entries(e).some((e=>{let[t,n]=e;return Qn(rv,this)[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Qn(rv,this),e)}),Qn($m,this)===mp.HIGHLIGHT&&!1===e.hasSelectedEditor&&Yn(cv,this,Av).call(this,[[vp.HIGHLIGHT_FREE,!0]]))}function Av(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function Ev(){if(!Qn(Vm,this)){$n(Vm,this,!0);const e=[];for(const t of Qn(_m,this).values())e.push(t.enable());await Promise.all(e);for(const t of Qn(xm,this).values())t.enable()}}function Cv(){if(this.unselectAll(),Qn(Vm,this)){$n(Vm,this,!1);for(const e of Qn(_m,this).values())e.disable();for(const e of Qn(xm,this).values())e.disable()}}function Mv(e){const t=Qn(_m,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function Rv(e){let t=null;for(t of Qn(Jm,e));return t}function Nv(){if(0===Qn(xm,this).size)return!0;if(1===Qn(xm,this).size)for(const e of Qn(xm,this).values())return e.isEmpty();return!1}function Tv(e){for(const t of Qn(Jm,this))t.unselect();Qn(Jm,this).clear();for(const t of e)t.isEmpty()||(Qn(Jm,this).add(t),t.select());Yn(cv,this,kv).call(this,{hasSelectedEditor:this.hasSelection})}Ie(uv,"TRANSLATE_SMALL",1),Ie(uv,"TRANSLATE_BIG",10);var Pv=new WeakMap,Lv=new WeakMap,Dv=new WeakMap,jv=new WeakMap,Iv=new WeakMap,Ov=new WeakMap,Fv=new WeakMap,Wv=new WeakMap,Bv=new WeakMap,zv=new WeakMap,Uv=new WeakMap,Hv=new WeakMap,Vv=new WeakSet;class Gv{constructor(e){np(this,Vv),Xn(this,Pv,null),Xn(this,Lv,!1),Xn(this,Dv,null),Xn(this,jv,null),Xn(this,Iv,null),Xn(this,Ov,null),Xn(this,Fv,!1),Xn(this,Wv,null),Xn(this,Bv,null),Xn(this,zv,null),Xn(this,Uv,null),Xn(this,Hv,!1),$n(Bv,this,e),$n(Hv,this,e._uiManager.useNewAltTextFlow),Xv._||(Xv._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=Gv._l10n)&&void 0!==t||(Gv._l10n=e)}async render(){const e=$n(Dv,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=$n(jv,this,document.createElement("span"));e.append(t),Qn(Hv,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Xv._.missing),t.setAttribute("data-l10n-id",Xv._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=Qn(Bv,this)._uiManager._signal;e.addEventListener("contextmenu",_g,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const r=e=>{e.preventDefault(),Qn(Bv,this)._uiManager.editAltText(Qn(Bv,this)),Qn(Hv,this)&&Qn(Bv,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:rp(Vv,this,qv)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&($n(Fv,this,!0),r(t))}),{signal:n}),await Yn(Vv,this,Kv).call(this),e}finish(){Qn(Dv,this)&&(Qn(Dv,this).focus({focusVisible:Qn(Fv,this)}),$n(Fv,this,!1))}isEmpty(){return Qn(Hv,this)?null===Qn(Pv,this):!Qn(Pv,this)&&!Qn(Lv,this)}hasData(){return Qn(Hv,this)?null!==Qn(Pv,this)||!!Qn(zv,this):this.isEmpty()}get guessedText(){return Qn(zv,this)}async setGuessedText(e){null===Qn(Pv,this)&&($n(zv,this,e),$n(Uv,this,await Gv._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),Yn(Vv,this,Kv).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!Qn(Hv,this)||Qn(Pv,this))return null===(t=Qn(Wv,this))||void 0===t||t.remove(),void $n(Wv,this,null);if(!Qn(Wv,this)){const e=$n(Wv,this,document.createElement("div"));e.className="noAltTextBadge",Qn(Bv,this).div.append(e)}Qn(Wv,this).classList.toggle("hidden",!e)}serialize(e){let t=Qn(Pv,this);return e||Qn(zv,this)!==t||(t=Qn(Uv,this)),{altText:t,decorative:Qn(Lv,this),guessedText:Qn(zv,this),textWithDisclaimer:Qn(Uv,this)}}get data(){return{altText:Qn(Pv,this),decorative:Qn(Lv,this)}}set data(e){let{altText:t,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}=e;r&&($n(zv,this,r),$n(Uv,this,i)),Qn(Pv,this)===t&&Qn(Lv,this)===n||(s||($n(Pv,this,t),$n(Lv,this,n)),Yn(Vv,this,Kv).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Qn(Dv,this)&&(!e&&Qn(Ov,this)&&(clearTimeout(Qn(Ov,this)),$n(Ov,this,null)),Qn(Dv,this).disabled=!e)}shown(){Qn(Bv,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:rp(Vv,this,qv)}})}destroy(){var e,t;null===(e=Qn(Dv,this))||void 0===e||e.remove(),$n(Dv,this,null),$n(jv,this,null),$n(Iv,this,null),null===(t=Qn(Wv,this))||void 0===t||t.remove(),$n(Wv,this,null)}}function qv(e){return(Qn(Pv,e)?"added":null===Qn(Pv,e)&&e.guessedText&&"review")||"missing"}async function Kv(){const e=Qn(Dv,this);if(!e)return;if(Qn(Hv,this)){var t,n;if(e.classList.toggle("done",!!Qn(Pv,this)),e.setAttribute("data-l10n-id",Xv._[rp(Vv,this,qv)]),null===(t=Qn(jv,this))||void 0===t||t.setAttribute("data-l10n-id",Xv._["".concat(rp(Vv,this,qv),"-label")]),!Qn(Pv,this))return void(null===(n=Qn(Iv,this))||void 0===n||n.remove())}else{var r;if(!Qn(Pv,this)&&!Qn(Lv,this))return e.classList.remove("done"),void(null===(r=Qn(Iv,this))||void 0===r||r.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=Qn(Iv,this);if(!i){$n(Iv,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(Qn(Bv,this).id);const t=100,n=Qn(Bv,this)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(Qn(Ov,this)),$n(Ov,this,null)}),{once:!0}),e.addEventListener("mouseenter",(()=>{$n(Ov,this,setTimeout((()=>{$n(Ov,this,null),Qn(Iv,this).classList.add("show"),Qn(Bv,this)._reportTelemetry({action:"alt_text_tooltip"})}),t))}),{signal:n}),e.addEventListener("mouseleave",(()=>{var e;Qn(Ov,this)&&(clearTimeout(Qn(Ov,this)),$n(Ov,this,null)),null===(e=Qn(Iv,this))||void 0===e||e.classList.remove("show")}),{signal:n})}Qn(Lv,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=Qn(Pv,this)),i.parentNode||e.append(i);const s=Qn(Bv,this).getElementForAltText();null===s||void 0===s||s.setAttribute("aria-describedby",i.id)}var Xv={_:null};Ie(Gv,"_l10n",null);var Yv=new WeakMap,Qv=new WeakMap,$v=new WeakMap,Jv=new WeakMap,Zv=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,rb=new WeakMap,ib=new WeakMap,sb=new WeakMap,ab=new WeakMap,ob=new WeakSet;class lb{constructor(e){let{container:t,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}=e;np(this,ob),Xn(this,Yv,void 0),Xn(this,Qv,!1),Xn(this,$v,null),Xn(this,Jv,void 0),Xn(this,Zv,void 0),Xn(this,eb,void 0),Xn(this,tb,void 0),Xn(this,nb,null),Xn(this,rb,void 0),Xn(this,ib,null),Xn(this,sb,void 0),Xn(this,ab,null),$n(Yv,this,t),$n($v,this,r),$n(Jv,this,n),$n(Zv,this,i),$n(eb,this,s),$n(tb,this,a),$n(sb,this,new AbortController),$n(rb,this,AbortSignal.any([o,Qn(sb,this).signal])),t.addEventListener("touchstart",Yn(ob,this,cb).bind(this),{passive:!1,signal:Qn(rb,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ng.pixelRatio}destroy(){var e,t;null===(e=Qn(sb,this))||void 0===e||e.abort(),$n(sb,this,null),null===(t=Qn(nb,this))||void 0===t||t.abort(),$n(nb,this,null)}}function cb(e){var t,n;if(null!==(t=Qn(Jv,this))&&void 0!==t&&t.call(this))return;if(1===e.touches.length){if(Qn(nb,this))return;const e=$n(nb,this,new AbortController),t=AbortSignal.any([Qn(rb,this),e.signal]),n=Qn(Yv,this),r={capture:!0,signal:t,passive:!1},i=e=>{var t;"touch"===e.pointerType&&(null===(t=Qn(nb,this))||void 0===t||t.abort(),$n(nb,this,null))};return n.addEventListener("pointerdown",(e=>{"touch"===e.pointerType&&(Sg(e),i(e))}),r),n.addEventListener("pointerup",i,r),void n.addEventListener("pointercancel",i,r)}if(!Qn(ab,this)){var r;$n(ab,this,new AbortController);const e=AbortSignal.any([Qn(rb,this),Qn(ab,this).signal]),t=Qn(Yv,this),n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",Yn(ob,this,ub).bind(this),n);const i=Yn(ob,this,db).bind(this);t.addEventListener("touchend",i,n),t.addEventListener("touchcancel",i,n),n.capture=!0,t.addEventListener("pointerdown",Sg,n),t.addEventListener("pointermove",Sg,n),t.addEventListener("pointercancel",Sg,n),t.addEventListener("pointerup",Sg,n),null===(r=Qn(Zv,this))||void 0===r||r.call(this)}if(Sg(e),2!==e.touches.length||null!==(n=Qn($v,this))&&void 0!==n&&n.call(this))return void $n(ib,this,null);let[i,s]=e.touches;i.identifier>s.identifier&&([i,s]=[s,i]),$n(ib,this,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:s.screenX,touch1Y:s.screenY})}function ub(e){var t;if(!Qn(ib,this)||2!==e.touches.length)return;Sg(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=Qn(ib,this),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,p=h-u,g=a-i,m=o-s,v=Math.hypot(g,m)||1,b=Math.hypot(f,p)||1;if(!Qn(Qv,this)&&Math.abs(b-v)<=Wf.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!Qn(Qv,this))return void $n(Qv,this,!0);const y=[(i+a)/2,(s+o)/2];null===(t=Qn(eb,this))||void 0===t||t.call(this,y,b,v)}function db(e){if(!(e.touches.length>=2)){var t;if(Qn(ab,this))Qn(ab,this).abort(),$n(ab,this,null),null===(t=Qn(tb,this))||void 0===t||t.call(this);Qn(ib,this)&&(Sg(e),$n(ib,this,null),$n(Qv,this,!1))}}Wf=lb;var hb=new WeakMap,fb=new WeakMap,pb=new WeakMap,gb=new WeakMap,mb=new WeakMap,vb=new WeakMap,bb=new WeakMap,yb=new WeakMap,wb=new WeakMap,xb=new WeakMap,_b=new WeakMap,Sb=new WeakMap,kb=new WeakMap,Ab=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Mb=new WeakMap,Rb=new WeakMap,Nb=new WeakMap,Tb=new WeakMap,Pb=new WeakMap,Lb=new WeakMap,Db=new WeakMap,jb=new WeakMap,Ib=new WeakSet;class Ob{static get _resizerKeyboardManager(){const e=Ob.prototype._resizeWithKeyboard,t=uv.TRANSLATE_SMALL,n=uv.TRANSLATE_BIG;return qp(this,"_resizerKeyboardManager",new mm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ob.prototype._stopResizingWithKeyboard]]))}constructor(e){np(this,Ib),Xn(this,hb,null),Xn(this,fb,null),Xn(this,pb,null),Xn(this,gb,!1),Xn(this,mb,null),Xn(this,vb,""),Xn(this,bb,!1),Xn(this,yb,null),Xn(this,wb,null),Xn(this,xb,null),Xn(this,_b,null),Xn(this,Sb,""),Xn(this,kb,!1),Xn(this,Ab,null),Xn(this,Eb,!1),Xn(this,Cb,!1),Xn(this,Mb,!1),Xn(this,Rb,null),Xn(this,Nb,0),Xn(this,Tb,0),Xn(this,Pb,null),Xn(this,Lb,null),Ie(this,"isSelected",!1),Ie(this,"_isCopy",!1),Ie(this,"_editToolbar",null),Ie(this,"_initialOptions",Object.create(null)),Ie(this,"_initialData",null),Ie(this,"_isVisible",!0),Ie(this,"_uiManager",null),Ie(this,"_focusEventsAllowed",!0),Xn(this,Db,!1),Xn(this,jb,Ob._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,s];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return qp(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ry({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=Ob._l10n)&&void 0!==n||(Ob._l10n=e),Ob._l10nResizer||(Ob._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==Ob._borderLineWidth)return;const r=getComputedStyle(document.documentElement);Ob._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Up("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Qn(Db,this)}set _isDraggable(e){var t;$n(Db,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Qn(jb,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Yn(Ib,this,ny).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(Qn(kb,this)?$n(kb,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,s]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){Yn(Ib,this,Fb).call(this,this.parentDimensions,e,t)}translateInPage(e,t){Qn(Ab,this)||$n(Ab,this,[this.x,this.y,this.width,this.height]),Yn(Ib,this,Fb).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){Qn(Ab,this)||$n(Ab,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l;const{style:c}=n;c.left="".concat((100*s).toFixed(2),"%"),c.top="".concat((100*a).toFixed(2),"%"),this._onTranslating(s,a),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!Qn(Ab,this)&&(Qn(Ab,this)[0]!==this.x||Qn(Ab,this)[1]!==this.y)}get _hasBeenResized(){return!!Qn(Ab,this)&&(Qn(Ab,this)[2]!==this.width||Qn(Ab,this)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ob,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:t},pageDimensions:[n,r]}=this;let{x:i,y:s,width:a,height:o}=this;if(a*=n,o*=r,i*=n,s*=r,this._mustFixPosition)switch(e){case 0:i=dg(i,0,n-a),s=dg(s,0,r-o);break;case 90:i=dg(i,0,n-o),s=dg(s,a,r);break;case 180:i=dg(i,a,n),s=dg(s,o,r);break;case 270:i=dg(i,o,n),s=dg(s,0,r-a)}this.x=i/=n,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c,t.left="".concat((100*i).toFixed(2),"%"),t.top="".concat((100*s).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return Wb.call(Ob,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Wb.call(Ob,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:i}=this.div;i.width="".concat((100*e/n).toFixed(2),"%"),Qn(bb,this)||(i.height="".concat((100*t/r).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!Qn(bb,this)&&t.endsWith("%");if(r&&i)return;const[s,a]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),Qn(bb,this)||i||(e.height="".concat((100*parseFloat(t)/a).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null===(e=Qn(pb,this))||void 0===e||e.finish()}async addEditToolbar(){return this._editToolbar||Qn(Cb,this)||(this._editToolbar=new Wg(this),this.div.append(this._editToolbar.render()),Qn(pb,this)&&await this._editToolbar.addAltText(Qn(pb,this))),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=Qn(pb,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Qn(pb,this)||(Gv.initialize(Ob._l10n),$n(pb,this,new Gv(this)),Qn(hb,this)&&(Qn(pb,this).data=Qn(hb,this),$n(hb,this,null)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=Qn(pb,this))||void 0===e?void 0:e.data}set altTextData(e){Qn(pb,this)&&(Qn(pb,this).data=e)}get guessedAltText(){var e;return null===(e=Qn(pb,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=Qn(pb,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=Qn(pb,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!Qn(pb,this)&&!Qn(pb,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=Qn(pb,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=Qn(gb,this)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),Yn(Ib,this,$b).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth="".concat((100*r/n).toFixed(2),"%"),t.style.maxHeight="".concat((100*n/r).toFixed(2),"%"));const[i,s]=this.getInitialTranslation();return this.translate(i,s),tm(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(Qn(Lb,this)||$n(Lb,this,new lb({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Yn(Ib,this,qb).bind(this),onPinching:Yn(Ib,this,Kb).bind(this),onPinchEnd:Yn(Ib,this,Xb).bind(this),signal:this._uiManager._signal}))),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),t}pointerdown(e){const{isMac:t}=ng.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():($n(kb,this,!0),this._isDraggable?Yn(Ib,this,Qb).call(this,e):Yn(Ib,this,Yb).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){Qn(Rb,this)&&clearTimeout(Qn(Rb,this)),$n(Rb,this,setTimeout((()=>{var e;$n(Rb,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}),0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,s]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/r,c=t/r,u=this.x*i,d=this.y*s,h=this.width*i,f=this.height*s;switch(n){case 0:return[u+l+a,s-d-c-f+o,u+l+h+a,s-d-c+o];case 90:return[u+c+a,s-d+l+o,u+c+f+a,s-d+l+h+o];case 180:return[u-l-h+a,s-d+c+o,u-l+a,s-d+c+f+o];case 270:return[u-c-f+a,s-d-l-h+o,u-c+a,s-d-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,s]=e,a=i-n,o=s-r;switch(this.rotation){case 0:return[n,t-s,a,o];case 90:return[n,t-r,o,a];case 180:return[i,t-r,a,o];case 270:return[i,t-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),$n(Cb,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),$n(Cb,this,!1),!0)}isInEditMode(){return Qn(Cb,this)}shouldGetKeyboardEvents(){return Qn(Mb,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:s}=window;return t<s&&r>0&&e<i&&n>0}rebuild(){Yn(Ib,this,$b).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){Up("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,$n(hb,r,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,s]=r.pageDimensions,[a,o,l,c]=r.getRectInCurrentCoords(e.rect,s);return r.x=a/i,r.y=o/s,r.width=l/i,r.height=c/s,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null===(e=Qn(_b,this))||void 0===e||e.abort(),$n(_b,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Qn(Rb,this)&&(clearTimeout(Qn(Rb,this)),$n(Rb,this,null)),Yn(Ib,this,ny).call(this),this.removeEditToolbar(),Qn(Pb,this)){for(const e of Qn(Pb,this).values())clearTimeout(e);$n(Pb,this,null)}this.parent=null,null===(t=Qn(Lb,this))||void 0===t||t.destroy(),$n(Lb,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Yn(Ib,this,zb).call(this),Qn(yb,this).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),$n(xb,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=Qn(yb,this).children;if(!Qn(fb,this)){$n(fb,this,Array.from(t));const e=Yn(Ib,this,Jb).bind(this),n=Yn(Ib,this,Zb).bind(this),r=this._uiManager._signal;for(const t of Qn(fb,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:r}),t.addEventListener("blur",n,{signal:r}),t.addEventListener("focus",Yn(Ib,this,ey).bind(this,i),{signal:r}),t.setAttribute("data-l10n-id",Ob._l10nResizer[i])}}const n=Qn(fb,this)[0];let r=0;for(const s of t){if(s===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(Qn(fb,this).length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)Qn(yb,this).append(Qn(yb,this).firstChild);else if(i>r)for(let t=0;t<i-r;t++)Qn(yb,this).firstChild.before(Qn(yb,this).lastChild);let e=0;for(const n of t){const t=Qn(fb,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",Ob._l10nResizer[t])}}Yn(Ib,this,ty).call(this,0),$n(Mb,this,!0),Qn(yb,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){Qn(Mb,this)&&Yn(Ib,this,Gb).call(this,Qn(Sb,this),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){Yn(Ib,this,ny).call(this),this.div.focus()}select(){var e,t,n;this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=Qn(pb,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())})))}unselect(){var e,t,n,r,i;this.isSelected&&(this.isSelected=!1,null===(e=Qn(yb,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=this._editToolbar)||void 0===r||r.hide(),null===(i=Qn(pb,this))||void 0===i||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return Qn(Eb,this)}set isEditing(e){$n(Eb,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){$n(bb,this,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){Qn(Pb,this)||$n(Pb,this,new Map);const{action:t}=e;let n=Qn(Pb,this).get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),Qn(Pb,this).delete(t),0===Qn(Pb,this).size&&$n(Pb,this,null)}),Ob._telemetryTimeout),void Qn(Pb,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),$n(gb,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),$n(gb,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function Fb(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function Wb(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function Bb(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function zb(){if(Qn(yb,this))return;$n(yb,this,document.createElement("div")),Qn(yb,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");Qn(yb,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",Yn(Ib,this,Ub).bind(this,n),{signal:t}),e.addEventListener("contextmenu",_g,{signal:t}),e.tabIndex=-1}this.div.prepend(Qn(yb,this))}function Ub(e,t){var n;t.preventDefault();const{isMac:r}=ng.platform;if(0!==t.button||t.ctrlKey&&r)return;null===(n=Qn(pb,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,$n(wb,this,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Yn(Ib,this,Gb).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Sg,{passive:!1,signal:a}),window.addEventListener("contextmenu",_g,{signal:a}),$n(xb,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;s.abort(),this.parent.togglePointerEvents(!0),null===(e=Qn(pb,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,Yn(Ib,this,Vb).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}function Hb(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[i,s]=this.parentDimensions;this.setDims(i*n,s*r),this.fixAndSetPosition(),this._onResized()}function Vb(){if(!Qn(xb,this))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=Qn(xb,this);$n(xb,this,null);const i=this.x,s=this.y,a=this.width,o=this.height;i===e&&s===t&&a===n&&o===r||this.addCommands({cmd:Yn(Ib,this,Hb).bind(this,i,s,a,o),undo:Yn(Ib,this,Hb).bind(this,e,t,n,r),mustExec:!0})}function Gb(e,t){const[n,r]=this.parentDimensions,i=this.x,s=this.y,a=this.width,o=this.height,l=Bf.MIN_SIZE/n,c=Bf.MIN_SIZE/r,u=Yn(Ib,this,Bb).call(this,this.rotation),d=(e,t)=>[u[0]*e+u[2]*t,u[1]*e+u[3]*t],h=Yn(Ib,this,Bb).call(this,360-this.rotation);let f,p,g=!1,m=!1;switch(e){case"topLeft":g=!0,f=(e,t)=>[0,0],p=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],p=(e,t)=>[e/2,t];break;case"topRight":g=!0,f=(e,t)=>[e,0],p=(e,t)=>[0,t];break;case"middleRight":m=!0,f=(e,t)=>[e,t/2],p=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,f=(e,t)=>[e,t],p=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],p=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,f=(e,t)=>[0,t],p=(e,t)=>[e,0];break;case"middleLeft":m=!0,f=(e,t)=>[0,t/2],p=(e,t)=>[e,t/2]}const v=f(a,o),b=p(a,o);let y=d(...b);const w=Bf._round(i+y[0]),x=Bf._round(s+y[1]);let _,S,k=1,A=1;if(t.fromKeyboard)({deltaX:_,deltaY:S}=t);else{const{screenX:e,screenY:n}=t,[r,i]=Qn(wb,this);[_,S]=this.screenToPageTranslation(e-r,n-i),Qn(wb,this)[0]=e,Qn(wb,this)[1]=n}var E,C;if([_,S]=(E=_/n,C=S/r,[h[0]*E+h[2]*C,h[1]*E+h[3]*C]),g){const e=Math.hypot(a,o);k=A=Math.max(Math.min(Math.hypot(b[0]-v[0]-_,b[1]-v[1]-S)/e,1/a,1/o),l/a,c/o)}else m?k=dg(Math.abs(b[0]-v[0]-_),l,1)/a:A=dg(Math.abs(b[1]-v[1]-S),c,1)/o;const M=Bf._round(a*k),R=Bf._round(o*A);y=d(...p(M,R));const N=w-y[0],T=x-y[1];Qn(Ab,this)||$n(Ab,this,[this.x,this.y,this.width,this.height]),this.width=M,this.height=R,this.x=N,this.y=T,this.setDims(n*M,r*R),this.fixAndSetPosition(),this._onResizing()}function qb(){var e;$n(xb,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=Qn(pb,this))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Kb(e,t,n){let r=n/t*.7+1-.7;if(1===r)return;const i=Yn(Ib,this,Bb).call(this,this.rotation),s=(e,t)=>[i[0]*e+i[2]*t,i[1]*e+i[3]*t],[a,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,d=this.height,h=Bf.MIN_SIZE/a,f=Bf.MIN_SIZE/o;r=Math.max(Math.min(r,1/u,1/d),h/u,f/d);const p=Bf._round(u*r),g=Bf._round(d*r);if(p===u&&g===d)return;Qn(Ab,this)||$n(Ab,this,[l,c,u,d]);const m=s(u/2,d/2),v=Bf._round(l+m[0]),b=Bf._round(c+m[1]),y=s(p/2,g/2);this.x=v-y[0],this.y=b-y[1],this.width=p,this.height=g,this.setDims(a*p,o*g),this.fixAndSetPosition(),this._onResizing()}function Xb(){var e;null===(e=Qn(pb,this))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),Yn(Ib,this,Vb).call(this)}function Yb(e){const{isMac:t}=ng.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Qb(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),s={capture:!0,passive:!1,signal:i},a=e=>{r.abort(),$n(mb,this,null),$n(kb,this,!1),this._uiManager.endDragSession()||Yn(Ib,this,Yb).call(this,e),n&&this._onStopDragging()};t&&($n(Nb,this,e.clientX),$n(Tb,this,e.clientY),$n(mb,this,e.pointerId),$n(vb,this,e.pointerType),window.addEventListener("pointermove",(e=>{n||(n=!0,this._onStartDragging());const{clientX:t,clientY:r,pointerId:i}=e;if(i!==Qn(mb,this))return void Sg(e);const[s,a]=this.screenToPageTranslation(t-Qn(Nb,this),r-Qn(Tb,this));$n(Nb,this,t),$n(Tb,this,r),this._uiManager.dragSelectedEditors(s,a)}),s),window.addEventListener("touchmove",Sg,s),window.addEventListener("pointerdown",(e=>{e.pointerType===Qn(vb,this)&&(Qn(Lb,this)||e.isPrimary)&&a(e),Sg(e)}),s));const o=e=>{Qn(mb,this)&&Qn(mb,this)!==e.pointerId?Sg(e):a(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}function $b(){if(Qn(_b,this)||!this.div)return;$n(_b,this,new AbortController);const e=this._uiManager.combinedSignal(Qn(_b,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function Jb(e){Bf._resizerKeyboardManager.exec(this,e)}function Zb(e){var t;Qn(Mb,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==Qn(yb,this)&&Yn(Ib,this,ny).call(this)}function ey(e){$n(Sb,this,Qn(Mb,this)?e:"")}function ty(e){if(Qn(fb,this))for(const t of Qn(fb,this))t.tabIndex=e}function ny(){$n(Mb,this,!1),Yn(Ib,this,ty).call(this,-1),Yn(Ib,this,Vb).call(this)}Bf=Ob,Ie(Ob,"_l10n",null),Ie(Ob,"_l10nResizer",null),Ie(Ob,"_borderLineWidth",-1),Ie(Ob,"_colorManager",new bm),Ie(Ob,"_zIndex",1),Ie(Ob,"_telemetryTimeout",1e3);class ry extends Ob{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const iy=3285377520,sy=4294901760,ay=65535;class oy{constructor(e){this.h1=e?4294967295&e:iy,this.h2=e?4294967295&e:iy}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,i=n-4*r,s=new Uint32Array(t.buffer,0,r);let a=0,o=0,l=this.h1,c=this.h2;const u=3432918353,d=461845907,h=11601,f=13715;for(let p=0;p<r;p++)1&p?(a=s[p],a=a*u&sy|a*h&ay,a=a<<15|a>>>17,a=a*d&sy|a*f&ay,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=s[p],o=o*u&sy|o*h&ay,o=o<<15|o>>>17,o=o*d&sy|o*f&ay,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,i){case 3:a^=t[4*r+2]<<16;case 2:a^=t[4*r+1]<<8;case 1:a^=t[4*r],a=a*u&sy|a*h&ay,a=a<<15|a>>>17,a=a*d&sy|a*f&ay,1&r?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&sy|36045*e&ay,t=4283543511*t&sy|(2950163797*(t<<16|e>>>16)&sy)>>>16,e^=t>>>1,e=444984403*e&sy|60499*e&ay,t=3301882366*t&sy|(3120437893*(t<<16|e>>>16)&sy)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ly=Object.freeze({map:null,hash:"",transfer:void 0});var cy=new WeakMap,uy=new WeakMap,dy=new WeakMap,hy=new WeakSet;class fy{constructor(){np(this,hy),Xn(this,cy,!1),Xn(this,uy,null),Xn(this,dy,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=Qn(dy,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return Qn(dy,this).get(e)}remove(e){if(Qn(dy,this).delete(e),0===Qn(dy,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of Qn(dy,this).values())if(e instanceof Ob)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=Qn(dy,this).get(e);let r=!1;if(void 0!==n)for(const[i,s]of Object.entries(t))n[i]!==s&&(r=!0,n[i]=s);else r=!0,Qn(dy,this).set(e,t);r&&Yn(hy,this,py).call(this),t instanceof Ob&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return Qn(dy,this).has(e)}get size(){return Qn(dy,this).size}resetModified(){Qn(cy,this)&&($n(cy,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new my(this)}get serializable(){if(0===Qn(dy,this).size)return ly;const e=new Map,t=new oy,n=[],r=Object.create(null);let i=!1;for(const[s,a]of Qn(dy,this)){const n=a instanceof Ob?a.serialize(!1,r):a;n&&(e.set(s,n),t.update("".concat(s,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:ly}get editorStats(){let e=null;const t=new Map;for(const i of Qn(dy,this).values()){var n;if(!(i instanceof Ob))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=(n=e)[a]||(n[a]=new Map);for(const[e,t]of Object.entries(s)){var r;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const i=null!==(r=n.get(t))&&void 0!==r?r:0;n.set(t,i+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){$n(uy,this,null)}get modifiedIds(){if(Qn(uy,this))return Qn(uy,this);const e=[];for(const t of Qn(dy,this).values())t instanceof Ob&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return $n(uy,this,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return Qn(dy,this).entries()}}function py(){Qn(cy,this)||($n(cy,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var gy=new WeakMap;class my extends fy{constructor(e){super(),Xn(this,gy,void 0);const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);$n(gy,this,{map:i,hash:n,transfer:r})}get print(){Up("Should not call PrintAnnotationStorage.print")}get serializable(){return Qn(gy,this)}get modifiedIds(){return qp(this,"modifiedIds",{ids:new Set,hash:""})}}var vy=new WeakMap;class by{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;Xn(this,vy,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),Qn(vy,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,disableFontFace:n,_inspectFont:r}=e;if(t&&!Qn(vy,this).has(t.loadedName))if(Hp(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:n,style:s}=t,a=new FontFace(e,n,s);this.addNativeFontFace(a);try{await a.load(),Qn(vy,this).add(e),null===r||void 0===r||r(t)}catch(i){zp("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(a)}}else Up("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw zp("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;return qp(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){return qp(this,"isSyncFontLoadingSupported",ip||ng.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(Hp(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return qp(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let i,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=r(u,976,c.length,c);const d=1482184792;let h=n(u,16);for(i=0,s=c.length-3;i<s;i+=4)h=h-d+n(c,i)|0;var f;i<c.length&&(h=h-d+n(c+"XXX",i)|0),u=r(u,16,4,(f=h,String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f)));const p="url(data:font/opentype;base64,".concat(btoa(u),");"),g='@font-face {font-family:"'.concat(c,'";src:').concat(p,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,m.append(e)}this._document.body.append(m),function e(t,n){if(++l>30)return zp("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{m.remove(),t.complete()}))}}class yy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat(hg(this.data),");");let n;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(s){zp('getPathGenerator - ignoring character: "'.concat(s,'".'))}const i=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=i}}function wy(e){if("string"!==typeof e)return null;if(e.endsWith("/"))return e;throw new Error('Invalid factory url: "'.concat(e,'" must include trailing slash.'))}const xy=e=>"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0,_y=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!e(r)&&!Number.isInteger(r))return!1;if(!t(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return 0===a;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(4!==a)return!1;o=!1;break;default:return!1}for(const l of s)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,xy,(e=>"object"===typeof e&&"string"===typeof(null===e||void 0===e?void 0:e.name)));var Sy=new WeakMap,ky=new WeakMap;class Ay{constructor(){Xn(this,Sy,new Map),Xn(this,ky,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};Qn(ky,this).then((()=>{for(const[e]of Qn(Sy,this))e.call(this,n)}))}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void zp("LoopbackPort - cannot use an `aborted` signal.");const s=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",s),i.addEventListener("abort",s)}Qn(Sy,this).set(t,r)}removeEventListener(e,t){const n=Qn(Sy,this).get(t);null===n||void 0===n||n(),Qn(Sy,this).delete(t)}terminate(){for(const[,e]of Qn(Sy,this))null===e||void 0===e||e();Qn(Sy,this).clear()}}const Ey=1,Cy=2,My=1,Ry=2,Ny=3,Ty=4,Py=5,Ly=6,Dy=7,jy=8;function Iy(){}function Oy(e){if(e instanceof Zp||e instanceof Qp||e instanceof Xp||e instanceof $p||e instanceof Yp)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||Up('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Zp(e.message);case"InvalidPDFException":return new Qp(e.message);case"PasswordException":return new Xp(e.message,e.code);case"ResponseException":return new $p(e.message,e.status,e.missing);case"UnknownErrorException":return new Yp(e.message,e.details)}return new Yp(e.message,e.toString())}var Fy=new WeakMap,Wy=new WeakSet;class By{constructor(e,t,n){np(this,Wy),Xn(this,Fy,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",Yn(Wy,this,zy).bind(this),{signal:Qn(Fy,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(s){i.reject(s)}return i.promise}sendWithStream(e,t,n,r){const i=this.streamId++,s=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:a,action:e,streamId:i,data:t,desiredSize:n.desiredSize},r),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:s,targetName:a,stream:Ly,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Hp(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:s,targetName:a,stream:My,streamId:i,reason:Oy(e)}),t.promise}},n)}destroy(){var e;null===(e=Qn(Fy,this))||void 0===e||e.abort(),$n(Fy,this,null)}}function zy(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void Yn(Wy,this,Hy).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===Ey)n.resolve(t.data);else{if(t.callback!==Cy)throw new Error("Unexpected callback case");n.reject(Oy(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,r=t.sourceName,i=this.comObj;Promise.try(n,t.data).then((function(n){i.postMessage({sourceName:e,targetName:r,callback:Ey,callbackId:t.callbackId,data:n})}),(function(n){i.postMessage({sourceName:e,targetName:r,callback:Cy,callbackId:t.callbackId,reason:Oy(n)})}))}else t.streamId?Yn(Wy,this,Uy).call(this,t):n(t.data)}function Uy(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,s=this,a=this.actionHandler[e.action],o={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:Ty,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:Ny,streamId:t}),delete s.streamSinks[t])},error(e){Hp(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:Py,streamId:t,reason:Oy(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(a,e.data,o).then((function(){i.postMessage({sourceName:n,targetName:r,stream:jy,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:jy,streamId:t,reason:Oy(e)})}))}function Hy(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case jy:e.success?s.startCall.resolve():s.startCall.reject(Oy(e.reason));break;case Dy:e.success?s.pullCall.resolve():s.pullCall.reject(Oy(e.reason));break;case Ly:if(!a){i.postMessage({sourceName:n,targetName:r,stream:Dy,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||Iy).then((function(){i.postMessage({sourceName:n,targetName:r,stream:Dy,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:Dy,streamId:t,reason:Oy(e)})}));break;case Ty:if(Hp(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Ny:if(Hp(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),Yn(Wy,this,Vy).call(this,s,t);break;case Py:Hp(s,"error should have stream controller"),s.controller.error(Oy(e.reason)),Yn(Wy,this,Vy).call(this,s,t);break;case Ry:e.success?s.cancelCall.resolve():s.cancelCall.reject(Oy(e.reason)),Yn(Wy,this,Vy).call(this,s,t);break;case My:if(!a)break;const o=Oy(e.reason);Promise.try(a.onCancel||Iy,o).then((function(){i.postMessage({sourceName:n,targetName:r,stream:Ry,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:Ry,streamId:t,reason:Oy(e)})})),a.sinkCapability.reject(o),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function Vy(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var Gy=new WeakMap;class qy{constructor(e){let{enableHWA:t=!1}=e;Xn(this,Gy,!1),$n(Gy,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!Qn(Gy,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Up("Abstract method `_createCanvas` called.")}}class Ky extends qy{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Xy{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then((e=>({cMapData:e,isCompressed:this.isCompressed}))).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(e){Up("Abstract method `_fetch` called.")}}class Yy extends Xy{async _fetch(e){const t=await gg(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):tg(t)}}class Qy{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(){}}var $y=new WeakMap,Jy=new WeakMap,Zy=new WeakMap,ew=new WeakMap,tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,iw=new WeakSet;class sw extends Qy{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),np(this,iw),Xn(this,$y,void 0),Xn(this,Jy,void 0),Xn(this,Zy,void 0),Xn(this,ew,void 0),Xn(this,tw,void 0),Xn(this,nw,void 0),Xn(this,rw,0),$n(ew,this,t),$n(tw,this,n)}addFilter(e){var t,n;if(!e)return"none";let r=rp(iw,this,aw).get(e);if(r)return r;const[i,s,a]=Yn(iw,this,cw).call(this,e),o=1===e.length?i:"".concat(i).concat(s).concat(a);if(r=rp(iw,this,aw).get(o),r)return rp(iw,this,aw).set(e,r),r;const l="g_".concat(Qn(ew,this),"_transfer_map_").concat(($n(rw,this,(t=Qn(rw,this),n=t++,t)),n)),c=Yn(iw,this,uw).call(this,l);rp(iw,this,aw).set(e,c),rp(iw,this,aw).set(o,c);const u=Yn(iw,this,fw).call(this,l);return Yn(iw,this,gw).call(this,i,s,a,u),c}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t),i="base";let s=rp(iw,this,ow).get(i);if((null===(n=s)||void 0===n?void 0:n.key)===r)return s.url;var a;s?(null===(a=s.filter)||void 0===a||a.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},rp(iw,this,ow).set(i,s));if(!e||!t)return s.url;const o=Yn(iw,this,vw).call(this,e);e=ig.makeHexColor(...o);const l=Yn(iw,this,vw).call(this,t);if(t=ig.makeHexColor(...l),rp(iw,this,lw).style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const c=new Array(256);for(let p=0;p<=255;p++){const e=p/255;c[p]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const u=c.join(","),d="g_".concat(Qn(ew,this),"_hcm_filter"),h=s.filter=Yn(iw,this,fw).call(this,d);Yn(iw,this,gw).call(this,u,u,u,h),Yn(iw,this,hw).call(this,h);const f=(e,t)=>{const n=o[e]/255,r=l[e]/255,i=new Array(t+1);for(let s=0;s<=t;s++)i[s]=n+s/t*(r-n);return i.join(",")};return Yn(iw,this,gw).call(this,f(0,5),f(1,5),f(2,5),h),s.url=Yn(iw,this,uw).call(this,d),s.url}addAlphaFilter(e){var t,n;let r=rp(iw,this,aw).get(e);if(r)return r;const[i]=Yn(iw,this,cw).call(this,[e]),s="alpha_".concat(i);if(r=rp(iw,this,aw).get(s),r)return rp(iw,this,aw).set(e,r),r;const a="g_".concat(Qn(ew,this),"_alpha_map_").concat(($n(rw,this,(t=Qn(rw,this),n=t++,t)),n)),o=Yn(iw,this,uw).call(this,a);rp(iw,this,aw).set(e,o),rp(iw,this,aw).set(s,o);const l=Yn(iw,this,fw).call(this,a);return Yn(iw,this,mw).call(this,i,l),o}addLuminosityFilter(e){var t,n;let r,i,s=rp(iw,this,aw).get(e||"luminosity");if(s)return s;if(e?([r]=Yn(iw,this,cw).call(this,[e]),i="luminosity_".concat(r)):i="luminosity",s=rp(iw,this,aw).get(i),s)return rp(iw,this,aw).set(e,s),s;const a="g_".concat(Qn(ew,this),"_luminosity_map_").concat(($n(rw,this,(t=Qn(rw,this),n=t++,t)),n)),o=Yn(iw,this,uw).call(this,a);rp(iw,this,aw).set(e,o),rp(iw,this,aw).set(i,o);const l=Yn(iw,this,fw).call(this,a);return Yn(iw,this,dw).call(this,l),e&&Yn(iw,this,mw).call(this,r,l),o}addHighlightHCMFilter(e,t,n,r,i){var s;const a="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i);let o=rp(iw,this,ow).get(e);if((null===(s=o)||void 0===s?void 0:s.key)===a)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},rp(iw,this,ow).set(e,o));if(!t||!n)return o.url;const[c,u]=[t,n].map(Yn(iw,this,vw).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,p]=[r,i].map(Yn(iw,this,vw).bind(this));h<d&&([d,h,f,p]=[h,d,p,f]),rp(iw,this,lw).style.color="";const g=(e,t,n)=>{const r=new Array(256),i=(h-d)/n,s=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(d+l*i),t=s+l*a;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},m="g_".concat(Qn(ew,this),"_hcm_").concat(e,"_filter"),v=o.filter=Yn(iw,this,fw).call(this,m);return Yn(iw,this,hw).call(this,v),Yn(iw,this,gw).call(this,g(f[0],p[0],5),g(f[1],p[1],5),g(f[2],p[2],5),v),o.url=Yn(iw,this,uw).call(this,m),o.url}destroy(){var e,t,n,r;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(e=Qn(nw,this))&&void 0!==e&&e.size||(null===(t=Qn(Zy,this))||void 0===t||t.parentNode.parentNode.remove(),$n(Zy,this,null),null===(n=Qn(Jy,this))||void 0===n||n.clear(),$n(Jy,this,null),null===(r=Qn(nw,this))||void 0===r||r.clear(),$n(nw,this,null),$n(rw,this,0))}}function aw(e){return Qn(Jy,e)||$n(Jy,e,new Map)}function ow(e){return Qn(nw,e)||$n(nw,e,new Map)}function lw(e){if(!Qn(Zy,e)){const t=Qn(tw,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=Qn(tw,e).createElementNS(fg,"svg");r.setAttribute("width",0),r.setAttribute("height",0),$n(Zy,e,Qn(tw,e).createElementNS(fg,"defs")),t.append(r),r.append(Qn(Zy,e)),Qn(tw,e).body.append(t)}return Qn(Zy,e)}function cw(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const r=n.join(",");return[r,r,r]}const[t,n,r]=e,i=new Array(256),s=new Array(256),a=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,s[o]=n[o]/255,a[o]=r[o]/255;return[i.join(","),s.join(","),a.join(",")]}function uw(e){if(void 0===Qn($y,this)){$n($y,this,"");const e=Qn(tw,this).URL;e!==Qn(tw,this).baseURI&&(bg(e)?zp('#createUrl: ignore "data:"-URL for performance reasons.'):$n($y,this,Gp(e,"")))}return"url(".concat(Qn($y,this),"#").concat(e,")")}function dw(e){const t=Qn(tw,this).createElementNS(fg,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function hw(e){const t=Qn(tw,this).createElementNS(fg,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function fw(e){const t=Qn(tw,this).createElementNS(fg,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),rp(iw,this,lw).append(t),t}function pw(e,t,n){const r=Qn(tw,this).createElementNS(fg,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function gw(e,t,n,r){const i=Qn(tw,this).createElementNS(fg,"feComponentTransfer");r.append(i),Yn(iw,this,pw).call(this,i,"feFuncR",e),Yn(iw,this,pw).call(this,i,"feFuncG",t),Yn(iw,this,pw).call(this,i,"feFuncB",n)}function mw(e,t){const n=Qn(tw,this).createElementNS(fg,"feComponentTransfer");t.append(n),Yn(iw,this,pw).call(this,n,"feFuncA",e)}function vw(e){return rp(iw,this,lw).style.color=e,Eg(getComputedStyle(rp(iw,this,lw)).getPropertyValue("color"))}class bw{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(e){Up("Abstract method `_fetch` called.")}}class yw extends bw{async _fetch(e){const t=await gg(e,"arraybuffer");return new Uint8Array(t)}}class ww{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch((e=>{throw new Error("Unable to load wasm data at: ".concat(n))}))}async _fetch(e){Up("Abstract method `_fetch` called.")}}class xw extends ww{async _fetch(e){const t=await gg(e,"arraybuffer");return new Uint8Array(t)}}async function _w(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}ip&&zp("Please use the `legacy` build in Node.js environments.");class Sw extends Qy{}class kw extends qy{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("file:///home/vricap/prog/web/dms-frontend/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}class Aw extends Xy{async _fetch(e){return _w(e)}}class Ew extends bw{async _fetch(e){return _w(e)}}class Cw extends ww{async _fetch(e){return _w(e)}}const Mw="Fill",Rw="Stroke",Nw="Shading";function Tw(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class Pw{isModifyingCurrentTransform(){return!1}getPattern(){Up("Abstract method `getPattern` called.")}}class Lw extends Pw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let i;if(r===Rw||r===Mw){const s=t.current.getClippedPathBoundingBox(r,Cg(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,o=Math.ceil(s[3]-s[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=ig.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Tw(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);i.setTransform(u)}else Tw(e,this._bbox),i=this._createGradient(e);return i}}function Dw(e,t,n,r,i,s,a,o){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=s,s=a,a=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=a,a=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=s,s=a,a=h);const f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,b=(l[i+1]+t.offsetY)*t.scaleY;if(p>=b)return;const y=c[s],w=c[s+1],x=c[s+2],_=c[a],S=c[a+1],k=c[a+2],A=c[o],E=c[o+1],C=c[o+2],M=Math.round(p),R=Math.round(b);let N,T,P,L,D,j,I,O;for(let F=M;F<=R;F++){if(F<m){const e=F<p?0:(p-F)/(p-m);N=f-(f-g)*e,T=y-(y-_)*e,P=w-(w-S)*e,L=x-(x-k)*e}else{let e;e=F>b?1:m===b?0:(m-F)/(m-b),N=g-(g-v)*e,T=_-(_-A)*e,P=S-(S-E)*e,L=k-(k-C)*e}let e;e=F<p?0:F>b?1:(p-F)/(p-b),D=f-(f-v)*e,j=y-(y-A)*e,I=w-(w-E)*e,O=x-(x-C)*e;const t=Math.round(Math.min(N,D)),n=Math.round(Math.max(N,D));let r=d*F+4*t;for(let i=t;i<=n;i++)e=(N-i)/(N-D),e<0?e=0:e>1&&(e=1),u[r++]=T-(T-j)*e|0,u[r++]=P-(P-I)*e|0,u[r++]=L-(L-O)*e|0,u[r++]=255}}function jw(e,t,n){const r=t.coords,i=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<c;s++,t++)Dw(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),Dw(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)Dw(e,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Iw extends Pw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=s/o,u=a/l,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},h=o+4,f=l+4,p=n.getCanvas("mesh",h,f),g=p.context,m=g.createImageData(o,l);if(t){const e=m.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)jw(m,v,d);g.putImageData(m,2,2);return{canvas:p.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){Tw(e,this._bbox);const i=new Float32Array(2);if(r===Nw)ig.singularValueDecompose2dScale(Cg(e),i);else if(this.matrix){ig.singularValueDecompose2dScale(this.matrix,i);const[e,n]=i;ig.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=e,i[1]*=n}else ig.singularValueDecompose2dScale(t.baseTransform,i);const s=this._createMeshCanvas(i,r===Nw?null:this._background,t.cachedCanvases);return r!==Nw&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Ow extends Pw{getPattern(){return"hotpink"}}const Fw=1,Ww=2;class Bw{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:i,color:s,canvasGraphicsFactory:a}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),Bp("TilingType: "+i);const c=t[0],u=t[1],d=t[2],h=t[3],f=d-c,p=h-u,g=new Float32Array(2);ig.singularValueDecompose2dScale(this.matrix,g);const[m,v]=g;ig.singularValueDecompose2dScale(this.baseTransform,g);const b=m*g[0],y=v*g[1];let w=f,x=p,_=!1,S=!1;const k=Math.ceil(o*b),A=Math.ceil(l*y);k>=Math.ceil(f*b)?w=o:_=!0,A>=Math.ceil(p*y)?x=l:S=!0;const E=this.getSizeAndScale(w,this.ctx.canvas.width,b),C=this.getSizeAndScale(x,this.ctx.canvas.height,y),M=e.cachedCanvases.getCanvas("pattern",E.size,C.size),R=M.context,N=a.createCanvasGraphics(R);if(N.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(N,r,s),R.translate(-E.scale*c,-C.scale*u),N.transform(E.scale,0,0,C.scale,0,0),R.save(),this.clipBbox(N,c,u,d,h),N.baseTransform=Cg(N.ctx),N.executeOperatorList(n),N.endDrawing(),R.restore(),_||S){const t=M.canvas;_&&(w=o),S&&(x=l);const n=this.getSizeAndScale(w,this.ctx.canvas.width,b),r=this.getSizeAndScale(x,this.ctx.canvas.height,y),i=n.size,s=r.size,a=e.cachedCanvases.getCanvas("pattern-workaround",i,s),d=a.context,h=_?Math.floor(f/o):0,g=S?Math.floor(p/l):0;for(let e=0;e<=h;e++)for(let n=0;n<=g;n++)d.drawImage(t,i*e,s*n,i,s,0,0,i,s);return{canvas:a.canvas,scaleX:n.scale,scaleY:r.scale,offsetX:c,offsetY:u}}return{canvas:M.canvas,scaleX:E.scale,scaleY:C.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const r=Math.max(Bw.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,i){const s=r-t,a=i-n;e.ctx.rect(t,n,s,a),ig.axialAlignedBoundingBox([t,n,r,i],Cg(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,i=e.current;switch(t){case Fw:const{fillStyle:e,strokeStyle:s}=this.ctx;r.fillStyle=i.fillColor=e,r.strokeStyle=i.strokeColor=s;break;case Ww:r.fillStyle=r.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new Jp("Unsupported paint type: ".concat(t))}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let i=n;r!==Nw&&(i=ig.transform(i,t.baseTransform),this.matrix&&(i=ig.transform(i,this.matrix)));const s=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const o=e.createPattern(s.canvas,"repeat");return o.setTransform(a),o}}function zw(e){let{src:t,srcPos:n=0,dest:r,width:i,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=ng.isLittleEndian?4278190080:255,[c,u]=o?[a,l]:[l,a],d=i>>3,h=7&i,f=t.length;r=new Uint32Array(r.buffer);let p=0;for(let g=0;g<s;g++){for(const i=n+d;n<i;n++){const e=n<f?t[n]:255;r[p++]=128&e?u:c,r[p++]=64&e?u:c,r[p++]=32&e?u:c,r[p++]=16&e?u:c,r[p++]=8&e?u:c,r[p++]=4&e?u:c,r[p++]=2&e?u:c,r[p++]=1&e?u:c}if(0===h)continue;const e=n<f?t[n++]:255;for(let t=0;t<h;t++)r[p++]=e&1<<7-t?u:c}return{srcPos:n,destPos:p}}Ie(Bw,"MAX_PATTERN_SIZE",3e3);const Uw=16,Hw=new DOMMatrix,Vw=new Float32Array(2),Gw=new Float32Array([1/0,1/0,-1/0,-1/0]);class qw{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Kw(e,t,n,r,i,s,a,o,l,c){const[u,d,h,f,p,g]=Cg(e);if(0===d&&0===h){const m=a*u+p,v=Math.round(m),b=o*f+g,y=Math.round(b),w=(a+l)*u+p,x=Math.abs(Math.round(w)-v)||1,_=(o+c)*f+g,S=Math.abs(Math.round(_)-y)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(f),v,y),e.drawImage(t,n,r,i,s,0,0,x,S),e.setTransform(u,d,h,f,p,g),[x,S]}if(0===u&&0===f){const m=o*h+p,v=Math.round(m),b=a*d+g,y=Math.round(b),w=(o+c)*h+p,x=Math.abs(Math.round(w)-v)||1,_=(a+l)*d+g,S=Math.abs(Math.round(_)-y)||1;return e.setTransform(0,Math.sign(d),Math.sign(h),0,v,y),e.drawImage(t,n,r,i,s,0,0,S,x),e.setTransform(u,d,h,f,p,g),[S,x]}e.drawImage(t,n,r,i,s,a,o,l,c);return[Math.hypot(u,d)*l,Math.hypot(h,f)*c]}class Xw{constructor(e,t){Ie(this,"alphaIsShape",!1),Ie(this,"fontSize",0),Ie(this,"fontSizeScale",1),Ie(this,"textMatrix",null),Ie(this,"textMatrixScale",1),Ie(this,"fontMatrix",sp),Ie(this,"leading",0),Ie(this,"x",0),Ie(this,"y",0),Ie(this,"lineX",0),Ie(this,"lineY",0),Ie(this,"charSpacing",0),Ie(this,"wordSpacing",0),Ie(this,"textHScale",1),Ie(this,"textRenderingMode",bp),Ie(this,"textRise",0),Ie(this,"fillColor","#000000"),Ie(this,"strokeColor","#000000"),Ie(this,"patternFill",!1),Ie(this,"patternStroke",!1),Ie(this,"fillAlpha",1),Ie(this,"strokeAlpha",1),Ie(this,"lineWidth",1),Ie(this,"activeSMask",null),Ie(this,"transferMaps","none"),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Gw.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mw,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(e===Rw){t||Up("Stroke bounding box must include transform."),ig.singularValueDecompose2dScale(t,Vw);const e=Vw[0]*this.lineWidth/2,r=Vw[1]*this.lineWidth/2;n[0]-=e,n[1]-=r,n[2]+=e,n[3]+=r}return n}updateClipFromPath(){const e=ig.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Gw,0)}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mw,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ig.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Yw(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,i=n%Uw,s=(n-i)/Uw,a=0===i?s:s+1,o=e.createImageData(r,Uw);let l,c=0;const u=t.data,d=o.data;let h,f,p,g;if(t.kind===kp.GRAYSCALE_1BPP){const t=u.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,m=r+7>>3,v=4294967295,b=ng.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(p=h<s?Uw:i,l=0,f=0;f<p;f++){const e=t-c;let i=0;const s=e>m?r:8*e-7,a=-8&s;let o=0,d=0;for(;i<a;i+=8)d=u[c++],n[l++]=128&d?v:b,n[l++]=64&d?v:b,n[l++]=32&d?v:b,n[l++]=16&d?v:b,n[l++]=8&d?v:b,n[l++]=4&d?v:b,n[l++]=2&d?v:b,n[l++]=1&d?v:b;for(;i<s;i++)0===o&&(d=u[c++],o=128),n[l++]=d&o?v:b,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,h*Uw)}}else if(t.kind===kp.RGBA_32BPP){for(f=0,g=r*Uw*4,h=0;h<s;h++)d.set(u.subarray(c,c+g)),c+=g,e.putImageData(o,0,f),f+=Uw;h<a&&(g=r*i*4,d.set(u.subarray(c,c+g)),e.putImageData(o,0,f))}else{if(t.kind!==kp.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(p=Uw,g=r*p,h=0;h<a;h++){for(h>=s&&(p=i,g=r*p),l=0,f=g;f--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;e.putImageData(o,0,h*Uw)}}}function Qw(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%Uw,s=(n-i)/Uw,a=0===i?s:s+1,o=e.createImageData(r,Uw);let l=0;const c=t.data,u=o.data;for(let d=0;d<a;d++){const t=d<s?Uw:i;({srcPos:l}=zw({src:c,srcPos:l,dest:u,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,d*Uw)}}function $w(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Jw(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function Zw(e,t){if(t)return!0;ig.singularValueDecompose2dScale(e,Vw);const n=Math.fround(Ng.pixelRatio*pg.PDF_TO_CSS_UNITS);return Vw[0]<=n&&Vw[1]<=n}const ex=["butt","round","square"],tx=["miter","round","bevel"],nx={},rx={};var ix=new WeakSet;class sx{constructor(e,t,n,r,i,s,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=s;np(this,ix),this.ctx=e,this.current=new Xw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new qw(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:i=null}=e;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const e=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...Cg(this.compositeCtx))}this.ctx.save(),Jw(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Cg(this.ctx)}executeOperatorList(e,t,n,r){const i=e.argsArray,s=e.fnArray;let a=t||0;const o=i.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const d=this.commonObjs,h=this.objs;let f;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(f=s[a],f!==Pp.dependency)this[f].apply(this,i[a]);else for(const e of i[a]){const t=e.startsWith("g_")?d:h;if(!t.has(e))return t.get(e,n),a}if(a++,a===o)return a;if(l&&++u>10){if(Date.now()>c)return n(),a;u=0}}}endDrawing(){Yn(ix,this,ax).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),Yn(ix,this,ox).call(this)}_scaleImage(e,t){var n,r;const i=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,s=null!==(r=e.height)&&void 0!==r?r:e.displayHeight;let a,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),u=i,d=s,h="prescale1";for(;l>2&&u>1||c>2&&d>1;){let t=u,n=d;l>2&&u>1&&(t=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/t),c>2&&d>1&&(n=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/n),a=this.cachedCanvases.getCanvas(h,t,n),o=a.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,u,d,0,0,t,n),e=a.canvas,u=t,d=n,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,i=this.current.fillColor,s=this.current.patternFill,a=Cg(t);let o,l,c,u;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(s?a:[a.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!s){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,r),Qw(u.context,e));let d=ig.transform(a,[1/n,0,0,-1/r,0,0]);d=ig.transform(d,[1,0,0,1,0,-r]);const h=Gw.slice();ig.axialAlignedBoundingBox([0,0,n,r],d,h);const[f,p,g,m]=h,v=Math.round(g-f)||1,b=Math.round(m-p)||1,y=this.cachedCanvases.getCanvas("fillCanvas",v,b),w=y.context,x=f,_=p;w.translate(-x,-_),w.transform(...d),c||(c=this._scaleImage(u.canvas,Mg(w)),c=c.img,o&&s&&o.set(l,c)),w.imageSmoothingEnabled=Zw(Cg(w),e.interpolate),Kw(w,c,0,0,c.width,c.height,0,0,n,r),w.globalCompositeOperation="source-in";const S=ig.transform(Mg(w),[1,0,0,1,-x,-_]);return w.fillStyle=s?i.getPattern(t,this,S,Mw):i,w.fillRect(0,0,n,r),o&&!s&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(x),offsetY:Math.round(_)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ex[e]}setLineJoin(e){this.ctx.lineJoin=tx[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=r.context;i.setTransform(this.suspendedCtx.getTransform()),$w(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,s,a){t.transform(e,n,r,i,s,a),this.__originalTransform(e,n,r,i,s,a)},e.setTransform=function(e,n,r,i,s,a){t.setTransform(e,n,r,i,s,a),this.__originalSetTransform(e,n,r,i,s,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,s,a){t.bezierCurveTo(e,n,r,i,s,a),this.__originalBezierCurveTo(e,n,r,i,s,a)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const i=r[0],s=r[1],a=r[2]-i,o=r[3]-s;0!==a&&0!==o&&(this.genericComposeSMask(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,i,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,i,s,a,o,l,c,u){let d=e.canvas,h=o-c,f=l-u;if(s)if(h<0||f<0||h+n>d.width||f+r>d.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,r),t=e.context;t.drawImage(d,-h,-f),t.globalCompositeOperation="destination-atop",t.fillStyle=s,t.fillRect(0,0,n,r),t.globalCompositeOperation="source-over",d=e.canvas,h=f=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,f,n,r),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(h,f,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(a));const p=new Path2D;p.rect(o,l,n,r),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(d,h,f,n,r,o,l,n,r),t.restore()}save(){this.inSMaskMode&&$w(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$w(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,r,i,s){this.ctx.transform(e,t,n,r,i,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n)return r||(r=t[0]=new Path2D),void this[e](r);if(!(r instanceof Path2D)){const e=t[0]=new Path2D;for(let t=0,n=r.length;t<n;)switch(r[t++]){case Lp:e.moveTo(r[t++],r[t++]);break;case Dp:e.lineTo(r[t++],r[t++]);break;case jp:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case Ip:e.closePath();break;default:zp("Unrecognized drawing path operator: ".concat(r[t-1]))}r=e}ig.axialAlignedBoundingBox(n,Cg(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern){const t=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,Mg(n),Rw),t){const r=new Path2D;r.addPath(e,n.getTransform().invertSelf().multiplySelf(t)),e=r}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Rw,Cg(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.ctx,r=this.current.fillColor;let i=!1;if(this.current.patternFill){const t=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,Mg(n),Mw),t){const r=new Path2D;r.addPath(e,n.getTransform().invertSelf().multiplySelf(t)),e=r}i=!0}const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),i&&n.restore(),t&&this.consumePath(e,s)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=nx}eoClip(){this.pendingClip=rx}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:i,x:s,y:a,fontSize:o,path:l}of e)n.addPath(l,new DOMMatrix(i).preMultiplySelf(r).translate(s,a).scale(o,-o));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=r.fontMatrix||sp,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||zp("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(s,'", ').concat(r.fallbackName);let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(a)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,i){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,u=l&_p,d=!!(l&Sp),h=a.patternFill&&!o.missingFile,f=a.patternStroke&&!o.missingFile;let p;if((o.disableFontFace||d||h||f)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h||f){let e;if(s.save(),s.translate(t,n),s.scale(c,-c),u!==bp&&u!==wp||(r?(e=s.getTransform(),s.setTransform(...r),s.fill(Yn(ix,this,lx).call(this,p,e,r))):s.fill(p)),u===yp||u===wp)if(i){e||(e=s.getTransform()),s.setTransform(...i);const{a:t,b:n,c:r,d:a}=e,o=ig.inverseTransform(i),l=ig.transform([t,n,r,a,0,0],o);ig.singularValueDecompose2dScale(l,Vw),s.lineWidth*=Math.max(Vw[0],Vw[1])/c,s.stroke(Yn(ix,this,lx).call(this,p,e,i))}else s.lineWidth/=c,s.stroke(p);s.restore()}else u!==bp&&u!==wp||s.fillText(e,t,n),u!==yp&&u!==wp||s.strokeText(e,t,n);if(d){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Cg(s),x:t,y:n,fontSize:c,path:p})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return qp(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const i=this.ctx,s=t.fontSizeScale,a=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,d=n.vertical,h=d?1:-1,f=n.defaultVMetrics,p=r*t.fontMatrix[0],g=t.textRenderingMode===bp&&!n.disableFontFace&&!t.patternFill;let m,v;if(i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,Mg(i),Mw);m=Cg(i),i.restore(),i.fillStyle=e}if(t.patternStroke){i.save();const e=t.strokeColor.getPattern(i,this,Mg(i),Rw);v=Cg(i),i.restore(),i.strokeStyle=e}let b=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===b){const e=t.textRenderingMode&_p;e!==yp&&e!==wp||(b=this.getSinglePixelWidth())}else b/=y;if(1!==s&&(i.scale(s,s),b/=s),i.lineWidth=b,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return i.fillText(n.join(""),0,0),t.x+=r*p*c,i.restore(),void this.compose()}let w,x=0;for(w=0;w<u;++w){const t=e[w];if("number"===typeof t){x+=h*t*r/1e3;continue}let c=!1;const u=(t.isSpace?o:0)+a,b=t.fontChar,y=t.accent;let _,S,k=t.width;if(d){const e=t.vmetric||f,n=-(t.vmetric?e[1]:.5*k)*p,r=e[2]*p;k=e?-e[0]:k,_=n/s,S=(x+r)/s}else _=x/s,S=0;if(n.remeasure&&k>0){const e=1e3*i.measureText(b).width/r*s;if(k<e&&this.isFontSubpixelAAEnabled){const t=k/e;c=!0,i.save(),i.scale(t,1),_/=t}else k!==e&&(_+=(k-e)/2e3*r/s)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!y)i.fillText(b,_,S);else if(this.paintChar(b,_,S,m,v),y){const e=_+r*y.offset.x/s,t=S-r*y.offset.y/s;this.paintChar(y.fontChar,e,t,m,v)}x+=d?k*p-u*l:k*p+u*l,c&&i.restore()}d?t.y-=x:t.x+=x*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,i=n.fontSize,s=n.fontDirection,a=r.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*s,u=n.fontMatrix||sp,d=e.length;let h,f,p,g;if(!(n.textRenderingMode===xp)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(c,s),h=0;h<d;++h){if(f=e[h],"number"===typeof f){g=a*f*i/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const s=(f.isSpace?l:0)+o,d=r.charProcOperatorList[f.operatorListId];d?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...u),this.executeOperatorList(d),this.restore()):zp('Type3 character "'.concat(f.operatorListId,'" is not available.'));const m=[f.width,0];ig.applyTransform(m,u),p=m[0]*i+s,t.translate(p,0),n.x+=p*c}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,s){const a=new Path2D;a.rect(n,r,i-n,s-r),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=this.baseTransform||Cg(this.ctx),r={createCanvasGraphics:e=>new sx(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Bw(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new Lw(e);case"Mesh":return new Iw(e);case"Dummy":return new Ow}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Mg(t),Nw);const r=Mg(t);if(r){const{width:e,height:n}=t.canvas,i=Gw.slice();ig.axialAlignedBoundingBox([0,0,e,n],r,i);const[s,a,o,l]=i;this.ctx.fillRect(s,a,o-s,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Up("Should not call beginInlineImage")}beginImageData(){Up("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Cg(this.ctx),t)){ig.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[e,n,r,i]=t,s=new Path2D;s.rect(e,n,r-e,i-n),this.ctx.clip(s),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Bp("TODO: Support non-isolated groups."),e.knockout&&zp("Knockout groups not supported.");const n=Cg(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Gw.slice();ig.axialAlignedBoundingBox(e.bbox,Cg(t),r);const i=[0,0,t.canvas.width,t.canvas.height];r=ig.intersect(r,i)||[0,0,0,0];const s=Math.floor(r[0]),a=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-s,1),l=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),d=u.context;d.translate(-s,-a),d.transform(...n);let h=new Path2D;const[f,p,g,m]=e.bbox;if(h.rect(f,p,g-f,m-p),e.matrix){const t=new Path2D;t.addPath(h,new DOMMatrix(e.matrix)),h=t}d.clip(h),e.smask?this.smaskStack.push({canvas:u.canvas,context:d,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,a),t.save()),$w(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=Cg(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Gw.slice();ig.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e,n),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,r,i){if(Yn(ix,this,ax).call(this),Jw(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const r=t[2]-t[0],s=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=s,ig.singularValueDecompose2dScale(Cg(this.ctx),Vw);const{viewportScale:i}=this,a=Math.ceil(r*this.outputScaleX*i),o=Math.ceil(s*this.outputScaleY*i);this.annotationCanvas=this.canvasFactory.create(a,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(Vw[0],0,0,-Vw[1],0,s*Vw[1]),Jw(this.ctx)}else{Jw(this.ctx),this.endPath();const e=new Path2D;e.rect(t[0],t[1],r,s),this.ctx.clip(e)}}this.current=new Xw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Yn(ix,this,ox).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this._createMaskCanvas(e),i=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const o=Cg(a);a.transform(t,n,r,i,0,0);const l=this._createMaskCanvas(e);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,u=s.length;c<u;c+=2){const e=ig.transform(o,[t,n,r,i,s[c],s[c+1]]);a.drawImage(l.canvas,e[4],e[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:e,width:s,height:a,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",s,a),c=l.context;c.save();Qw(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this,Mg(t),Mw):n,c.fillRect(0,0,s,a),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),Kw(t,l.canvas,0,0,s,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):zp("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void zp("Dependent image isn't ready yet");const s=i.width,a=i.height,o=[];for(let l=0,c=r.length;l<c;l+=2)o.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:i}=r;let s;if("none"!==i&&""!==i&&(r.filter="none"),r.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Yw(r,e),s=this.applyTransferMapsToCanvas(r)}const a=this._scaleImage(s,Mg(r));r.imageSmoothingEnabled=Zw(Cg(r),e.interpolate),Kw(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Yw(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),Kw(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===rx?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Cg(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let s,a;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)s=a=1/n;else{const t=n*e;s=a=t<1?1/t:1}else if(0===e)s=1/n,a=1/r;else{const t=n*e,i=r*e;s=t<1?1/t:1,a=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)s=c/o,a=l/o;else{const t=e*o;s=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[i,s]=this.getScaleForStroking();if(i===s)return n.lineWidth=(r||1)*i,void n.stroke(e);const a=n.getLineDash();t&&n.save(),n.scale(i,s),Hw.a=1/i,Hw.d=1/s;const o=new Path2D;if(o.addPath(e,Hw),a.length>0){const e=Math.max(i,s);n.setLineDash(a.map((t=>t/e))),n.lineDashOffset/=e}n.lineWidth=r||1,n.stroke(o),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function ax(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function ox(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function lx(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}for(const HN in Pp)void 0!==sx.prototype[HN]&&(sx.prototype[Pp[HN]]=sx.prototype[HN]);class cx{static get workerPort(){return Yn(cx,this,ux)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");ux._=Yn(cx,this,e)}static get workerSrc(){return Yn(cx,this,dx)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");dx._=Yn(cx,this,e)}}var ux={_:null},dx={_:""},hx=new WeakMap,fx=new WeakMap;class px{constructor(e){let{parsedData:t,rawData:n}=e;Xn(this,hx,void 0),Xn(this,fx,void 0),$n(hx,this,t),$n(fx,this,n)}getRaw(){return Qn(fx,this)}get(e){var t;return null!==(t=Qn(hx,this).get(e))&&void 0!==t?t:null}[Symbol.iterator](){return Qn(hx,this).entries()}}const gx=Symbol("INTERNAL");var mx=new WeakMap,vx=new WeakMap,bx=new WeakMap,yx=new WeakMap;class wx{constructor(e,t){let{name:n,intent:r,usage:i,rbGroups:s}=t;Xn(this,mx,!1),Xn(this,vx,!1),Xn(this,bx,!1),Xn(this,yx,!0),$n(mx,this,!!(e&lp)),$n(vx,this,!!(e&cp)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(Qn(bx,this))return Qn(yx,this);if(!Qn(yx,this))return!1;const{print:e,view:t}=this.usage;return Qn(mx,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!Qn(vx,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==gx&&Up("Internal method `_setVisible` called."),$n(bx,this,n),$n(yx,this,t)}}var xx=new WeakMap,_x=new WeakMap,Sx=new WeakMap,kx=new WeakMap,Ax=new WeakSet;class Ex{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lp;if(np(this,Ax),Xn(this,xx,null),Xn(this,_x,new Map),Xn(this,Sx,null),Xn(this,kx,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,$n(kx,this,e.order);for(const n of e.groups)Qn(_x,this).set(n.id,new wx(t,n));if("OFF"===e.baseState)for(const e of Qn(_x,this).values())e._setVisible(gx,!1);for(const t of e.on)Qn(_x,this).get(t)._setVisible(gx,!0);for(const t of e.off)Qn(_x,this).get(t)._setVisible(gx,!1);$n(Sx,this,this.getHash())}}isVisible(e){if(0===Qn(_x,this).size)return!0;if(!e)return Bp("Optional content group not defined."),!0;if("OCG"===e.type)return Qn(_x,this).has(e.id)?Qn(_x,this).get(e.id).visible:(zp("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return Yn(Ax,this,Cx).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!Qn(_x,this).has(t))return zp("Optional content group not found: ".concat(t)),!0;if(Qn(_x,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!Qn(_x,this).has(t))return zp("Optional content group not found: ".concat(t)),!0;if(!Qn(_x,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!Qn(_x,this).has(t))return zp("Optional content group not found: ".concat(t)),!0;if(!Qn(_x,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!Qn(_x,this).has(t))return zp("Optional content group not found: ".concat(t)),!0;if(Qn(_x,this).get(t).visible)return!1}return!0}return zp("Unknown optional content policy ".concat(e.policy,".")),!0}return zp("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Qn(_x,this).get(e);if(r){if(n&&t&&r.rbGroups.length)for(const t of r.rbGroups)for(const n of t){var i;if(n!==e)null===(i=Qn(_x,this).get(n))||void 0===i||i._setVisible(gx,!1,!0)}r._setVisible(gx,!!t,!0),$n(xx,this,null)}else zp("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=Qn(_x,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!e.visible,r)}}$n(xx,this,null)}get hasInitialVisibility(){return null===Qn(Sx,this)||this.getHash()===Qn(Sx,this)}getOrder(){return Qn(_x,this).size?Qn(kx,this)?Qn(kx,this).slice():[...Qn(_x,this).keys()]:null}getGroup(e){return Qn(_x,this).get(e)||null}getHash(){if(null!==Qn(xx,this))return Qn(xx,this);const e=new oy;for(const[t,n]of Qn(_x,this))e.update("".concat(t,":").concat(n.visible));return $n(xx,this,e.hexdigest())}[Symbol.iterator](){return Qn(_x,this).entries()}}function Cx(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let i;if(Array.isArray(t))i=Yn(Ax,this,Cx).call(this,t);else{if(!Qn(_x,this).has(t))return zp("Optional content group not found: ".concat(t)),!0;i=Qn(_x,this).get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class Mx{constructor(e,t){let{disableRange:n=!1,disableStream:r=!1}=t;Hp(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(null===s||void 0===s?void 0:s.length)>0){const e=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{Hp(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Hp(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Rx(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Nx(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Rx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=yg(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Nx{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Tx(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const r in t){const e=t[r];void 0!==e&&n.append(r,e)}return n}function Px(e){var t,n;return null!==(t=null===(n=URL.parse(e))||void 0===n?void 0:n.origin)&&void 0!==t?t:null}function Lx(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(a))return s;if(s.suggestedLength=a,a<=2*r)return s;if(i||!n)return s;if("bytes"!==t.get("Accept-Ranges"))return s;return"identity"!==(t.get("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function Dx(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const s=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=a(n),e&&(n=unescape(n),0===r&&(n=o(n))),s.push(n)}return s.join("")}(e),n)return s(l(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),s(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),i=tg(n);n=r.decode(i),t=!1}catch(r){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return i(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(s){}return i(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(yg(e))return e}return null}function jx(e,t){return new $p("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e,404===e||0===e&&t.startsWith("file:"))}function Ix(e){return 200===e||206===e}function Ox(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Fx(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(zp("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class Wx{constructor(e){Ie(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Tx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return Hp(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Bx(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new zx(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Bx{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,Ox(n,this._withCredentials,this._abortController)).then((t=>{if(e._responseOrigin=Px(t.url),!Ix(t.status))throw jx(t.status,r);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:i,suggestedLength:s}=Lx({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=Dx(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Zp("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Fx(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class zx{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(n-1));const s=r.url;fetch(s,Ox(i,this._withCredentials,this._abortController)).then((t=>{const n=Px(t.url);if(n!==e._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(e._responseOrigin,'".'));if(!Ix(t.status))throw jx(t.status,s);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:Fx(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Ux{constructor(e){let{url:t,httpHeaders:n,withCredentials:r}=e;Ie(this,"_responseOrigin",null),this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Tx(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,s]of this.headers)t.setRequestHeader(i,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",Hp(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void n.onError(r.status);const i=r.status||200;if(!(200===i&&206===n.expectedStatus)&&i!==n.expectedStatus)return void n.onError(r.status);const s=function(e){const t=e.response;return"string"!==typeof t?t:tg(t).buffer}(r);if(206===i){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:s}):(zp('Missing or invalid "Content-Range" header.'),n.onError(0))}else s?n.onDone({begin:0,chunk:s}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Hx{constructor(e){this._source=e,this._manager=new Ux(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Hp(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Vx(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Gx(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Vx{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Px(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map((e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]})):[]),{allowRangeRequests:i,suggestedLength:s}=Lx({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Dx(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=jx(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Gx{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Px(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=jx(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const qx=/^[a-z][a-z0-9\-+.]+:/i;class Kx{constructor(e){this.source=e,this.url=function(e){if(qx.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),Hp("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return Hp(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Xx(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Yx(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Xx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then((e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=jx(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)}))}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Zp("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Yx{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}const Qx=Symbol("INITIAL_DATA");var $x=new WeakMap,Jx=new WeakSet;class Zx{constructor(){np(this,Jx),Xn(this,$x,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=Yn(Jx,this,e_).call(this,e);return n.promise.then((()=>t(n.data))),null}const n=Qn($x,this)[e];if(!n||n.data===Qx)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=Qn($x,this)[e];return!!t&&t.data!==Qx}delete(e){const t=Qn($x,this)[e];return!(!t||t.data===Qx)&&(delete Qn($x,this)[e],!0)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Yn(Jx,this,e_).call(this,e);n.data=t,n.resolve()}clear(){for(const t in Qn($x,this)){var e;const{data:n}=Qn($x,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}$n($x,this,Object.create(null))}*[Symbol.iterator](){for(const e in Qn($x,this)){const{data:t}=Qn($x,this)[e];t!==Qx&&(yield[e,t])}}}function e_(e){var t;return(t=Qn($x,this))[e]||(t[e]=Fe(Fe({},Promise.withResolvers()),{},{data:Qx}))}var t_=new WeakMap,n_=new WeakMap,r_=new WeakMap,i_=new WeakMap,s_=new WeakMap,a_=new WeakMap,o_=new WeakMap,l_=new WeakMap,c_=new WeakMap,u_=new WeakMap,d_=new WeakMap,h_=new WeakMap,f_=new WeakMap,p_=new WeakMap,g_=new WeakMap,m_=new WeakMap,v_=new WeakMap,b_=new WeakMap,y_=new WeakSet;class w_{constructor(e){var t;let{textContentSource:n,container:r,viewport:i}=e;if(np(this,y_),Xn(this,t_,Promise.withResolvers()),Xn(this,n_,null),Xn(this,r_,!1),Xn(this,i_,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),Xn(this,s_,null),Xn(this,a_,null),Xn(this,o_,0),Xn(this,l_,0),Xn(this,c_,null),Xn(this,u_,null),Xn(this,d_,0),Xn(this,h_,0),Xn(this,f_,Object.create(null)),Xn(this,p_,[]),Xn(this,g_,null),Xn(this,m_,[]),Xn(this,v_,new WeakMap),Xn(this,b_,null),n instanceof ReadableStream)$n(g_,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');$n(g_,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}$n(n_,this,$n(u_,this,r)),$n(h_,this,i.scale*Ng.pixelRatio),$n(d_,this,i.rotation),$n(a_,this,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:o,pageY:l}=i.rawDims;$n(b_,this,[1,0,0,-1,-o,l+a]),$n(l_,this,s),$n(o_,this,a),E_.call(w_),Rg(r,i),Qn(t_,this).promise.finally((()=>{P_._.delete(this),$n(a_,this,null),$n(f_,this,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ng.platform;return qp(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{Qn(c_,this).read().then((t=>{var n;let{value:r,done:i}=t;i?Qn(t_,this).resolve():(null!==(n=Qn(s_,this))&&void 0!==n||$n(s_,this,r.lang),Object.assign(Qn(f_,this),r.styles),Yn(y_,this,x_).call(this,r.items),e())}),Qn(t_,this).reject)};return $n(c_,this,Qn(g_,this).getReader()),P_._.add(this),e(),Qn(t_,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const r=t.scale*Ng.pixelRatio,i=t.rotation;if(i!==Qn(d_,this)&&(null===n||void 0===n||n(),$n(d_,this,i),Rg(Qn(u_,this),{rotation:i})),r!==Qn(h_,this)){null===n||void 0===n||n(),$n(h_,this,r);const e={div:null,properties:null,ctx:k_.call(w_,Qn(s_,this))};for(const t of Qn(m_,this))e.properties=Qn(v_,this).get(t),e.div=t,Yn(y_,this,S_).call(this,e)}}cancel(){var e;const t=new Zp("TextLayer task cancelled.");null===(e=Qn(c_,this))||void 0===e||e.cancel(t).catch((()=>{})),$n(c_,this,null),Qn(t_,this).reject(t)}get textDivs(){return Qn(m_,this)}get textContentItemsStr(){return Qn(p_,this)}static cleanup(){if(!(Yn(w_,this,P_)._.size>0)){Yn(w_,this,M_)._.clear();for(const{canvas:e}of Yn(w_,this,R_)._.values())e.remove();Yn(w_,this,R_)._.clear()}}}function x_(e){var t,n;if(Qn(r_,this))return;null!==(n=(t=Qn(a_,this)).ctx)&&void 0!==n||(t.ctx=k_.call(zf,Qn(s_,this)));const r=Qn(m_,this),i=Qn(p_,this);for(const s of e){if(r.length>1e5)return zp("Ignoring additional textDivs for performance reasons."),void $n(r_,this,!0);if(void 0!==s.str)i.push(s.str),Yn(y_,this,__).call(this,s);else if("beginMarkedContentProps"===s.type||"beginMarkedContent"===s.type){const e=Qn(n_,this);$n(n_,this,document.createElement("span")),Qn(n_,this).classList.add("markedContent"),null!==s.id&&Qn(n_,this).setAttribute("id","".concat(s.id)),e.append(Qn(n_,this))}else"endMarkedContent"===s.type&&$n(n_,this,Qn(n_,this).parentNode)}}function __(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};Qn(m_,this).push(t);const r=ig.transform(Qn(b_,this),e.transform);let i=Math.atan2(r[1],r[0]);const s=Qn(f_,this)[e.fontName];s.vertical&&(i+=Math.PI/2);let a=Qn(i_,this)&&s.fontSubstitution||s.fontFamily;a=zf.fontFamilyMap.get(a)||a;const o=Math.hypot(r[2],r[3]),l=o*C_.call(zf,a,s,Qn(s_,this));let c,u;0===i?(c=r[4],u=r[5]-l):(c=r[4]+l*Math.sin(i),u=r[5]-l*Math.cos(i));const d="calc(var(--total-scale-factor) *",h=t.style;Qn(n_,this)===Qn(u_,this)?(h.left="".concat((100*c/Qn(l_,this)).toFixed(2),"%"),h.top="".concat((100*u/Qn(o_,this)).toFixed(2),"%")):(h.left="".concat(d).concat(c.toFixed(2),"px)"),h.top="".concat(d).concat(u.toFixed(2),"px)")),h.fontSize="".concat(d).concat((T_._*o).toFixed(2),"px)"),h.fontFamily=a,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,Qn(i_,this)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let f=!1;if(e.str.length>1)f=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=s.vertical?e.height:e.width),Qn(v_,this).set(t,n),Qn(a_,this).div=t,Qn(a_,this).properties=n,Yn(y_,this,S_).call(this,Qn(a_,this)),n.hasText&&Qn(n_,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),Qn(n_,this).append(e)}}function S_(e){const{div:t,properties:n,ctx:r}=e,{style:i}=t;let s="";if(T_._>1&&(s="scale(".concat(1/T_._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=i,{canvasWidth:a,fontSize:o}=n;A_.call(zf,r,o*Qn(h_,this),e);const{width:l}=r.measureText(t.textContent);l>0&&(s="scaleX(".concat(a*Qn(h_,this)/l,") ").concat(s))}0!==n.angle&&(s="rotate(".concat(n.angle,"deg) ").concat(s)),s.length>0&&(i.transform=s)}function k_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Yn(zf,this,R_)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),Yn(zf,this,R_)._.set(e,t),Yn(zf,this,N_)._.set(t,{size:0,family:""})}return t}function A_(e,t,n){const r=Yn(zf,this,N_)._.get(e);t===r.size&&n===r.family||(e.font="".concat(t,"px ").concat(n),r.size=t,r.family=n)}function E_(){if(null!==Yn(zf,this,T_)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),T_._=Yn(zf,this,e.getBoundingClientRect().height),e.remove()}function C_(e,t,n){const r=Yn(zf,this,M_)._.get(e);if(r)return r;const i=Yn(zf,this,k_).call(this,n);i.canvas.width=i.canvas.height=30,Yn(zf,this,A_).call(this,i,30,e);const s=i.measureText(""),a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let l=.8;return a?l=a/(a+o):(ng.platform.isFirefox&&zp("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),Yn(zf,this,M_)._.set(e,l),l}zf=w_;var M_={_:new Map},R_={_:new Map},N_={_:new WeakMap},T_={_:null},P_={_:new Set};class L_{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var r;if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!L_.shouldBuildText(s))return;null!==n&&void 0!==n&&null!==(r=n.attributes)&&void 0!==r&&r.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}function D_(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const r=new j_,{docId:i}=r,s=n.url?function(e){if(e instanceof URL)return e.href;if("string"===typeof e){if(ip)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,a=n.data?function(e){if(ip&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return tg(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(e=n.password)&&void 0!==e?e:null,u=n.range instanceof U_?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let h=n.worker instanceof Z_?n.worker:null;const f=n.verbosity,p="string"!==typeof n.docBaseUrl||bg(n.docBaseUrl)?null:n.docBaseUrl,g=wy(n.cMapUrl),m=!1!==n.cMapPacked,v=n.CMapReaderFactory||(ip?Aw:Yy),b=wy(n.iccUrl),y=wy(n.standardFontDataUrl),w=n.StandardFontDataFactory||(ip?Ew:yw),x=wy(n.wasmUrl),_=n.WasmFactory||(ip?Cw:xw),S=!0!==n.stopAtErrors,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,A=!1!==n.isEvalSupported,E="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!ip,C="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!ip&&(ng.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R="boolean"===typeof n.disableFontFace?n.disableFontFace:ip,N=!0===n.fontExtraProperties,T=!0===n.enableXfa,P=n.ownerDocument||globalThis.document,L=!0===n.disableRange,D=!0===n.disableStream,j=!0===n.disableAutoFetch,I=!0===n.pdfBug,O=n.CanvasFactory||(ip?kw:Ky),F=n.FilterFactory||(ip?Sw:sw),W=!0===n.enableHWA,B=!1!==n.useWasm,z=u?u.length:null!==(t=n.length)&&void 0!==t?t:NaN,U="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!ip&&!R,H="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===Yy&&w===yw&&_===xw&&g&&y&&x&&xg(g,document.baseURI)&&xg(y,document.baseURI)&&xg(x,document.baseURI));Fp(f);const V={canvasFactory:new O({ownerDocument:P,enableHWA:W}),filterFactory:new F({docId:i,ownerDocument:P}),cMapReaderFactory:H?null:new v({baseUrl:g,isCompressed:m}),standardFontDataFactory:H?null:new w({baseUrl:y}),wasmFactory:H?null:new _({baseUrl:x})};h||(h=Z_.create({verbosity:f,port:cx.workerPort}),r._worker=h);const G={docId:i,apiVersion:"5.3.31",data:a,password:c,disableAutoFetch:j,rangeChunkSize:d,length:z,docBaseUrl:p,enableXfa:T,evaluatorOptions:{maxImageSize:k,disableFontFace:R,ignoreErrors:S,isEvalSupported:A,isOffscreenCanvasSupported:E,isImageDecoderSupported:C,canvasMaxAreaInBytes:M,fontExtraProperties:N,useSystemFonts:U,useWasm:B,useWorkerFetch:H,cMapUrl:g,iccUrl:b,standardFontDataUrl:y,wasmUrl:x}},q={ownerDocument:P,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:j,enableXfa:T}};return h.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const e=h.messageHandler.sendWithPromise("GetDocRequest",G,a?[a.buffer]:null);let t;if(u)t=new Mx(u,{disableRange:L,disableStream:D});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const e=xg(s)?Wx:ip?Kx:Hx;t=new e({url:s,length:z,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:L,disableStream:D})}return e.then((e=>{if(r.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const n=new By(i,e,h.port),s=new pS(n,r,t,q,V);r._transport=s,n.send("Ready",null)}))})).catch(r._capability.reject),r}class j_{constructor(){Ie(this,"_capability",Promise.withResolvers()),Ie(this,"_transport",null),Ie(this,"_worker",null),Ie(this,"docId","d".concat((I_._=(Uf=I_._,Hf=Uf++,Uf),Hf))),Ie(this,"destroyed",!1),Ie(this,"onPassword",null),Ie(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0;try{var t,n;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(i){var r;throw null!==(r=this._worker)&&void 0!==r&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,null===(e=this._worker)||void 0===e||e.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var I_={_:0},O_=new WeakMap,F_=new WeakMap,W_=new WeakMap,B_=new WeakMap,z_=new WeakMap;class U_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xn(this,O_,Promise.withResolvers()),Xn(this,F_,[]),Xn(this,W_,[]),Xn(this,B_,[]),Xn(this,z_,[]),this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){Qn(z_,this).push(e)}addProgressListener(e){Qn(B_,this).push(e)}addProgressiveReadListener(e){Qn(W_,this).push(e)}addProgressiveDoneListener(e){Qn(F_,this).push(e)}onDataRange(e,t){for(const n of Qn(z_,this))n(e,t)}onDataProgress(e,t){Qn(O_,this).promise.then((()=>{for(const n of Qn(B_,this))n(e,t)}))}onDataProgressiveRead(e){Qn(O_,this).promise.then((()=>{for(const t of Qn(W_,this))t(e)}))}onDataProgressiveDone(){Qn(O_,this).promise.then((()=>{for(const e of Qn(F_,this))e()}))}transportReady(){Qn(O_,this).resolve()}requestDataRange(e,t){Up("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class H_{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qp(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var V_=new WeakMap,G_=new WeakSet;class q_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];np(this,G_),Xn(this,V_,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new wg:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Zx,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new mg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qp(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:i,intent:s="display",annotationMode:a=gp.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const p=this._transport.getRenderingIntent(s,a,h,f),{renderingIntent:g,cacheKey:m}=p;$n(V_,this,!1),c||(c=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=!!(g&cp);var y;v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(y=this._stats)||void 0===y||y.time("Page Request"),this._pumpOperatorList(p));const w=e=>{var t;(v.renderTasks.delete(x),b&&$n(V_,this,!0),Yn(G_,this,K_).call(this),e?(x.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):x.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new yS({callback:w,params:{canvasContext:r,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:d});((n=v).renderTasks||(n.renderTasks=new Set)).add(x);const _=x.task;return Promise.all([v.displayReadyCapability.promise,c]).then((e=>{var t;let[n,r]=e;if(this.destroyed)w();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(r.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:n,optionalContentConfig:r}),x.operatorListChanged()}})).catch(w),_}getOperatorList(){let{intent:e="display",annotationMode:t=gp.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,r,!0);let s,a=this._intentStates.get(i.cacheKey);var o,l;(a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a)),a.opListReadCapability)||(s=Object.create(null),s.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(s))},a.opListReadCapability=Promise.withResolvers(),((o=a).renderTasks||(o.renderTasks=new Set)).add(s),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>L_.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then((function(n){var r;let{value:s,done:a}=n;a?e(i):(null!==(r=i.lang)&&void 0!==r||(i.lang=s.lang),Object.assign(i.styles,s.styles),i.items.push(...s.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),$n(V_,this,!1),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$n(V_,this,!0);const t=Yn(G_,this,K_).call(this);return e&&t&&this._stats&&(this._stats=new wg),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&Yn(G_,this,K_).call(this)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}=e;const{map:s,transfer:a}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())}),(e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();Yn(G_,this,K_).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}}))};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof vg){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new Zp(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function K_(){if(!Qn(V_,this)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(V_,this,!1),!0}var X_=new WeakMap,Y_=new WeakMap,Q_=new WeakMap,$_=new WeakMap,J_=new WeakSet;class Z_{constructor(){let{name:e=null,port:t=null,verbosity:n=Wp()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(np(this,J_),Xn(this,X_,Promise.withResolvers()),Xn(this,Y_,null),Xn(this,Q_,null),Xn(this,$_,null),this.name=e,this.destroyed=!1,this.verbosity=n,t){if(oS._.has(t))throw new Error("Cannot use more than one PDFWorker per port.");oS._.set(t,this),Yn(J_,this,tS).call(this,t)}else Yn(J_,this,nS).call(this)}get promise(){return Qn(X_,this).promise}get port(){return Qn(Q_,this)}get messageHandler(){return Qn(Y_,this)}destroy(){var e,t;this.destroyed=!0,null===(e=Qn($_,this))||void 0===e||e.terminate(),$n($_,this,null),oS._.delete(Qn(Q_,this)),$n(Q_,this,null),null===(t=Qn(Y_,this))||void 0===t||t.destroy(),$n(Y_,this,null)}static create(e){const t=Yn(Z_,this,oS)._.get(null===e||void 0===e?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Z_(e)}static get workerSrc(){if(cx.workerSrc)return cx.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qp(this,"_setupFakeWorkerGlobal",(async()=>{if(rp(Z_,this,iS))return rp(Z_,this,iS);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function eS(){Qn(X_,this).resolve(),Qn(Y_,this).send("configure",{verbosity:this.verbosity})}function tS(e){$n(Q_,this,e),$n(Y_,this,new By("main","worker",e)),Qn(Y_,this).on("ready",(()=>{})),Yn(J_,this,eS).call(this)}function nS(){if(aS._||iS(Vf))return void Yn(J_,this,rS).call(this);let{workerSrc:e}=Vf;try{Vf._isSameOrigin(window.location,e)||(e=Vf._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new By("main","worker",t),r=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?Qn(X_,this).reject(new Error("Worker was destroyed")):Yn(J_,this,rS).call(this)},i=new AbortController;t.addEventListener("error",(()=>{Qn($_,this)||r()}),{signal:i.signal}),n.on("test",(e=>{i.abort(),!this.destroyed&&e?($n(Y_,this,n),$n(Q_,this,t),$n($_,this,t),Yn(J_,this,eS).call(this)):r()})),n.on("ready",(e=>{if(i.abort(),this.destroyed)r();else try{s()}catch(t){Yn(J_,this,rS).call(this)}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch(t){Bp("The worker has been disabled.")}Yn(J_,this,rS).call(this)}function rS(){aS._||(zp("Setting up fake worker."),aS._=!0),Vf._setupFakeWorkerGlobal.then((e=>{var t,n;if(this.destroyed)return void Qn(X_,this).reject(new Error("Worker was destroyed"));const r=new Ay;$n(Q_,this,r);const i="fake".concat((sS._=(t=sS._,n=t++,t),n)),s=new By(i+"_worker",i,r);e.setup(s,r),$n(Y_,this,new By(i,i+"_worker",r)),Yn(J_,this,eS).call(this)})).catch((e=>{Qn(X_,this).reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}function iS(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}Vf=Z_;var sS={_:0},aS={_:!1},oS={_:new WeakMap};ip&&(aS._=Yn(Vf,Vf,!0),cx.workerSrc||(cx.workerSrc="./pdf.worker.mjs")),Vf._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const r=new URL(t,n);return n.origin===r.origin},Vf._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Vf.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Vf.create(e)};var lS=new WeakMap,cS=new WeakMap,uS=new WeakMap,dS=new WeakMap,hS=new WeakMap,fS=new WeakSet;class pS{constructor(e,t,n,r,i){np(this,fS),Xn(this,lS,new Map),Xn(this,cS,new Map),Xn(this,uS,new Map),Xn(this,dS,new Map),Xn(this,hS,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Zx,this.fontLoader=new by({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qp(this,"annotationStorage",new fy)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gp.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=lp,a=ly;switch(e){case"any":s=op;break;case"display":break;case"print":s=cp;break;default:zp("getRenderingIntent - invalid intent: ".concat(e))}const o=s&cp&&n instanceof my?n:this.annotationStorage;switch(t){case gp.DISABLE:s+=hp;break;case gp.ENABLE:break;case gp.ENABLE_FORMS:s+=up;break;case gp.ENABLE_STORAGE:s+=dp,a=o.serializable;break;default:zp("getRenderingIntent - invalid annotationMode: ".concat(t))}r&&(s+=fp),i&&(s+=pp);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:s,cacheKey:[s,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=Qn(hS,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of Qn(cS,this).values())t.push(r._destroy());Qn(cS,this).clear(),Qn(uS,this).clear(),Qn(dS,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),Qn(lS,this).clear(),this.filterFactory.destroy(),w_.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new Zp("Worker was terminated.")),null===(t=this.messageHandler)||void 0===t||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{Hp(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():(Hp(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:r,contentLength:i}=this._fullReader;if(!n||!r){var s;if(this._lastProgress)null===(s=t.onProgress)||void 0===s||s.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:r,contentLength:i}})),e.on("GetRangeReader",((e,t)=>{Hp(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():(Hp(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new H_(n,this))})),e.on("DocException",(e=>{t._capability.reject(Oy(e))})),e.on("PasswordRequest",(e=>{$n(hS,this,Promise.withResolvers());try{if(!t.onPassword)throw Oy(e);const n=e=>{e instanceof Error?Qn(hS,this).reject(e):Qn(hS,this).resolve({password:e})};t.onPassword(n,e.code)}catch(UN){Qn(hS,this).reject(UN)}return Qn(hS,this).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;Qn(cS,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,i,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const e=s.error;zp("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const t=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,a=new yy(s,t);this.fontLoader.bind(a).catch((()=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!a.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(r,a)}));break;case"CopyLocalImage":const{imageRef:o}=s;Hp(o,"The imageRef must be defined.");for(const e of Qn(cS,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===o)return t.dataLen?(this.commonObjs.resolve(r,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error("Got unknown common object type ".concat(i))}return null})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const s=Qn(cS,this).get(n);var a;if(!s.objs.has(t))if(0!==s._intentStates.size)switch(r){case"Image":case"Pattern":s.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(r))}else null===i||void 0===i||null===(a=i.bitmap)||void 0===a||a.close()})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBinaryData",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error("".concat(e.type," not initialized, see the `useWorkerFetch` parameter."));return t.fetch(e)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&zp("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=Qn(uS,this).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&Qn(dS,this).set(n.refStr,e);const r=new q_(t,n,this,this._params.pdfBug);return Qn(cS,this).set(t,r),r}));return Qn(uS,this).set(t,r),r}getPageIndex(e){return xy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return Yn(fS,this,gS).call(this,"GetFieldObjects")}hasJSActions(){return Yn(fS,this,gS).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Yn(fS,this,gS).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Yn(fS,this,gS).call(this,"GetOptionalContentConfig").then((t=>new Ex(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=Qn(lS,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new px(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}}));return Qn(lS,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of Qn(cS,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),Qn(lS,this).clear(),this.filterFactory.destroy(!0),w_.cleanup()}}cachedPageNumber(e){var t;if(!xy(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=Qn(dS,this).get(n))&&void 0!==t?t:null}}function gS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Qn(lS,this).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return Qn(lS,this).set(e,r),r}var mS=new WeakMap;class vS{constructor(e){Xn(this,mS,null),Ie(this,"onContinue",null),Ie(this,"onError",null),$n(mS,this,e)}get promise(){return Qn(mS,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Qn(mS,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=Qn(mS,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=Qn(mS,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var bS=new WeakMap;class yS{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}=e;Xn(this,bS,null),this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new vS(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(wS._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wS._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:l}=this.params;this.gfx=new sx(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:r,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),Qn(bS,this)&&(window.cancelAnimationFrame(Qn(bS,this)),$n(bS,this,null)),wS._.delete(this._canvas),r||(r=new vg("Rendering cancelled, page ".concat(this._pageIndex+1),i)),this.callback(r),null===(t=(n=this.task).onError)||void 0===t||t.call(n,r)}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?$n(bS,this,window.requestAnimationFrame((()=>{$n(bS,this,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wS._.delete(this._canvas),this.callback())))}}var wS={_:new WeakSet};function xS(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function _S(e){return Math.max(0,Math.min(255,255*e))}class SS{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=_S(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=xS(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(_S)}static RGB_HTML(e){return"#".concat(e.map(xS).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[_S(1-Math.min(1,t+i)),_S(1-Math.min(1,r+i)),_S(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,s=1-n,a=1-r;return["CMYK",i,s,a,Math.min(i,s,a)]}}class kS{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Up("Abstract method `_createSVG` called.")}}class AS extends kS{_createSVG(e){return document.createElementNS(fg,e)}}class ES{static setupStorage(e,t,n,r,i){const s=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value){e.setAttribute("value",s.value);for(const e of n.children)e.attributes.value===s.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:s}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(i));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(t,a.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",s=document.createElement(r.name);r.attributes&&this.setAttributes({html:s,element:r,intent:i,linkService:n});const a="richText"!==i,o=e.div;if(o.append(s),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===r.children.length){if(r.value){const e=document.createTextNode(r.value);s.append(e),a&&L_.shouldBuildText(r.name)&&l.push(e)}return{textDivs:l}}const c=[[r,-1,s]];for(;c.length>0;){var u,d;const[e,r,s]=c.at(-1);if(r+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:h}=o;if("#text"===h){const e=document.createTextNode(o.value);l.push(e),s.append(e);continue}const f=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,h):document.createElement(h);if(s.append(f),o.attributes&&this.setAttributes({html:f,element:o,storage:t,intent:i,linkService:n}),(null===(d=o.children)||void 0===d?void 0:d.length)>0)c.push([o,-1,f]);else if(o.value){const e=document.createTextNode(o.value);a&&L_.shouldBuildText(h)&&l.push(e),f.append(e)}}for(const h of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const CS=1e3,MS=new WeakSet;class RS{static create(e){switch(e.data.annotationType){case Ap.LINK:return new OS(e);case Ap.TEXT:return new zS(e);case Ap.WIDGET:switch(e.data.fieldType){case"Tx":return new HS(e);case"Btn":return e.data.radioButton?new qS(e):e.data.checkBox?new GS(e):new KS(e);case"Ch":return new XS(e);case"Sig":return new VS(e)}return new US(e);case Ap.POPUP:return new YS(e);case Ap.FREETEXT:return new Ek(e);case Ap.LINE:return new Mk(e);case Ap.SQUARE:return new Nk(e);case Ap.CIRCLE:return new Pk(e);case Ap.POLYLINE:return new Dk(e);case Ap.CARET:return new Ik(e);case Ap.INK:return new Bk(e);case Ap.POLYGON:return new jk(e);case Ap.HIGHLIGHT:return new Uk(e);case Ap.UNDERLINE:return new Hk(e);case Ap.SQUIGGLY:return new Vk(e);case Ap.STRIKEOUT:return new Gk(e);case Ap.STAMP:return new qk(e);case Ap.FILEATTACHMENT:return new Yk(e);default:return new DS(e)}}}var NS=new WeakMap,TS=new WeakMap,PS=new WeakMap,LS=new WeakSet;class DS{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};np(this,LS),Xn(this,NS,null),Xn(this,TS,!1),Xn(this,PS,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return DS._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;Qn(NS,this)||$n(NS,this,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&Yn(LS,this,jS).call(this,n),null===(t=Qn(PS,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;Qn(NS,this)&&(Yn(LS,this,jS).call(this,Qn(NS,this).rect),null===(e=Qn(PS,this))||void 0===e||e.popup.resetEdited(),$n(NS,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof US||(i.tabIndex=CS);const{style:s}=i;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof YS){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:a,height:o}=this;if(!e&&t.borderStyle.width>0){s.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");s.borderRadius=t}else if(this instanceof qS){const e="calc(".concat(a,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");s.borderRadius=e}switch(t.borderStyle.style){case Ep:s.borderStyle="solid";break;case Cp:s.borderStyle="dashed";break;case Mp:zp("Unimplemented border style: beveled");break;case Rp:zp("Unimplemented border style: inset");break;case Np:s.borderBottomStyle="solid"}const r=t.borderColor||null;r?($n(TS,this,!0),s.borderColor=ig.makeHexColor(0|r[0],0|r[1],0|r[2])):s.borderWidth=0}const l=ig.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:d,pageY:h}=r.rawDims;s.left="".concat(100*(l[0]-d)/c,"%"),s.top="".concat(100*(l[1]-h)/u,"%");const{rotation:f}=t;return t.hasOwnCanvas||0===f?(s.width="".concat(100*a/c,"%"),s.height="".concat(100*o/u,"%")):this.setRotation(f,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:s}=this;e%180!==0&&([i,s]=[s,i]),t.style.width="".concat(100*i/n,"%"),t.style.height="".concat(100*s/r,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],s=r.slice(1);n.target.style[t]=SS["".concat(i,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[t]:SS["".concat(i,"_rgb")](s)})};return qp(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const s=n[r];if(s){s({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[s,a,o,l]=e.subarray(2,6);if(r===s&&i===a&&t===o&&n===l)return}const{style:s}=this.container;let a;if(Qn(TS,this)){const{borderColor:e,borderWidth:t}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),f="clippath_".concat(this.data.id);h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let g=2,m=e.length;g<m;g+=8){var p;const n=e[g],r=e[g+1],s=e[g+2],u=e[g+3],d=c.createElement("rect"),f=(s-t)/o,m=(i-r)/l,v=(n-s)/o,b=(r-u)/l;d.setAttribute("x",f),d.setAttribute("y",m),d.setAttribute("width",v),d.setAttribute("height",b),h.append(d),null===(p=a)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(f,'" y="').concat(m,'" width="').concat(v,'" height="').concat(b,'"/>'))}Qn(TS,this)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){const{data:e}=this,t=$n(PS,this,new YS({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Up("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:i,exportValues:s}of r){if(-1===e)continue;if(i===t)continue;const r="string"===typeof s?s:null,a=document.querySelector('[data-element-id="'.concat(i,'"]'));!a||MS.has(a)?n.push({id:i,exportValue:r,domElement:a}):zp("_getElementsByName - element not allowed: ".concat(i))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(MS.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function jS(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e),t.left="".concat(100*(e[0]-a)/i,"%"),t.top="".concat(100*(s-e[3]+o)/s,"%"),0===r?(t.width="".concat(100*(e[2]-e[0])/i,"%"),t.height="".concat(100*(e[3]-e[1])/s,"%")):this.setRotation(r)}var IS=new WeakSet;class OS extends DS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),np(this,IS),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(Yn(IS,this,WS).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(Yn(IS,this,BS).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&Yn(IS,this,FS).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),Yn(IS,this,FS).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),Yn(IS,this,FS).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),Yn(IS,this,FS).call(this),!this._fieldObjects)return zp('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:r,include:i}=t,s=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const a=this.annotationStorage,o=[];for(const t of s){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(MS.has(n)?n.dispatchEvent(new Event("resetform")):zp("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function FS(){this.container.setAttribute("data-internal-link","")}function WS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},Yn(IS,this,FS).call(this)}function BS(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),Yn(IS,this,FS).call(this)}class zS extends DS{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class US extends DS{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ng.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var s;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))}))}_setEventListeners(e,t,n,r){for(const[o,l]of n){var i,s,a;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,r),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":ig.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,i=e.style;let s;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(ap*r))||1);s=Math.min(r,a(t/ap))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(r,a(e/ap))}i.fontSize="calc(".concat(s,"px * var(--total-scale-factor))"),i.color=ig.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class HS extends US{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),i.setValue(s.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const s=e.getValue(t,{value:this.data.fieldValue});let a=s.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let l=s.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),MS.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=CS,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),c.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=r,c.formattedValue=null}));let u=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",(e=>{var t;if(c.focused)return;const{target:n}=e;c.userValue&&(n.value=c.userValue),c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;c.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:r}=n.detail;c.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let a=c.userValue;!a||a.length<=i||(a=a.slice(0,i),s.value=c.userValue=a,e.setValue(t,{value:a}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;c.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=u;u=null,n.addEventListener("blur",(e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{value:i}=e.target;var s;(c.userValue=i,c.lastCommittedValue!==i)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));r(e)})),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;c.lastCommittedValue=null;const{data:r,target:i}=e,{value:s,selectionStart:a,selectionEnd:o}=i;let l=a,u=o;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(a).match(/^[^\w]*\w*/);e&&(u+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(u+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:r||"",willCommit:!1,selStart:l,selEnd:u}})})),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(u&&n.addEventListener("blur",u),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class VS extends US{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class GS extends US{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return MS.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=CS,i.addEventListener("change",(r=>{const{name:i,checked:s}=r.target;for(const a of this._getElementsByName(i,n)){const n=s&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:s})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class qS extends US{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const i=document.createElement("input");if(MS.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=CS,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const s of this._getElementsByName(r,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class KS extends OS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class XS extends US{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");MS.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=CS;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let s=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),s=()=>{e.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=s)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of r.options)e.selected=c.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,s=n.detail.remove;if(i[s].selected=!1,r.remove(s),i.length>0){-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:i,displayValue:s,exportValue:c}=n.detail.insert,u=r.children[i],d=document.createElement("option");d.textContent=s,d.value=c,u?u.before(d):r.append(d),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=a(!0),s=a(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class YS extends DS{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:DS._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new mk({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(ug).concat(e))).join(",")),this.container}}var QS=new WeakMap,$S=new WeakMap,JS=new WeakMap,ZS=new WeakMap,ek=new WeakMap,tk=new WeakMap,nk=new WeakMap,rk=new WeakMap,ik=new WeakMap,sk=new WeakMap,ak=new WeakMap,ok=new WeakMap,lk=new WeakMap,ck=new WeakMap,uk=new WeakMap,dk=new WeakMap,hk=new WeakMap,fk=new WeakMap,pk=new WeakMap,gk=new WeakSet;class mk{constructor(e){let{container:t,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d}=e;np(this,gk),Xn(this,QS,Yn(gk,this,xk).bind(this)),Xn(this,$S,Yn(gk,this,Ak).bind(this)),Xn(this,JS,Yn(gk,this,kk).bind(this)),Xn(this,ZS,Yn(gk,this,Sk).bind(this)),Xn(this,ek,null),Xn(this,tk,null),Xn(this,nk,null),Xn(this,rk,null),Xn(this,ik,null),Xn(this,sk,null),Xn(this,ak,null),Xn(this,ok,!1),Xn(this,lk,null),Xn(this,ck,null),Xn(this,uk,null),Xn(this,dk,null),Xn(this,hk,null),Xn(this,fk,null),Xn(this,pk,!1),$n(tk,this,t),$n(hk,this,i),$n(nk,this,a),$n(dk,this,o),$n(sk,this,l),$n(ek,this,n),$n(uk,this,c),$n(ak,this,u),$n(ik,this,r),$n(rk,this,kg.toDateObject(s)),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const f of this.trigger)f.addEventListener("click",Qn(ZS,this)),f.addEventListener("mouseenter",Qn(JS,this)),f.addEventListener("mouseleave",Qn($S,this)),f.classList.add("popupTriggerArea");for(const f of r){var h;null===(h=f.container)||void 0===h||h.addEventListener("keydown",Qn(QS,this))}Qn(tk,this).hidden=!0,d&&Yn(gk,this,Sk).call(this)}render(){if(Qn(lk,this))return;const e=$n(lk,this,document.createElement("div"));if(e.className="popup",Qn(ek,this)){const t=e.style.outlineColor=ig.makeHexColor(...Qn(ek,this));e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=Qn(hk,this)),e.append(t),Qn(rk,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:Qn(rk,this).valueOf()})),t.append(e)}const r=rp(gk,this,vk);if(r)ES.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(Qn(nk,this));e.append(t)}Qn(tk,this).append(e)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const e=i[s];r.append(document.createTextNode(e)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited(e){var t;let{rect:n,popupContent:r}=e;Qn(fk,this)||$n(fk,this,{contentsObj:Qn(nk,this),richText:Qn(dk,this)}),n&&$n(ck,this,null),r&&($n(dk,this,Yn(gk,this,wk).call(this,r)),$n(nk,this,null)),null===(t=Qn(lk,this))||void 0===t||t.remove(),$n(lk,this,null)}resetEdited(){var e;Qn(fk,this)&&(({contentsObj:tp($n,[nk,this])._,richText:tp($n,[dk,this])._}=Qn(fk,this)),$n(fk,this,null),null===(e=Qn(lk,this))||void 0===e||e.remove(),$n(lk,this,null),$n(ck,this,null))}forceHide(){$n(pk,this,this.isVisible),Qn(pk,this)&&(Qn(tk,this).hidden=!0)}maybeShow(){Qn(pk,this)&&(Qn(lk,this)||Yn(gk,this,kk).call(this),$n(pk,this,!1),Qn(tk,this).hidden=!1)}get isVisible(){return!1===Qn(tk,this).hidden}}function vk(e){const t=Qn(dk,e),n=Qn(nk,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:Qn(dk,e).html||null}function bk(e){var t;return(null===(t=rp(gk,e,vk))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function yk(e){var t;return(null===(t=rp(gk,e,vk))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function wk(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:rp(gk,this,yk),fontSize:rp(gk,this,bk)?"calc(".concat(rp(gk,this,bk),"px * var(--total-scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:r});return n}function xk(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&Qn(ok,this))&&Yn(gk,this,Sk).call(this)}function _k(){if(null!==Qn(ck,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:i}}}=Qn(sk,this);let s=!!Qn(ak,this),a=Qn(s?ak:uk,this);for(const h of Qn(ik,this))if(!a||null!==ig.intersect(h.data.rect,a)){a=h.data.rect,s=!0;break}const o=ig.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=s?a[2]-a[0]+5:0,c=o[0]+l,u=o[1];$n(ck,this,[100*(c-r)/t,100*(u-i)/n]);const{style:d}=Qn(tk,this);d.left="".concat(Qn(ck,this)[0],"%"),d.top="".concat(Qn(ck,this)[1],"%")}function Sk(){$n(ok,this,!Qn(ok,this)),Qn(ok,this)?(Yn(gk,this,kk).call(this),Qn(tk,this).addEventListener("click",Qn(ZS,this)),Qn(tk,this).addEventListener("keydown",Qn(QS,this))):(Yn(gk,this,Ak).call(this),Qn(tk,this).removeEventListener("click",Qn(ZS,this)),Qn(tk,this).removeEventListener("keydown",Qn(QS,this)))}function kk(){Qn(lk,this)||this.render(),this.isVisible?Qn(ok,this)&&Qn(tk,this).classList.add("focused"):(Yn(gk,this,_k).call(this),Qn(tk,this).hidden=!1,Qn(tk,this).style.zIndex=parseInt(Qn(tk,this).style.zIndex)+1e3)}function Ak(){Qn(tk,this).classList.remove("focused"),!Qn(ok,this)&&this.isVisible&&(Qn(tk,this).hidden=!0,Qn(tk,this).style.zIndex=parseInt(Qn(tk,this).style.zIndex)-1e3)}class Ek extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=mp.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ck=new WeakMap;class Mk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Xn(this,Ck,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),i=$n(Ck,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qn(Ck,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Rk=new WeakMap;class Nk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Xn(this,Rk,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=$n(Rk,this,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",t-i),s.setAttribute("height",n-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qn(Rk,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Tk=new WeakMap;class Pk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Xn(this,Tk,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=$n(Tk,this,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-i/2),s.setAttribute("ry",n/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qn(Tk,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Lk=new WeakMap;class Dk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Xn(this,Lk,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r},width:i,height:s}=this;if(!t)return this.container;const a=this.svgFactory.create(i,s,!0);let o=[];for(let c=0,u=t.length;c<u;c+=2){const n=t[c]-e[0],r=e[3]-t[c+1];o.push("".concat(n,",").concat(r))}o=o.join(" ");const l=$n(Lk,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qn(Lk,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class jk extends Dk{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ik extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ok=new WeakMap,Fk=new WeakMap,Wk=new WeakSet;class Bk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),np(this,Wk),Xn(this,Ok,null),Xn(this,Fk,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?mp.HIGHLIGHT:mp.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:r,popupRef:i}}=this,{transform:s,width:a,height:o}=Yn(Wk,this,zk).call(this,t,e),l=this.svgFactory.create(a,o,!0),c=$n(Ok,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",s);for(let u=0,d=n.length;u<d;u++){const e=this.svgFactory.createElement(this.svgElementName);Qn(Fk,this).push(e),e.setAttribute("points",n[u].join(",")),c.append(e)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:r}=e,i=Qn(Ok,this);if(t>=0&&i.setAttribute("stroke-width",t||1),n)for(let s=0,a=Qn(Fk,this).length;s<a;s++)Qn(Fk,this)[s].setAttribute("points",n[s].join(","));if(r){const{transform:e,width:t,height:n}=Yn(Wk,this,zk).call(this,this.data.rotation,r);i.parentElement.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),i.setAttribute("transform",e)}}getElementsToTriggerPopup(){return Qn(Fk,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function zk(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}class Uk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=mp.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Hk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Vk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Gk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class qk extends DS{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=mp.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Kk=new WeakMap,Xk=new WeakSet;class Yk extends DS{constructor(e){var t;super(e,{isRenderable:!0}),np(this,Xk),Xn(this,Kk,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",Fe({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",Yn(Xk,this,Qk).bind(this)),$n(Kk,this,n);const{isMac:r}=ng.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&Yn(Xk,this,Qk).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return Qn(Kk,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Qk(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var $k=new WeakMap,Jk=new WeakMap,Zk=new WeakMap,eA=new WeakMap,tA=new WeakSet;class nA{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}=e;np(this,tA),Xn(this,$k,null),Xn(this,Jk,null),Xn(this,Zk,new Map),Xn(this,eA,null),this.div=t,$n($k,this,n),$n(Jk,this,r),$n(eA,this,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return Qn(Zk,this).size>0}async render(e){const{annotations:t}=e,n=this.div;Rg(n,this.viewport);const r=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new AS,annotationStorage:e.annotationStorage||new fy,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const e=a.annotationType===Ap.POPUP;if(e){const e=r.get(a.id);if(!e)continue;i.elements=e}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;i.data=a;const t=RS.create(i);if(!t.isRenderable)continue;if(!e&&a.popupRef){const e=r.get(a.popupRef);e?e.push(t):r.set(a.popupRef,[t])}const n=t.render();var s;if(a.hidden&&(n.style.visibility="hidden"),await Yn(tA,this,rA).call(this,n,a.id),t._isEditable)Qn(Zk,this).set(t.data.id,t),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(t)}Yn(tA,this,iA).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new AS,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=nA._defaultBorderStyle),n.data=r;const e=RS.create(n);if(!e.isRenderable)continue;const t=e.render();await Yn(tA,this,rA).call(this,t,r.id)}}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,Rg(n,{rotation:t.rotation}),Yn(tA,this,iA).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(Qn(Zk,this).values())}getEditableAnnotation(e){return Qn(Zk,this).get(e)}static get _defaultBorderStyle(){return qp(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ep,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function rA(e,t){var n,r;const i=e.firstChild||e,s=i.id="".concat(ug).concat(t),a=await(null===(n=Qn(eA,this))||void 0===n?void 0:n.getAriaAttributes(s));if(a)for(const[o,l]of a)i.setAttribute(o,l);this.div.append(e),null===(r=Qn($k,this))||void 0===r||r.moveElementInDOM(this.div,e,i,!1)}function iA(){if(!Qn(Jk,this))return;const e=this.div;for(const[n,r]of Qn(Jk,this)){const i=e.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=Qn(Zk,this).get(n);var t;if(a)if(a._hasNoCanvas)null===(t=this._annotationEditorUIManager)||void 0===t||t.setMissingCanvas(n,i.id,r),a._hasNoCanvas=!1;else a.canvas=r}Qn(Jk,this).clear()}const sA=/\r\n?|\n/g;var aA=new WeakMap,oA=new WeakMap,lA=new WeakMap,cA=new WeakMap,uA=new WeakMap,dA=new WeakSet;class hA extends Ob{static get _keyboardManager(){const e=hA.prototype,t=e=>e.isEmpty(),n=uv.TRANSLATE_SMALL,r=uv.TRANSLATE_BIG;return qp(this,"_keyboardManager",new mm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super(Fe(Fe({},e),{},{name:"freeTextEditor"})),np(this,dA),Xn(this,aA,void 0),Xn(this,oA,""),Xn(this,lA,"".concat(this.id,"-editor")),Xn(this,cA,null),Xn(this,uA,void 0),$n(aA,this,e.color||hA._defaultColor||Ob._defaultLineColor),$n(uA,this,e.fontSize||hA._defaultFontSize)}static initialize(e,t){Ob.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case vp.FREETEXT_SIZE:hA._defaultFontSize=t;break;case vp.FREETEXT_COLOR:hA._defaultColor=t}}updateParams(e,t){switch(e){case vp.FREETEXT_SIZE:Yn(dA,this,fA).call(this,t);break;case vp.FREETEXT_COLOR:Yn(dA,this,pA).call(this,t)}}static get defaultPropertiesToUpdate(){return[[vp.FREETEXT_SIZE,hA._defaultFontSize],[vp.FREETEXT_COLOR,hA._defaultColor||Ob._defaultLineColor]]}get propertiesToUpdate(){return[[vp.FREETEXT_SIZE,Qn(uA,this)],[vp.FREETEXT_COLOR,Qn(aA,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-hA._internalPadding*e,-(hA._internalPadding+Qn(uA,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),$n(cA,this,new AbortController);const e=this._uiManager.combinedSignal(Qn(cA,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Qn(lA,this)),this._isDraggable=!0,null===(e=Qn(cA,this))||void 0===e||e.abort(),$n(cA,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=Qn(oA,this),t=$n(oA,this,Yn(dA,this,gA).call(this).trimEnd());if(e===t)return;const n=e=>{$n(oA,this,e),e?(Yn(dA,this,bA).call(this),this._uiManager.rebuild(this),Yn(dA,this,mA).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),Yn(dA,this,mA).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){hA._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Qn(lA,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(Qn(uA,this),"px * var(--total-scale-factor))"),n.color=Qn(aA,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=e+(i[0]-c)/o,h=t+this.height-(i[1]-u)/l;break;case 90:d=e+(i[0]-c)/o,h=t-(i[1]-u)/l,[s,a]=[a,-s];break;case 180:d=e-this.width+(i[0]-c)/o,h=t-(i[1]-u)/l,[s,a]=[-s,-a];break;case 270:d=e+(i[0]-c-this.height*l)/o,h=t+(i[1]-u-this.width*o)/l,[s,a]=[-a,s]}this.setAt(d*n,h*r,s,a)}else this._moveAfterPaste(e,t);Yn(dA,this,bA).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=wA.call(hA,t.getData("text")||"").replaceAll(sA,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const s=i.getRangeAt(0);if(!r.includes("\n"))return s.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:o}=s,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(sA,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(vA.call(hA,n)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(sA,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(vA.call(hA,n))}$n(oA,this,"".concat(l.join("\n")).concat(r).concat(c.join("\n"))),Yn(dA,this,bA).call(this);const u=new Range;let d=Math.sumPrecise(l.map((e=>e.length)));for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(d<=e){u.setStart(h,d),u.setEnd(h,d);break}d-=e}i.removeAllRanges(),i.addRange(u)}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let r=null;if(e instanceof Ek){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:s,id:a,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=e;if(!l||0===l.length)return null;r=e={annotationType:mp.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:u-1,rect:i.slice(0),rotation:s,id:a,deleted:!1,popupRef:o}}const i=await super.deserialize(e,t,n);return $n(uA,i,e.fontSize),$n(aA,i,ig.makeHexColor(...e.color)),$n(oA,i,wA.call(hA,e.value)),i.annotationElementId=e.id||null,i._initialData=r,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=hA._internalPadding*this.parentScale,n=this.getRect(t,t),r=Ob._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Qn(aA,this)),i={annotationType:mp.FREETEXT,color:r,fontSize:Qn(uA,this),value:Yn(dA,this,yA).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(i.isCopy=!0,i):this.annotationElementId&&!Yn(dA,this,xA).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat(Qn(uA,this),"px * var(--total-scale-factor))"),n.color=Qn(aA,this),t.replaceChildren();for(const i of Qn(oA,this).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const r=hA._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:Qn(oA,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function fA(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--total-scale-factor))"),this.translate(0,-(e-Qn(uA,this))*this.parentScale),$n(uA,this,e),Yn(dA,this,mA).call(this)},n=Qn(uA,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vp.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function pA(e){const t=e=>{$n(aA,this,this.editorDiv.style.color=e)},n=Qn(aA,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vp.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function gA(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===r.nodeName||(e.push(vA.call(Gf,r)),t=r)}return e.join("\n")}function mA(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function vA(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(sA,"")}function bA(){if(this.editorDiv.replaceChildren(),Qn(oA,this))for(const e of Qn(oA,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function yA(){return Qn(oA,this).replaceAll("\xa0"," ")}function wA(e){return e.replaceAll(" ","\xa0")}function xA(e){const{value:t,fontSize:n,color:r,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==i}Gf=hA,Ie(hA,"_freeTextDefaultContent",""),Ie(hA,"_internalPadding",0),Ie(hA,"_defaultColor",null),Ie(hA,"_defaultFontSize",10),Ie(hA,"_type","freetext"),Ie(hA,"_editorType",mp.FREETEXT);class _A{toSVGPath(){Up("Abstract method `toSVGPath` must be implemented.")}get box(){Up("Abstract getter `box` must be implemented.")}serialize(e,t){Up("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,i,s){s||(s=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a]*r,s[a+1]=n+e[a+1]*i;return s}static _rescaleAndSwap(e,t,n,r,i,s){s||(s=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a+1]*r,s[a+1]=n+e[a]*i;return s}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let i=0,s=e.length;i<s;i+=2)r[i]=t+e[i],r[i+1]=n+e[i+1];return r}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,r,i){switch(i){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,i,s){return[(e+5*n)/6,(t+5*r)/6,(5*n+i)/6,(5*r+s)/6,(n+i)/2,(r+s)/2]}}Ie(_A,"PRECISION",1e-4);var SA=new WeakMap,kA=new WeakMap,AA=new WeakMap,EA=new WeakMap,CA=new WeakMap,MA=new WeakMap,RA=new WeakMap,NA=new WeakMap,TA=new WeakMap,PA=new WeakMap,LA=new WeakMap,DA=new WeakMap,jA=new WeakMap,IA=new WeakSet;class OA{constructor(e,t,n,r,i){let{x:s,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;np(this,IA),Xn(this,SA,void 0),Xn(this,kA,[]),Xn(this,AA,void 0),Xn(this,EA,void 0),Xn(this,CA,[]),Xn(this,MA,new Float32Array(18)),Xn(this,RA,void 0),Xn(this,NA,void 0),Xn(this,TA,void 0),Xn(this,PA,void 0),Xn(this,LA,void 0),Xn(this,DA,void 0),Xn(this,jA,[]),$n(SA,this,t),$n(DA,this,r*n),$n(EA,this,i),Qn(MA,this).set([NaN,NaN,NaN,NaN,s,a],6),$n(AA,this,o),$n(PA,this,GA._*n),$n(TA,this,qA._*n),$n(LA,this,n),Qn(jA,this).push(s,a)}isEmpty(){return isNaN(Qn(MA,this)[8])}add(e){var t;let{x:n,y:r}=e;$n(RA,this,n),$n(NA,this,r);const[i,s,a,o]=Qn(SA,this);let[l,c,u,d]=Qn(MA,this).subarray(8,12);const h=n-u,f=r-d,p=Math.hypot(h,f);if(p<Qn(TA,this))return!1;const g=p-Qn(PA,this),m=g/p,v=m*h,b=m*f;let y=l,w=c;l=u,c=d,u+=v,d+=b,null===(t=Qn(jA,this))||void 0===t||t.push(n,r);const x=v/g,_=-b/g*Qn(DA,this),S=x*Qn(DA,this);if(Qn(MA,this).set(Qn(MA,this).subarray(2,8),0),Qn(MA,this).set([u+_,d+S],4),Qn(MA,this).set(Qn(MA,this).subarray(14,18),12),Qn(MA,this).set([u-_,d-S],16),isNaN(Qn(MA,this)[6]))return 0===Qn(CA,this).length&&(Qn(MA,this).set([l+_,c+S],2),Qn(CA,this).push(NaN,NaN,NaN,NaN,(l+_-i)/a,(c+S-s)/o),Qn(MA,this).set([l-_,c-S],14),Qn(kA,this).push(NaN,NaN,NaN,NaN,(l-_-i)/a,(c-S-s)/o)),Qn(MA,this).set([y,w,l,c,u,d],6),!this.isEmpty();Qn(MA,this).set([y,w,l,c,u,d],6);return Math.abs(Math.atan2(w-c,y-l)-Math.atan2(b,v))<Math.PI/2?([l,c,u,d]=Qn(MA,this).subarray(2,6),Qn(CA,this).push(NaN,NaN,NaN,NaN,((l+u)/2-i)/a,((c+d)/2-s)/o),[l,c,y,w]=Qn(MA,this).subarray(14,18),Qn(kA,this).push(NaN,NaN,NaN,NaN,((y+l)/2-i)/a,((w+c)/2-s)/o),!0):([y,w,l,c,u,d]=Qn(MA,this).subarray(0,6),Qn(CA,this).push(((y+5*l)/6-i)/a,((w+5*c)/6-s)/o,((5*l+u)/6-i)/a,((5*c+d)/6-s)/o,((l+u)/2-i)/a,((c+d)/2-s)/o),[u,d,l,c,y,w]=Qn(MA,this).subarray(12,18),Qn(kA,this).push(((y+5*l)/6-i)/a,((w+5*c)/6-s)/o,((5*l+u)/6-i)/a,((5*c+d)/6-s)/o,((l+u)/2-i)/a,((c+d)/2-s)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=Qn(CA,this),t=Qn(kA,this);if(isNaN(Qn(MA,this)[6])&&!this.isEmpty())return Yn(IA,this,WA).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push("L".concat(e[r+4]," ").concat(e[r+5])):n.push("C".concat(e[r]," ").concat(e[r+1]," ").concat(e[r+2]," ").concat(e[r+3]," ").concat(e[r+4]," ").concat(e[r+5]));Yn(IA,this,zA).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push("L".concat(t[r+4]," ").concat(t[r+5])):n.push("C".concat(t[r]," ").concat(t[r+1]," ").concat(t[r+2]," ").concat(t[r+3]," ").concat(t[r+4]," ").concat(t[r+5]));return Yn(IA,this,BA).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,i,s){return new tE(e,t,n,r,i,s)}getOutlines(){var e,t;const n=Qn(CA,this),r=Qn(kA,this),i=Qn(MA,this),[s,a,o,l]=Qn(SA,this),c=new Float32Array((null!==(e=null===(t=Qn(jA,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let h=0,f=c.length-2;h<f;h+=2)c[h]=(Qn(jA,this)[h]-s)/o,c[h+1]=(Qn(jA,this)[h+1]-a)/l;if(c[c.length-2]=(Qn(RA,this)-s)/o,c[c.length-1]=(Qn(NA,this)-a)/l,isNaN(i[6])&&!this.isEmpty())return Yn(IA,this,UA).call(this,c);const u=new Float32Array(Qn(CA,this).length+24+Qn(kA,this).length);let d=n.length;for(let h=0;h<d;h+=2)isNaN(n[h])?u[h]=u[h+1]=NaN:(u[h]=n[h],u[h+1]=n[h+1]);d=Yn(IA,this,VA).call(this,u,d);for(let h=r.length-6;h>=6;h-=6)for(let e=0;e<6;e+=2)isNaN(r[h+e])?(u[d]=u[d+1]=NaN,d+=2):(u[d]=r[h+e],u[d+1]=r[h+e+1],d+=2);return Yn(IA,this,HA).call(this,u,d),this.newFreeDrawOutline(u,c,Qn(SA,this),Qn(LA,this),Qn(AA,this),Qn(EA,this))}}function FA(){const e=Qn(MA,this).subarray(4,6),t=Qn(MA,this).subarray(16,18),[n,r,i,s]=Qn(SA,this);return[(Qn(RA,this)+(e[0]-t[0])/2-n)/i,(Qn(NA,this)+(e[1]-t[1])/2-r)/s,(Qn(RA,this)+(t[0]-e[0])/2-n)/i,(Qn(NA,this)+(t[1]-e[1])/2-r)/s]}function WA(){const[e,t,n,r]=Qn(SA,this),[i,s,a,o]=Yn(IA,this,FA).call(this);return"M".concat((Qn(MA,this)[2]-e)/n," ").concat((Qn(MA,this)[3]-t)/r," L").concat((Qn(MA,this)[4]-e)/n," ").concat((Qn(MA,this)[5]-t)/r," L").concat(i," ").concat(s," L").concat(a," ").concat(o," L").concat((Qn(MA,this)[16]-e)/n," ").concat((Qn(MA,this)[17]-t)/r," L").concat((Qn(MA,this)[14]-e)/n," ").concat((Qn(MA,this)[15]-t)/r," Z")}function BA(e){const t=Qn(kA,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function zA(e){const[t,n,r,i]=Qn(SA,this),s=Qn(MA,this).subarray(4,6),a=Qn(MA,this).subarray(16,18),[o,l,c,u]=Yn(IA,this,FA).call(this);e.push("L".concat((s[0]-t)/r," ").concat((s[1]-n)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((a[0]-t)/r," ").concat((a[1]-n)/i))}function UA(e){const t=Qn(MA,this),[n,r,i,s]=Qn(SA,this),[a,o,l,c]=Yn(IA,this,FA).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-r)/s,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-r)/s,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-r)/s,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-r)/s],0),this.newFreeDrawOutline(u,e,Qn(SA,this),Qn(LA,this),Qn(AA,this),Qn(EA,this))}function HA(e,t){const n=Qn(kA,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function VA(e,t){const n=Qn(MA,this).subarray(4,6),r=Qn(MA,this).subarray(16,18),[i,s,a,o]=Qn(SA,this),[l,c,u,d]=Yn(IA,this,FA).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/a,(n[1]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-s)/o],t),t+24}var GA={_:8},qA={_:GA._+2},KA=new WeakMap,XA=new WeakMap,YA=new WeakMap,QA=new WeakMap,$A=new WeakMap,JA=new WeakMap,ZA=new WeakMap,eE=new WeakSet;class tE extends _A{constructor(e,t,n,r,i,s){super(),np(this,eE),Xn(this,KA,void 0),Xn(this,XA,new Float32Array(4)),Xn(this,YA,void 0),Xn(this,QA,void 0),Xn(this,$A,void 0),Xn(this,JA,void 0),Xn(this,ZA,void 0),$n(ZA,this,e),$n($A,this,t),$n(KA,this,n),$n(JA,this,r),$n(YA,this,i),$n(QA,this,s),this.lastPoint=[NaN,NaN],Yn(eE,this,nE).call(this,s);const[a,o,l,c]=Qn(XA,this);for(let u=0,d=e.length;u<d;u+=2)e[u]=(e[u]-a)/l,e[u+1]=(e[u+1]-o)/c;for(let u=0,d=t.length;u<d;u+=2)t[u]=(t[u]-a)/l,t[u+1]=(t[u+1]-o)/c}toSVGPath(){const e=["M".concat(Qn(ZA,this)[4]," ").concat(Qn(ZA,this)[5])];for(let t=6,n=Qn(ZA,this).length;t<n;t+=6)isNaN(Qn(ZA,this)[t])?e.push("L".concat(Qn(ZA,this)[t+4]," ").concat(Qn(ZA,this)[t+5])):e.push("C".concat(Qn(ZA,this)[t]," ").concat(Qn(ZA,this)[t+1]," ").concat(Qn(ZA,this)[t+2]," ").concat(Qn(ZA,this)[t+3]," ").concat(Qn(ZA,this)[t+4]," ").concat(Qn(ZA,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,i,s]=e;const a=i-n,o=s-r;let l,c;switch(t){case 0:l=_A._rescale(Qn(ZA,this),n,s,a,-o),c=_A._rescale(Qn($A,this),n,s,a,-o);break;case 90:l=_A._rescaleAndSwap(Qn(ZA,this),n,r,a,o),c=_A._rescaleAndSwap(Qn($A,this),n,r,a,o);break;case 180:l=_A._rescale(Qn(ZA,this),i,r,-a,o),c=_A._rescale(Qn($A,this),i,r,-a,o);break;case 270:l=_A._rescaleAndSwap(Qn(ZA,this),i,s,-a,-o),c=_A._rescaleAndSwap(Qn($A,this),i,s,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return Qn(XA,this)}newOutliner(e,t,n,r,i){return new OA(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const[n,r,i,s]=Qn(XA,this),[a,o,l,c]=Qn(KA,this),u=i*l,d=s*c,h=n*l+a,f=r*c+o,p=this.newOutliner({x:Qn($A,this)[0]*u+h,y:Qn($A,this)[1]*d+f},Qn(KA,this),Qn(JA,this),e,Qn(QA,this),null!==t&&void 0!==t?t:Qn(YA,this));for(let g=2;g<Qn($A,this).length;g+=2)p.add({x:Qn($A,this)[g]*u+h,y:Qn($A,this)[g+1]*d+f});return p.getOutlines()}}function nE(e){const t=Qn(ZA,this);let n=t[4],r=t[5];const i=[n,r,n,r];let s=n,a=r;const o=e?Math.max:Math.min;for(let c=6,u=t.length;c<u;c+=6){const e=t[c+4],l=t[c+5];if(isNaN(t[c]))ig.pointBoundingBox(e,l,i),a<l?(s=e,a=l):a===l&&(s=o(s,e));else{const e=[1/0,1/0,-1/0,-1/0];ig.bezierBoundingBox(n,r,...t.slice(c,c+6),e),ig.rectBoundingBox(...e,i),a<e[3]?(s=e[2],a=e[3]):a===e[3]&&(s=o(s,e[2]))}n=e,r=l}const l=Qn(XA,this);l[0]=i[0]-Qn(YA,this),l[1]=i[1]-Qn(YA,this),l[2]=i[2]-i[0]+2*Qn(YA,this),l[3]=i[3]-i[1]+2*Qn(YA,this),this.lastPoint=[s,a]}var rE=new WeakMap,iE=new WeakMap,sE=new WeakMap,aE=new WeakMap,oE=new WeakSet;class lE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];np(this,oE),Xn(this,rE,void 0),Xn(this,iE,void 0),Xn(this,sE,[]),Xn(this,aE,[]);const i=[1/0,1/0,-1/0,-1/0],s=1e-4;for(const{x:h,y:f,width:p,height:g}of e){const e=Math.floor((h-t)/s)*s,n=Math.ceil((h+p+t)/s)*s,r=Math.floor((f-t)/s)*s,a=Math.ceil((f+g+t)/s)*s,o=[e,r,a,!0],l=[n,r,a,!1];Qn(sE,this).push(o,l),ig.rectBoundingBox(e,r,n,a,i)}const a=i[2]-i[0]+2*n,o=i[3]-i[1]+2*n,l=i[0]-n,c=i[1]-n,u=Qn(sE,this).at(r?-1:-2),d=[u[0],u[2]];for(const h of Qn(sE,this)){const[e,t,n]=h;h[0]=(e-l)/a,h[1]=(t-c)/o,h[2]=(n-c)/o}$n(rE,this,new Float32Array([l,c,a,o])),$n(iE,this,d)}getOutlines(){Qn(sE,this).sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of Qn(sE,this))t[3]?(e.push(...Yn(oE,this,fE).call(this,t)),Yn(oE,this,dE).call(this,t)):(Yn(oE,this,hE).call(this,t),e.push(...Yn(oE,this,fE).call(this,t)));return Yn(oE,this,cE).call(this,e)}}function cE(e){const t=[],n=new Set;for(const s of e){const[e,n,r]=s;t.push([e,n,s],[e,r,s])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let s=0,a=t.length;s<a;s+=2){const e=t[s][2],r=t[s+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,s,a,o,l]=e;n.delete(e);let c=t,u=s;for(i=[t,a],r.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,s,a,o,l]=e,c!==t&&(i.push(c,u,t,u===s?s:a),c=t),u=u===s?a:s}i.push(c,u)}return new mE(r,Qn(rE,this),Qn(iE,this))}function uE(e){const t=Qn(aE,this);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,s=t[i][0];if(s===e)return i;s<e?n=i+1:r=i-1}return r+1}function dE(e){let[,t,n]=e;const r=Yn(oE,this,uE).call(this,t);Qn(aE,this).splice(r,0,[t,n])}function hE(e){let[,t,n]=e;const r=Yn(oE,this,uE).call(this,t);for(let i=r;i<Qn(aE,this).length;i++){const[e,r]=Qn(aE,this)[i];if(e!==t)break;if(e===t&&r===n)return void Qn(aE,this).splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=Qn(aE,this)[i];if(e!==t)break;if(e===t&&r===n)return void Qn(aE,this).splice(i,1)}}function fE(e){const[t,n,r]=e,i=[[t,n,r]],s=Yn(oE,this,uE).call(this,r);for(let a=0;a<s;a++){const[e,n]=Qn(aE,this)[a];for(let r=0,s=i.length;r<s;r++){const[,a,o]=i[r];if(!(n<=a||o<=e))if(a>=e)if(o>n)i[r][1]=n;else{if(1===s)return[];i.splice(r,1),r--,s--}else i[r][2]=e,o>n&&i.push([t,n,o])}}return i}var pE=new WeakMap,gE=new WeakMap;class mE extends _A{constructor(e,t,n){super(),Xn(this,pE,void 0),Xn(this,gE,void 0),$n(gE,this,e),$n(pE,this,t),this.lastPoint=n}toSVGPath(){const e=[];for(const t of Qn(gE,this)){let[n,r]=t;e.push("M".concat(n," ").concat(r));for(let i=2;i<t.length;i+=2){const s=t[i],a=t[i+1];s===n?(e.push("V".concat(a)),r=a):a===r&&(e.push("H".concat(s)),n=s)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,i,s]=e;const a=[],o=i-n,l=s-r;for(const c of Qn(gE,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=s-c[t+1]*l;a.push(e)}return a}get box(){return Qn(pE,this)}get classNamesForOutlining(){return["highlightOutline"]}}class vE extends OA{newFreeDrawOutline(e,t,n,r,i,s){return new bE(e,t,n,r,i,s)}}class bE extends tE{newOutliner(e,t,n,r,i){return new vE(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var yE=new WeakMap,wE=new WeakMap,xE=new WeakMap,_E=new WeakMap,SE=new WeakMap,kE=new WeakMap,AE=new WeakMap,EE=new WeakMap,CE=new WeakMap,ME=new WeakMap,RE=new WeakMap,NE=new WeakSet;class TE{static get _keyboardManager(){return qp(this,"_keyboardManager",new mm([[["Escape","mac+Escape"],TE.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],TE.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],TE.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],TE.prototype._moveToPrevious],[["Home","mac+Home"],TE.prototype._moveToBeginning],[["End","mac+End"],TE.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:r=null}=e;np(this,NE),Xn(this,yE,null),Xn(this,wE,null),Xn(this,xE,void 0),Xn(this,_E,null),Xn(this,SE,!1),Xn(this,kE,!1),Xn(this,AE,null),Xn(this,EE,void 0),Xn(this,CE,null),Xn(this,ME,null),Xn(this,RE,void 0),n?($n(kE,this,!1),$n(RE,this,vp.HIGHLIGHT_COLOR),$n(AE,this,n)):($n(kE,this,!0),$n(RE,this,vp.HIGHLIGHT_DEFAULT_COLOR)),$n(ME,this,(null===n||void 0===n?void 0:n._uiManager)||r),$n(EE,this,Qn(ME,this)._eventBus),$n(xE,this,(null===n||void 0===n?void 0:n.color)||(null===(t=Qn(ME,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98"),FE._||(FE._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=$n(yE,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=Qn(ME,this)._signal;e.addEventListener("click",Yn(NE,this,jE).bind(this),{signal:t}),e.addEventListener("keydown",Yn(NE,this,DE).bind(this),{signal:t});const n=$n(wE,this,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=Qn(xE,this),e.append(n),e}renderMainDropdown(){const e=$n(_E,this,Yn(NE,this,PE).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===Qn(yE,this))return void Yn(NE,this,jE).call(this,e);const t=e.target.getAttribute("data-color");t&&Yn(NE,this,LE).call(this,t,e)}_moveToNext(e){var t,n;rp(NE,this,OE)?e.target!==Qn(yE,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=Qn(_E,this).firstChild)||void 0===n||n.focus():Yn(NE,this,jE).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=Qn(_E,this))||void 0===t?void 0:t.firstChild)&&e.target!==Qn(yE,this)?(rp(NE,this,OE)||Yn(NE,this,jE).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):rp(NE,this,OE)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;rp(NE,this,OE)?null===(t=Qn(_E,this).firstChild)||void 0===t||t.focus():Yn(NE,this,jE).call(this,e)}_moveToEnd(e){var t;rp(NE,this,OE)?null===(t=Qn(_E,this).lastChild)||void 0===t||t.focus():Yn(NE,this,jE).call(this,e)}hideDropdown(){var e,t;null===(e=Qn(_E,this))||void 0===e||e.classList.add("hidden"),null===(t=Qn(CE,this))||void 0===t||t.abort(),$n(CE,this,null)}_hideDropdownFromKeyboard(){var e;Qn(kE,this)||(rp(NE,this,OE)?(this.hideDropdown(),Qn(yE,this).focus({preventScroll:!0,focusVisible:Qn(SE,this)})):null===(e=Qn(AE,this))||void 0===e||e.unselect())}updateColor(e){if(Qn(wE,this)&&(Qn(wE,this).style.backgroundColor=e),!Qn(_E,this))return;const t=Qn(ME,this).highlightColors.values();for(const n of Qn(_E,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=Qn(yE,this))||void 0===e||e.remove(),$n(yE,this,null),$n(wE,this,null),null===(t=Qn(_E,this))||void 0===t||t.remove(),$n(_E,this,null)}}function PE(){const e=document.createElement("div"),t=Qn(ME,this)._signal;e.addEventListener("contextmenu",_g,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of Qn(ME,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",FE._[n]);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===Qn(xE,this)),i.addEventListener("click",Yn(NE,this,LE).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",Yn(NE,this,DE).bind(this),{signal:t}),e}function LE(e,t){t.stopPropagation(),Qn(EE,this).dispatch("switchannotationeditorparams",{source:this,type:Qn(RE,this),value:e})}function DE(e){qf._keyboardManager.exec(this,e)}function jE(e){if(rp(NE,this,OE))return void this.hideDropdown();if($n(SE,this,0===e.detail),Qn(CE,this)||($n(CE,this,new AbortController),window.addEventListener("pointerdown",Yn(NE,this,IE).bind(this),{signal:Qn(ME,this).combinedSignal(Qn(CE,this))})),Qn(_E,this))return void Qn(_E,this).classList.remove("hidden");const t=$n(_E,this,Yn(NE,this,PE).call(this));Qn(yE,this).append(t)}function IE(e){var t;null!==(t=Qn(_E,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function OE(e){return Qn(_E,e)&&!Qn(_E,e).classList.contains("hidden")}qf=TE;var FE={_:null},WE=new WeakMap,BE=new WeakMap,zE=new WeakMap,UE=new WeakMap,HE=new WeakMap,VE=new WeakMap,GE=new WeakMap,qE=new WeakMap,KE=new WeakMap,XE=new WeakMap,YE=new WeakMap,QE=new WeakMap,$E=new WeakMap,JE=new WeakMap,ZE=new WeakMap,eC=new WeakMap,tC=new WeakMap,nC=new WeakMap,rC=new WeakSet;class iC extends Ob{static get _keyboardManager(){const e=iC.prototype;return qp(this,"_keyboardManager",new mm([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(Fe(Fe({},e),{},{name:"highlightEditor"})),np(this,rC),Xn(this,WE,null),Xn(this,BE,0),Xn(this,zE,void 0),Xn(this,UE,null),Xn(this,HE,null),Xn(this,VE,null),Xn(this,GE,null),Xn(this,qE,0),Xn(this,KE,null),Xn(this,XE,null),Xn(this,YE,null),Xn(this,QE,!1),Xn(this,$E,null),Xn(this,JE,void 0),Xn(this,ZE,null),Xn(this,eC,""),Xn(this,tC,void 0),Xn(this,nC,""),this.color=e.color||iC._defaultColor,$n(tC,this,e.thickness||iC._defaultThickness),$n(JE,this,e.opacity||iC._defaultOpacity),$n(zE,this,e.boxes||null),$n(nC,this,e.methodOfCreation||""),$n(eC,this,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?($n(QE,this,!0),Yn(rC,this,aC).call(this,e),Yn(rC,this,dC).call(this)):Qn(zE,this)&&($n(WE,this,e.anchorNode),$n(BE,this,e.anchorOffset),$n(GE,this,e.focusNode),$n(qE,this,e.focusOffset),Yn(rC,this,sC).call(this),Yn(rC,this,dC).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:Qn(QE,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Qn(tC,this),methodOfCreation:Qn(nC,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;Ob.initialize(e,t),iC._defaultColor||(iC._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case vp.HIGHLIGHT_DEFAULT_COLOR:iC._defaultColor=t;break;case vp.HIGHLIGHT_THICKNESS:iC._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return Qn($E,this)}updateParams(e,t){switch(e){case vp.HIGHLIGHT_COLOR:Yn(rC,this,oC).call(this,t);break;case vp.HIGHLIGHT_THICKNESS:Yn(rC,this,lC).call(this,t)}}static get defaultPropertiesToUpdate(){return[[vp.HIGHLIGHT_DEFAULT_COLOR,iC._defaultColor],[vp.HIGHLIGHT_THICKNESS,iC._defaultThickness]]}get propertiesToUpdate(){return[[vp.HIGHLIGHT_COLOR,this.color||iC._defaultColor],[vp.HIGHLIGHT_THICKNESS,Qn(tC,this)||iC._defaultThickness],[vp.HIGHLIGHT_FREE,Qn(QE,this)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&($n(HE,this,new TE({editor:this})),e.addColorPicker(Qn(HE,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Yn(rC,this,gC).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,Yn(rC,this,gC).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){Yn(rC,this,uC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Yn(rC,this,dC).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)Yn(rC,this,uC).call(this);else if(e){var n;Yn(rC,this,dC).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;Qn(QE,this)?(e=(e-this.rotation+360)%360,n=hC.call(iC,Qn(XE,this).box,e)):n=hC.call(iC,[this.x,this.y,this.width,this.height],e),t.updateProperties(Qn(YE,this),{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(Qn(ZE,this),{bbox:hC.call(iC,Qn(VE,this).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();Qn(eC,this)&&(e.setAttribute("aria-label",Qn(eC,this)),e.setAttribute("role","mark")),Qn(QE,this)?e.classList.add("free"):this.div.addEventListener("keydown",Yn(rC,this,fC).bind(this),{signal:this._uiManager._signal});const t=$n(KE,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=Qn(UE,this);const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),tm(this,Qn(KE,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(Qn(ZE,this),{rootClass:{hovered:!0}}))}pointerleave(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(Qn(ZE,this),{rootClass:{hovered:!1}}))}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:Yn(rC,this,pC).call(this,!0);break;case 1:case 3:Yn(rC,this,pC).call(this,!1)}}select(){var e;super.select(),Qn(ZE,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(Qn(ZE,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),Qn(ZE,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(Qn(ZE,this),{rootClass:{selected:!1}}),Qn(QE,this)||Yn(rC,this,pC).call(this,!1))}get _mustFixPosition(){return!Qn(QE,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(Qn(YE,this),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(Qn(ZE,this),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,n){let{target:r,x:i,y:s}=n;const{x:a,y:o,width:l,height:c}=r.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),h=t=>{u.abort(),Yn(iC,this,yC).call(this,e,t)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",Sg,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",_g,{signal:d}),r.addEventListener("pointermove",Yn(iC,this,bC).bind(this,e),{signal:d}),this._freeHighlight=new vE({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,n){let r=null;if(e instanceof Uk){const{data:{quadPoints:t,rect:n,rotation:i,id:s,color:a,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:mp.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:s,deleted:!1,popupRef:l}}else if(e instanceof Bk){const{data:{inkLists:t,rect:n,rotation:i,id:s,color:a,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:mp.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:s,deleted:!1,popupRef:l}}const{color:i,quadPoints:s,inkLists:a,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=ig.makeHexColor(...i),$n(JE,l,o||1),a&&$n(tC,l,e.thickness),l.annotationElementId=e.id||null,l._initialData=r;const[c,u]=l.pageDimensions,[d,h]=l.pageTranslation;if(s){const e=$n(zE,l,[]);for(let t=0;t<s.length;t+=8)e.push({x:(s[t]-d)/c,y:1-(s[t+1]-h)/u,width:(s[t+2]-s[t])/c,height:(s[t+1]-s[t+5])/u});Yn(rC,l,sC).call(l),Yn(rC,l,dC).call(l),l.rotate(l.rotation)}else if(a){$n(QE,l,!0);const e=a[0],n={x:e[0]-d,y:u-(e[1]-h)},r=new vE(n,[0,0,c,u],1,Qn(tC,l)/2,!0,.001);for(let t=0,a=e.length;t<a;t+=2)n.x=e[t]-d,n.y=u-(e[t+1]-h),r.add(n);const{id:i,clipPathId:s}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:r.toSVGPath()}},!0,!0);Yn(rC,l,aC).call(l,{highlightOutlines:r.getOutlines(),highlightId:i,clipPathId:s}),Yn(rC,l,dC).call(l),l.rotate(l.parentRotation)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=Ob._colorManager.convert(this.color),r={annotationType:mp.HIGHLIGHT,color:n,opacity:Qn(JE,this),thickness:Qn(tC,this),quadPoints:Yn(rC,this,mC).call(this),outlines:Yn(rC,this,vC).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:Yn(rC,this,gC).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!Yn(rC,this,wC).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function sC(){const e=new lE(Qn(zE,this),.001);$n(XE,this,e.getOutlines()),[this.x,this.y,this.width,this.height]=Qn(XE,this).box;const t=new lE(Qn(zE,this),.0025,.001,"ltr"===this._uiManager.direction);$n(VE,this,t.getOutlines());const{lastPoint:n}=Qn(VE,this);$n($E,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function aC(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;$n(XE,this,t);if($n(VE,this,t.getNewOutline(Qn(tC,this)/2+1.5,.0025)),n>=0)$n(YE,this,n),$n(UE,this,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),$n(ZE,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:Qn(VE,this).box,path:{d:Qn(VE,this).toSVGPath()}},!0));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(Qn(YE,this),{bbox:hC.call(Kf,Qn(XE,this).box,(e-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(Qn(ZE,this),{bbox:hC.call(Kf,Qn(VE,this).box,e),path:{d:Qn(VE,this).toSVGPath()}})}const[i,s,a,o]=t.box;switch(this.rotation){case 0:this.x=i,this.y=s,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-i,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-s,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=i,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:l}=Qn(VE,this);$n($E,this,[(l[0]-i)/a,(l[1]-s)/o])}function oC(e){const t=(e,t)=>{var n,r;this.color=e,$n(JE,this,t),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(Qn(YE,this),{root:{fill:e,"fill-opacity":t}}),null===(r=Qn(HE,this))||void 0===r||r.updateColor(e)},n=this.color,r=Qn(JE,this);this.addCommands({cmd:t.bind(this,e,Kf._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vp.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function lC(e){const t=Qn(tC,this),n=e=>{$n(tC,this,e),Yn(rC,this,cC).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vp.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function cC(e){if(!Qn(QE,this))return;Yn(rC,this,aC).call(this,{highlightOutlines:Qn(XE,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function uC(){null!==Qn(YE,this)&&this.parent&&(this.parent.drawLayer.remove(Qn(YE,this)),$n(YE,this,null),this.parent.drawLayer.remove(Qn(ZE,this)),$n(ZE,this,null))}function dC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===Qn(YE,this)&&(({id:tp($n,[YE,this])._,clipPathId:tp($n,[UE,this])._}=e.drawLayer.draw({bbox:Qn(XE,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":Qn(JE,this)},rootClass:{highlight:!0,free:Qn(QE,this)},path:{d:Qn(XE,this).toSVGPath()}},!1,!0)),$n(ZE,this,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:Qn(QE,this)},bbox:Qn(VE,this).box,path:{d:Qn(VE,this).toSVGPath()}},Qn(QE,this))),Qn(KE,this)&&(Qn(KE,this).style.clipPath=Qn(UE,this)))}function hC(e,t){let[n,r,i,s]=e;switch(t){case 90:return[1-r-s,n,s,i];case 180:return[1-n-i,1-r-s,i,s];case 270:return[r,1-n-i,s,i]}return[n,r,i,s]}function fC(e){Kf._keyboardManager.exec(this,e)}function pC(e){if(!Qn(WE,this))return;const t=window.getSelection();e?t.setPosition(Qn(WE,this),Qn(BE,this)):t.setPosition(Qn(GE,this),Qn(qE,this))}function gC(){return Qn(QE,this)?this.rotation:0}function mC(){if(Qn(QE,this))return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,i=Qn(zE,this),s=new Float32Array(8*i.length);let a=0;for(const{x:o,y:l,width:c,height:u}of i){const i=o*e+n,d=(1-l)*t+r;s[a]=s[a+4]=i,s[a+1]=s[a+3]=d,s[a+2]=s[a+6]=i+c*e,s[a+5]=s[a+7]=d-u*t,a+=8}return s}function vC(e){return Qn(XE,this).serialize(e,Yn(rC,this,gC).call(this))}function bC(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function yC(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function wC(e){const{color:t}=this._initialData;return e.color.some(((e,n)=>e!==t[n]))}Kf=iC,Ie(iC,"_defaultColor",null),Ie(iC,"_defaultOpacity",1),Ie(iC,"_defaultThickness",12),Ie(iC,"_type","highlight"),Ie(iC,"_editorType",mp.HIGHLIGHT),Ie(iC,"_freeHighlightId",-1),Ie(iC,"_freeHighlight",null),Ie(iC,"_freeHighlightClipId","");var xC=new WeakMap;class _C{constructor(){Xn(this,xC,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){Qn(xC,this)[e]=t}toSVGProperties(){const e=Qn(xC,this);return $n(xC,this,Object.create(null)),{root:e}}reset(){$n(xC,this,Object.create(null))}updateAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}clone(){Up("Not implemented")}}var SC=new WeakMap,kC=new WeakMap,AC=new WeakSet;class EC extends Ob{constructor(e){super(e),np(this,AC),Xn(this,SC,null),Xn(this,kC,void 0),Ie(this,"_drawId",null),$n(kC,this,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(Yn(AC,this,CC).call(this,e),Yn(AC,this,NC).call(this))}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[r,i]of Object.entries(t))n.has(r)?Object.assign(e[r],i):e[r]=i;return e}static getDefaultDrawingOptions(e){Up("Not implemented")}static get typesMap(){Up("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(jC._.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)e.push([n,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,r]of this.constructor.typesMap)e.push([n,t[r]]);return e}_updateProperty(e,t,n){const r=this._drawingOptions,i=r[t],s=e=>{var n;r.updateProperty(t,e);const i=Qn(SC,this).updateProperty(t,e);i&&Yn(AC,this,LC).call(this,i),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,EC._mergeSVGProperties(Qn(SC,this).getPathResizingSVGProperties(Yn(AC,this,PC).call(this)),{bbox:Yn(AC,this,DC).call(this)}))}_onResized(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,EC._mergeSVGProperties(Qn(SC,this).getPathResizedSVGProperties(Yn(AC,this,PC).call(this)),{bbox:Yn(AC,this,DC).call(this)}))}_onTranslating(e,t){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:Yn(AC,this,DC).call(this)})}_onTranslated(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,EC._mergeSVGProperties(Qn(SC,this).getPathTranslatedSVGProperties(Yn(AC,this,PC).call(this),this.parentDimensions),{bbox:Yn(AC,this,DC).call(this)}))}_onStartDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,Qn(kC,this)&&($n(kC,this,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){Yn(AC,this,RC).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Yn(AC,this,NC).call(this),Yn(AC,this,LC).call(this,Qn(SC,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),Yn(AC,this,RC).call(this);else if(e){var n;this._uiManager.addShouldRescale(this),Yn(AC,this,NC).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,EC._mergeSVGProperties({bbox:Yn(AC,this,DC).call(this)},Qn(SC,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Yn(AC,this,LC).call(this,Qn(SC,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,r,i){Up("Not implemented")}static startDrawing(e,t,n,r){var i,s;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=r;if(WC._&&WC._!==u)return;const{viewport:{rotation:d}}=e,{width:h,height:f}=a.getBoundingClientRect(),p=IC._=new AbortController,g=e.combinedSignal(p);FC._||(FC._=c),null!==(i=WC._)&&void 0!==i||(WC._=u),window.addEventListener("pointerup",(e=>{var t;FC._===e.pointerId?this._endDraw(e):null===(t=BC._)||void 0===t||t.delete(e.pointerId)}),{signal:g}),window.addEventListener("pointercancel",(e=>{var t;FC._===e.pointerId?this._currentParent.endDrawingSession():null===(t=BC._)||void 0===t||t.delete(e.pointerId)}),{signal:g}),window.addEventListener("pointerdown",(e=>{WC._===e.pointerType&&((BC._||(BC._=new Set)).add(e.pointerId),jC._.isCancellable()&&(jC._.removeLastElement(),jC._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))}),{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",_g,{signal:g}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),a.addEventListener("touchmove",(e=>{e.timeStamp===zC._&&Sg(e)}),{signal:g}),e.toggleDrawing(),null===(s=t._editorUndoBar)||void 0===s||s.hide(),jC._?e.drawLayer.updateProperties(this._currentDrawId,jC._.startNew(o,l,h,f,d)):(t.updateUIForDefaultProperties(this),jC._=this.createDrawerInstance(o,l,h,f,d),OC._=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(OC._.toSVGProperties(),jC._.defaultSVGProperties),!0,!1)))}static _drawMove(e){var t;if(zC._=-1,!jC._)return;const{offsetX:n,offsetY:r,pointerId:i}=e;FC._===i&&((null===(t=BC._)||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,jC._.add(n,r)),zC._=e.timeStamp,Sg(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,jC._=null,OC._=null,WC._=null,zC._=NaN),IC._&&(IC._.abort(),IC._=null,FC._=NaN,BC._=null)}static _endDraw(e){const t=this._currentParent;if(t)if(t.toggleDrawing(!0),this._cleanup(!1),(null===e||void 0===e?void 0:e.target)===t.div&&t.drawLayer.updateProperties(this._currentDrawId,jC._.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=jC._,n=this._currentDrawId,r=e.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,e.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(n,e.removeLastElement())},mustExec:!1,type:vp.DRAW_STEP})}else this.endDrawing(!1)}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(vp.DRAW_STEP),!jC._.isEmpty()){const{pageDimensions:[n,r],scale:i}=t,s=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:jC._.getOutlines(n*i,r*i,i,this._INNER_MARGIN),drawingOptions:OC._,mustBeCommitted:!e});return this._cleanup(!0),s}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,r,i,s){Up("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=t.viewport,o=this.deserializeDraw(s,a,r,i,this._INNER_MARGIN,e),l=await super.deserialize(e,t,n);return l.createDrawingOptions(e),Yn(AC,l,CC).call(l,{drawOutlines:o}),Yn(AC,l,NC).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,n]=this.pageTranslation,[r,i]=this.pageDimensions;return Qn(SC,this).serialize([t,n,r,i],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function CC(e){let{drawOutlines:t,drawId:n,drawingOptions:r}=e;$n(SC,this,t),this._drawingOptions||(this._drawingOptions=r),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=Yn(AC,this,MC).call(this,t,this.parent),Yn(AC,this,LC).call(this,t.box)}function MC(e,t){const{id:n}=t.drawLayer.draw(Xf._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}function RC(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function NC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=Yn(AC,this,MC).call(this,Qn(SC,this),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function TC(e){let[t,n,r,i]=e;const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[n,1-t,r*(a/s),i*(s/a)];case 180:return[1-t,1-n,r,i];case 270:return[1-n,t,r*(a/s),i*(s/a)];default:return[t,n,r,i]}}function PC(){const{x:e,y:t,width:n,height:r,parentDimensions:[i,s],rotation:a}=this;switch(a){case 90:return[1-t,e,n*(i/s),r*(s/i)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(i/s),r*(s/i)];default:return[e,t,n,r]}}function LC(e){if([this.x,this.y,this.width,this.height]=Yn(AC,this,TC).call(this,e),this.div){this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}this._onResized()}function DC(){const{x:e,y:t,width:n,height:r,rotation:i,parentRotation:s,parentDimensions:[a,o]}=this;switch((4*i+s)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(a/o),r*(o/a),n*(a/o)];case 5:return[1-t,e,n*(a/o),r*(o/a)];case 6:return[1-e-r*(o/a),1-t,r*(o/a),n*(a/o)];case 7:return[t-n*(a/o),1-e-r*(o/a),n*(a/o),r*(o/a)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(o/a),t,r*(o/a),n*(a/o)];case 13:return[1-t-n*(a/o),e-r*(o/a),n*(a/o),r*(o/a)];case 14:return[1-e,1-t-n*(a/o),r*(o/a),n*(a/o)];case 15:return[t,1-e,n*(a/o),r*(o/a)];default:return[e,t,n,r]}}Xf=EC,Ie(EC,"_currentDrawId",-1),Ie(EC,"_currentParent",null);var jC={_:null},IC={_:null},OC={_:null},FC={_:NaN},WC={_:null},BC={_:null},zC={_:NaN};Ie(EC,"_INNER_MARGIN",3);var UC=new WeakMap,HC=new WeakMap,VC=new WeakMap,GC=new WeakMap,qC=new WeakMap,KC=new WeakMap,XC=new WeakMap,YC=new WeakMap,QC=new WeakMap,$C=new WeakMap,JC=new WeakMap,ZC=new WeakSet;class eM{constructor(e,t,n,r,i,s){np(this,ZC),Xn(this,UC,new Float64Array(6)),Xn(this,HC,void 0),Xn(this,VC,void 0),Xn(this,GC,void 0),Xn(this,qC,void 0),Xn(this,KC,void 0),Xn(this,XC,""),Xn(this,YC,0),Xn(this,QC,new hM),Xn(this,$C,void 0),Xn(this,JC,void 0),$n($C,this,n),$n(JC,this,r),$n(GC,this,i),$n(qC,this,s),[e,t]=Yn(ZC,this,tM).call(this,e,t);const a=$n(HC,this,[NaN,NaN,NaN,NaN,e,t]);$n(KC,this,[e,t]),$n(VC,this,[{line:a,points:Qn(KC,this)}]),Qn(UC,this).set(a,0)}updateProperty(e,t){"stroke-width"===e&&$n(qC,this,t)}isEmpty(){return!Qn(VC,this)||0===Qn(VC,this).length}isCancellable(){return Qn(KC,this).length<=10}add(e,t){[e,t]=Yn(ZC,this,tM).call(this,e,t);const[n,r,i,s]=Qn(UC,this).subarray(2,6),a=e-i,o=t-s;return Math.hypot(Qn($C,this)*a,Qn(JC,this)*o)<=2?null:(Qn(KC,this).push(e,t),isNaN(n)?(Qn(UC,this).set([i,s,e,t],2),Qn(HC,this).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(Qn(UC,this)[0])&&Qn(HC,this).splice(6,6),Qn(UC,this).set([n,r,i,s,e,t],0),Qn(HC,this).push(..._A.createBezierPoints(n,r,i,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===Qn(KC,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,i){$n($C,this,n),$n(JC,this,r),$n(GC,this,i),[e,t]=Yn(ZC,this,tM).call(this,e,t);const s=$n(HC,this,[NaN,NaN,NaN,NaN,e,t]);$n(KC,this,[e,t]);const a=Qn(VC,this).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),Qn(VC,this).push({line:s,points:Qn(KC,this)}),Qn(UC,this).set(s,0),$n(YC,this,0),this.toSVGPath(),null}getLastElement(){return Qn(VC,this).at(-1)}setLastElement(e){return Qn(VC,this)?(Qn(VC,this).push(e),$n(HC,this,e.line),$n(KC,this,e.points),$n(YC,this,0),{path:{d:this.toSVGPath()}}):Qn(QC,this).setLastElement(e)}removeLastElement(){if(!Qn(VC,this))return Qn(QC,this).removeLastElement();Qn(VC,this).pop(),$n(XC,this,"");for(let e=0,t=Qn(VC,this).length;e<t;e++){const{line:t,points:n}=Qn(VC,this)[e];$n(HC,this,t),$n(KC,this,n),$n(YC,this,0),this.toSVGPath()}return{path:{d:Qn(XC,this)}}}toSVGPath(){const e=_A.svgRound(Qn(HC,this)[4]),t=_A.svgRound(Qn(HC,this)[5]);if(2===Qn(KC,this).length)return $n(XC,this,"".concat(Qn(XC,this)," M ").concat(e," ").concat(t," Z")),Qn(XC,this);if(Qn(KC,this).length<=6){const n=Qn(XC,this).lastIndexOf("M");$n(XC,this,"".concat(Qn(XC,this).slice(0,n)," M ").concat(e," ").concat(t)),$n(YC,this,6)}if(4===Qn(KC,this).length){const e=_A.svgRound(Qn(HC,this)[10]),t=_A.svgRound(Qn(HC,this)[11]);return $n(XC,this,"".concat(Qn(XC,this)," L ").concat(e," ").concat(t)),$n(YC,this,12),Qn(XC,this)}const n=[];0===Qn(YC,this)&&(n.push("M ".concat(e," ").concat(t)),$n(YC,this,6));for(let r=Qn(YC,this),i=Qn(HC,this).length;r<i;r+=6){const[e,t,i,s,a,o]=Qn(HC,this).slice(r,r+6).map(_A.svgRound);n.push("C".concat(e," ").concat(t," ").concat(i," ").concat(s," ").concat(a," ").concat(o))}return $n(XC,this,Qn(XC,this)+n.join(" ")),$n(YC,this,Qn(HC,this).length),Qn(XC,this)}getOutlines(e,t,n,r){const i=Qn(VC,this).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),Qn(QC,this).build(Qn(VC,this),e,t,n,Qn(GC,this),Qn(qC,this),r),$n(UC,this,null),$n(HC,this,null),$n(VC,this,null),$n(XC,this,null),Qn(QC,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function tM(e,t){return _A._normalizePoint(e,t,Qn($C,this),Qn(JC,this),Qn(GC,this))}var nM=new WeakMap,rM=new WeakMap,iM=new WeakMap,sM=new WeakMap,aM=new WeakMap,oM=new WeakMap,lM=new WeakMap,cM=new WeakMap,uM=new WeakMap,dM=new WeakSet;class hM extends _A{constructor(){super(...arguments),np(this,dM),Xn(this,nM,void 0),Xn(this,rM,0),Xn(this,iM,void 0),Xn(this,sM,void 0),Xn(this,aM,void 0),Xn(this,oM,void 0),Xn(this,lM,void 0),Xn(this,cM,void 0),Xn(this,uM,void 0)}build(e,t,n,r,i,s,a){$n(aM,this,t),$n(oM,this,n),$n(lM,this,r),$n(cM,this,i),$n(uM,this,s),$n(iM,this,null!==a&&void 0!==a?a:0),$n(sM,this,e),Yn(dM,this,gM).call(this)}get thickness(){return Qn(uM,this)}setLastElement(e){return Qn(sM,this).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return Qn(sM,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of Qn(sM,this))if(e.push("M".concat(_A.svgRound(t[4])," ").concat(_A.svgRound(t[5]))),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push("L".concat(_A.svgRound(t[10])," ").concat(_A.svgRound(t[11])));else for(let n=6,r=t.length;n<r;n+=6){const[r,i,s,a,o,l]=t.subarray(n,n+6).map(_A.svgRound);e.push("C".concat(r," ").concat(i," ").concat(s," ").concat(a," ").concat(o," ").concat(l))}else e.push("Z");return e.join("")}serialize(e,t){let[n,r,i,s]=e;const a=[],o=[],[l,c,u,d]=Yn(dM,this,pM).call(this);let h,f,p,g,m,v,b,y,w;switch(Qn(cM,this)){case 0:w=_A._rescale,h=n,f=r+s,p=i,g=-s,m=n+l*i,v=r+(1-c-d)*s,b=n+(l+u)*i,y=r+(1-c)*s;break;case 90:w=_A._rescaleAndSwap,h=n,f=r,p=i,g=s,m=n+c*i,v=r+l*s,b=n+(c+d)*i,y=r+(l+u)*s;break;case 180:w=_A._rescale,h=n+i,f=r,p=-i,g=s,m=n+(1-l-u)*i,v=r+c*s,b=n+(1-l)*i,y=r+(c+d)*s;break;case 270:w=_A._rescaleAndSwap,h=n+i,f=r+s,p=-i,g=-s,m=n+(1-c-d)*i,v=r+(1-l-u)*s,b=n+(1-c)*i,y=r+(1-l)*s}for(const{line:x,points:_}of Qn(sM,this))a.push(w(x,h,f,p,g,t?new Array(x.length):null)),o.push(w(_,h,f,p,g,t?new Array(_.length):null));return{lines:a,points:o,rect:[m,v,b,y]}}static deserialize(e,t,n,r,i,s){let{paths:{lines:a,points:o},rotation:l,thickness:c}=s;const u=[];let d,h,f,p,g;switch(l){case 0:g=_A._rescale,d=-e/n,h=t/r+1,f=1/n,p=-1/r;break;case 90:g=_A._rescaleAndSwap,d=-t/r,h=-e/n,f=1/r,p=1/n;break;case 180:g=_A._rescale,d=e/n+1,h=-t/r,f=-1/n,p=1/r;break;case 270:g=_A._rescaleAndSwap,d=t/r+1,h=e/n+1,f=-1/r,p=-1/n}if(!a){a=[];for(const e of o){const t=e.length;if(2===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));a.push(n);let[r,i,s,o]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,r,i],0);for(let a=4;a<t;a+=2){const t=e[a],l=e[a+1];n.set(_A.createBezierPoints(r,i,s,o,t,l),3*(a-2)),[r,i,s,o]=[s,o,t,l]}}}for(let v=0,b=a.length;v<b;v++)u.push({line:g(a[v].map((e=>null!==e&&void 0!==e?e:NaN)),d,h,f,p),points:g(o[v].map((e=>null!==e&&void 0!==e?e:NaN)),d,h,f,p)});const m=new this.prototype.constructor;return m.build(u,n,r,1,l,c,i),m}get box(){return Qn(nM,this)}updateProperty(e,t){return"stroke-width"===e?Yn(dM,this,mM).call(this,t):null}updateParentDimensions(e,t){let[n,r]=e;const[i,s]=Yn(dM,this,fM).call(this);$n(aM,this,n),$n(oM,this,r),$n(lM,this,t);const[a,o]=Yn(dM,this,fM).call(this),l=a-i,c=o-s,u=Qn(nM,this);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(e){return $n(rM,this,e),{path:{transform:this.rotationTransform}}}get viewBox(){return Qn(nM,this).map(_A.svgRound).join(" ")}get defaultProperties(){const[e,t]=Qn(nM,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(_A.svgRound(e)," ").concat(_A.svgRound(t))}}}get rotationTransform(){const[,,e,t]=Qn(nM,this);let n=0,r=0,i=0,s=0,a=0,o=0;switch(Qn(rM,this)){case 90:r=t/e,i=-e/t,a=e;break;case 180:n=-1,s=-1,a=e,o=t;break;case 270:r=-t/e,i=e/t,o=t;break;default:return""}return"matrix(".concat(n," ").concat(r," ").concat(i," ").concat(s," ").concat(_A.svgRound(a)," ").concat(_A.svgRound(o),")")}getPathResizingSVGProperties(e){let[t,n,r,i]=e;const[s,a]=Yn(dM,this,fM).call(this),[o,l,c,u]=Qn(nM,this);if(Math.abs(c-s)<=_A.PRECISION||Math.abs(u-a)<=_A.PRECISION){const e=t+r/2-(o+c/2),s=n+i/2-(l+u/2);return{path:{"transform-origin":"".concat(_A.svgRound(t)," ").concat(_A.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(e," ").concat(s,")")}}}const d=(r-2*s)/(c-2*s),h=(i-2*a)/(u-2*a),f=c/r,p=u/i;return{path:{"transform-origin":"".concat(_A.svgRound(o)," ").concat(_A.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(f," ").concat(p,") ")+"translate(".concat(_A.svgRound(s)," ").concat(_A.svgRound(a),") scale(").concat(d," ").concat(h,") ")+"translate(".concat(_A.svgRound(-s)," ").concat(_A.svgRound(-a),")")}}}getPathResizedSVGProperties(e){let[t,n,r,i]=e;const[s,a]=Yn(dM,this,fM).call(this),o=Qn(nM,this),[l,c,u,d]=o;if(o[0]=t,o[1]=n,o[2]=r,o[3]=i,Math.abs(u-s)<=_A.PRECISION||Math.abs(d-a)<=_A.PRECISION){const e=t+r/2-(l+u/2),s=n+i/2-(c+d/2);for(const{line:t,points:n}of Qn(sM,this))_A._translate(t,e,s,t),_A._translate(n,e,s,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(_A.svgRound(t)," ").concat(_A.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(r-2*s)/(u-2*s),f=(i-2*a)/(d-2*a),p=-h*(l+s)+t+s,g=-f*(c+a)+n+a;if(1!==h||1!==f||0!==p||0!==g)for(const{line:m,points:v}of Qn(sM,this))_A._rescale(m,p,g,h,f,m),_A._rescale(v,p,g,h,f,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(_A.svgRound(t)," ").concat(_A.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(e,t){let[n,r]=e;const[i,s]=t,a=Qn(nM,this),o=n-a[0],l=r-a[1];if(Qn(aM,this)===i&&Qn(oM,this)===s)for(const{line:c,points:u}of Qn(sM,this))_A._translate(c,o,l,c),_A._translate(u,o,l,u);else{const e=Qn(aM,this)/i,t=Qn(oM,this)/s;$n(aM,this,i),$n(oM,this,s);for(const{line:n,points:r}of Qn(sM,this))_A._rescale(n,o,l,e,t,n),_A._rescale(r,o,l,e,t,r);a[2]*=e,a[3]*=t}return a[0]=n,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(_A.svgRound(n)," ").concat(_A.svgRound(r))}}}get defaultSVGProperties(){const e=Qn(nM,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(_A.svgRound(e[0])," ").concat(_A.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}function fM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn(uM,this);const t=Qn(iM,this)+e/2*Qn(lM,this);return Qn(cM,this)%180===0?[t/Qn(aM,this),t/Qn(oM,this)]:[t/Qn(oM,this),t/Qn(aM,this)]}function pM(){const[e,t,n,r]=Qn(nM,this),[i,s]=Yn(dM,this,fM).call(this,0);return[e+i,t+s,n-2*i,r-2*s]}function gM(){const e=$n(nM,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of Qn(sM,this)){if(r.length<=12){for(let t=4,n=r.length;t<n;t+=6)ig.pointBoundingBox(r[t],r[t+1],e);continue}let t=r[4],n=r[5];for(let i=6,s=r.length;i<s;i+=6){const[s,a,o,l,c,u]=r.subarray(i,i+6);ig.bezierBoundingBox(t,n,s,a,o,l,c,u,e),t=c,n=u}}const[t,n]=Yn(dM,this,fM).call(this);e[0]=dg(e[0]-t,0,1),e[1]=dg(e[1]-n,0,1),e[2]=dg(e[2]+t,0,1),e[3]=dg(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}function mM(e){const[t,n]=Yn(dM,this,fM).call(this);$n(uM,this,e);const[r,i]=Yn(dM,this,fM).call(this),[s,a]=[r-t,i-n],o=Qn(nM,this);return o[0]-=s,o[1]-=a,o[2]+=2*s,o[3]+=2*a,o}class vM extends _C{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ob._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!==t&&void 0!==t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new vM(this._viewParameters);return e.updateAll(this),e}}var bM=new WeakSet;class yM extends EC{constructor(e){super(Fe(Fe({},e),{},{name:"inkEditor"})),np(this,bM),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Ob.initialize(e,t),this._defaultDrawingOptions=new vM(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return qp(this,"typesMap",new Map([[vp.INK_THICKNESS,"stroke-width"],[vp.INK_COLOR,"stroke"],[vp.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,r,i){return new eM(e,t,n,r,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,r,i,s){return hM.deserialize(e,t,n,r,i,s)}static async deserialize(e,t,n){let r=null;if(e instanceof Bk){const{data:{inkLists:t,rect:n,rotation:i,id:s,color:a,opacity:o,borderStyle:{rawWidth:l},popupRef:c},parent:{page:{pageNumber:u}}}=e;r=e={annotationType:mp.INK,color:Array.from(a),thickness:l,opacity:o,paths:{points:t},boxes:null,pageIndex:u-1,rect:n.slice(0),rotation:i,id:s,deleted:!1,popupRef:c}}const i=await super.deserialize(e,t,n);return i.annotationElementId=e.id||null,i._initialData=r,i}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(e){let{color:t,thickness:n,opacity:r}=e;this._drawingOptions=yM.getDefaultDrawingOptions({stroke:ig.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,o={annotationType:mp.INK,color:Ob._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!Yn(bM,this,wM).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t}),null}}function wM(e){const{color:t,thickness:n,opacity:r,pageIndex:i}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some(((e,n)=>e!==t[n]))||e.thickness!==n||e.opacity!==r||e.pageIndex!==i}Ie(yM,"_type","ink"),Ie(yM,"_editorType",mp.INK),Ie(yM,"_defaultDrawingOptions",null);class xM extends hM{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class _M{static extractContoursFromText(e,t,n,r,i,s){let{fontFamily:a,fontStyle:o,fontWeight:l}=t,c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=u.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(a),{actualBoundingBoxLeft:h,actualBoundingBoxRight:f,actualBoundingBoxAscent:p,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:v,width:b}=u.measureText(e),y=1.5,w=Math.ceil(Math.max(Math.abs(h)+Math.abs(f)||0,b)*y),x=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||200,Math.abs(m)+Math.abs(v)||200)*y);c=new OffscreenCanvas(w,x),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=d,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,w,x),u.fillStyle="black",u.fillText(e,.5*w/2,1.5*x/2);const _=Yn(_M,this,TM).call(this,u.getImageData(0,0,w,x).data),S=Yn(_M,this,NM).call(this,_),k=Yn(_M,this,PM).call(this,S),A=Yn(_M,this,EM).call(this,_,w,x,k);return this.processDrawnLines({lines:{curves:A,width:w,height:x},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,i){const[s,a,o]=Yn(_M,this,LM).call(this,e),[l,c]=Yn(_M,this,RM).call(this,s,a,o,Math.hypot(a,o)*Yn(_M,this,DM)._.sigmaSFactor,Yn(_M,this,DM)._.sigmaR,Yn(_M,this,DM)._.kernelSize),u=Yn(_M,this,PM).call(this,c),d=Yn(_M,this,EM).call(this,l,a,o,u);return this.processDrawnLines({lines:{curves:d,width:a,height:o},pageWidth:t,pageHeight:n,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines(e){var t;let{lines:n,pageWidth:r,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:o,areContours:l}=e;s%180!==0&&([r,i]=[i,r]);const{curves:c,width:u,height:d}=n,h=null!==(t=n.thickness)&&void 0!==t?t:0,f=[],p=Math.min(r/u,i/d),g=p/r,m=p/i,v=[];for(const{points:y}of c){const e=o?Yn(_M,this,MM).call(this,y):y;if(!e)continue;v.push(e);const t=e.length,n=new Float32Array(t),r=new Float32Array(3*(2===t?2:t-2));if(f.push({line:r,points:n}),2===t){n[0]=e[0]*g,n[1]=e[1]*m,r.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[i,s,a,l]=e;i*=g,s*=m,a*=g,l*=m,n.set([i,s,a,l],0),r.set([NaN,NaN,NaN,NaN,i,s],0);for(let o=4;o<t;o+=2){const t=n[o]=e[o]*g,c=n[o+1]=e[o+1]*m;r.set(_A.createBezierPoints(i,s,a,l,t,c),3*(o-2)),[i,s,a,l]=[a,l,t,c]}}if(0===f.length)return null;const b=l?new xM:new hM;return b.build(f,r,i,1,s,l?0:h,a),{outline:b,newCurves:v,areContours:l,thickness:h,width:u,height:d}}static async compressSignature(e){let t,{outlines:n,areContours:r,thickness:i,width:s,height:a}=e,o=1/0,l=-1/0,c=0;for(const b of n){c+=b.length;for(let e=2,t=b.length;e<t;e++){const t=b[e]-b[e-2];o=Math.min(o,t),l=Math.max(l,t)}}t=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const u=n.length,d=8+3*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*t.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=s,h[f++]=a,h[f++]=r?0:1,h[f++]=Math.max(0,Math.floor(null!==i&&void 0!==i?i:0)),h[f++]=u,h[f++]=t.BYTES_PER_ELEMENT;for(const b of n)h[f++]=b.length-2,h[f++]=b[0],h[f++]=b[1];const p=new CompressionStream("deflate-raw"),g=p.writable.getWriter();await g.ready,g.write(h);const m=t.prototype.constructor;for(const b of n){const e=new m(b.length-2);for(let t=2,n=b.length;t<n;t++)e[t-2]=b[t]-b[t-2];g.write(e)}g.close();const v=await new Response(p.readable).arrayBuffer();return hg(new Uint8Array(v))}static async decompressSignature(e){try{const o=(a=e,Uint8Array.fromBase64?Uint8Array.fromBase64(a):tg(atob(a))),{readable:l,writable:c}=new DecompressionStream("deflate-raw"),u=c.getWriter();await u.ready,u.write(o).then((async()=>{await u.ready,await u.close()})).catch((()=>{}));let d=null,h=0;var t,n=!1,r=!1;try{for(var i,s=nh(l);n=!(i=await s.next()).done;n=!1){const e=i.value;d||(d=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),d.set(e,h),h+=e.length}}catch(UN){r=!0,t=UN}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw t}}const f=new Uint32Array(d.buffer,0,d.length>>2),p=f[1];if(0!==p)throw new Error("Invalid version: ".concat(p));const g=f[2],m=f[3],v=0===f[4],b=f[5],y=f[6],w=f[7],x=[],_=(8+3*y)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(w){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(d.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(d.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(d.buffer,_)}h=0;for(let e=0;e<y;e++){const t=f[3*e+8],n=new Float32Array(t+2);x.push(n);for(let r=0;r<2;r++)n[r]=f[3*e+8+r+1];for(let e=0;e<t;e++)n[e+2]=n[e]+S[h++]}return{areContours:v,thickness:b,outlines:x,width:g,height:m}}catch(zN){return zp("decompressSignature: ".concat(zN)),null}var a}}function SM(e,t,n,r){return r-=t,0===(n-=e)?r>0?0:4:1===n?r+6:2-r}function kM(e,t,n,r,i,s,a){const o=Yn(Yf,this,SM).call(this,n,r,i,s);for(let l=0;l<8;l++){const i=(-l+o-a+16)%8;if(0!==e[(n+Yn(Yf,this,jM)._[2*i])*t+(r+Yn(Yf,this,jM)._[2*i+1])])return i}return-1}function AM(e,t,n,r,i,s,a){const o=Yn(Yf,this,SM).call(this,n,r,i,s);for(let l=0;l<8;l++){const i=(l+o+a+16)%8;if(0!==e[(n+Yn(Yf,this,jM)._[2*i])*t+(r+Yn(Yf,this,jM)._[2*i+1])])return i}return-1}function EM(e,t,n,r){const i=e.length,s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=e[c]<=r?1:0;for(let c=1;c<n-1;c++)s[c*t]=s[c*t+t-1]=0;for(let c=0;c<t;c++)s[c]=s[t*n-1-c]=0;let a,o=1;const l=[];for(let c=1;c<n-1;c++){a=1;for(let e=1;e<t-1;e++){const n=c*t+e,r=s[n];if(0===r)continue;let i=c,u=e;if(1===r&&0===s[n-1])o+=1,u-=1;else{if(!(r>=1&&0===s[n+1])){1!==r&&(a=Math.abs(r));continue}o+=1,u+=1,r>1&&(a=r)}const d=[e,c],h=u===e+1,f={isHole:h,points:d,id:o,parent:0};let p;l.push(f);for(const e of l)if(e.id===a){p=e;break}p?p.isHole?f.parent=h?p.parent:a:f.parent=h?a:p.parent:f.parent=h?a:0;const g=Yn(Yf,this,kM).call(this,s,t,c,e,i,u,0);if(-1===g){s[n]=-o,1!==s[n]&&(a=Math.abs(s[n]));continue}let m=Yn(Yf,this,jM)._[2*g],v=Yn(Yf,this,jM)._[2*g+1];const b=c+m,y=e+v;i=b,u=y;let w=c,x=e;for(;;){const r=Yn(Yf,this,AM).call(this,s,t,w,x,i,u,1);m=Yn(Yf,this,jM)._[2*r],v=Yn(Yf,this,jM)._[2*r+1];const l=w+m,h=x+v;d.push(h,l);const f=w*t+x;if(0===s[f+1]?s[f]=-o:1===s[f]&&(s[f]=o),l===c&&h===e&&w===b&&x===y){1!==s[n]&&(a=Math.abs(s[n]));break}i=w,u=x,w=l,x=h}}}return l}function CM(e,t,n,r){if(n-t<=4){for(let i=t;i<n-2;i+=2)r.push(e[i],e[i+1]);return}const i=e[t],s=e[t+1],a=e[n-4]-i,o=e[n-3]-s,l=Math.hypot(a,o),c=a/l,u=o/l,d=c*s-u*i,h=o/a,f=1/l,p=Math.atan(h),g=Math.cos(p),m=Math.sin(p),v=f*(Math.abs(g)+Math.abs(m)),b=f*(1-v+v**2),y=Math.max(Math.atan(Math.abs(m+g)*b),Math.atan(Math.abs(m-g)*b));let w=0,x=t;for(let _=t+2;_<n-2;_+=2){const t=Math.abs(d-c*e[_+1]+u*e[_]);t>w&&(x=_,w=t)}w>(l*y)**2?(Yn(Yf,this,CM).call(this,e,t,x+2,r),Yn(Yf,this,CM).call(this,e,x,n,r)):r.push(i,s)}function MM(e){const t=[],n=e.length;return Yn(Yf,this,CM).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}function RM(e,t,n,r,i,s){const a=new Float32Array(s**2),o=-2*r**2,l=s>>1;for(let p=0;p<s;p++){const e=(p-l)**2;for(let t=0;t<s;t++)a[p*s+t]=Math.exp((e+(t-l)**2)/o)}const c=new Float32Array(256),u=-2*i**2;for(let p=0;p<256;p++)c[p]=Math.exp(p**2/u);const d=e.length,h=new Uint8Array(d),f=new Uint32Array(256);for(let p=0;p<n;p++)for(let r=0;r<t;r++){const i=p*t+r,o=e[i];let u=0,d=0;for(let h=0;h<s;h++){const i=p+h-l;if(!(i<0||i>=n))for(let n=0;n<s;n++){const f=r+n-l;if(f<0||f>=t)continue;const p=e[i*t+f],g=a[h*s+n]*c[Math.abs(p-o)];u+=p*g,d+=g}}f[h[i]=Math.round(u/d)]++}return[h,f]}function NM(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}function TM(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let a=0,o=n.length;a<o;a++){if(0===e[3+(a<<2)]){r=n[a]=255;continue}const t=n[a]=e[a<<2];t>r&&(r=t),t<i&&(i=t)}const s=255/(r-i);for(let a=0;a<t;a++)n[a]=(n[a]-i)*s;return n}function PM(e){let t,n=-1/0,r=-1/0;const i=e.findIndex((e=>0!==e));let s=i,a=i;for(t=i;t<256;t++){const i=e[t];i>n&&(t-s>r&&(r=t-s,a=t-1),n=i,s=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t}function LM(e){const t=e,{width:n,height:r}=e,{maxDim:i}=Yn(Yf,this,DM)._;let s=n,a=r;if(n>i||r>i){let o=n,l=r,c=Math.log2(Math.max(n,r)/i);const u=Math.floor(c);c=c===u?u-1:u;for(let n=0;n<c;n++){s=Math.ceil(o/2),a=Math.ceil(l/2);const n=new OffscreenCanvas(s,a);n.getContext("2d").drawImage(e,0,0,o,l,0,0,s,a),o=s,l=a,e!==t&&e.close(),e=n.transferToImageBitmap()}const d=Math.min(i/s,i/a);s=Math.round(s*d),a=Math.round(a*d)}const o=new OffscreenCanvas(s,a).getContext("2d",{willReadFrequently:!0});o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,s,a);const l=o.getImageData(0,0,s,a).data;return[Yn(Yf,this,TM).call(this,l),s,a]}Yf=_M;var DM={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},jM={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class IM extends _C{constructor(){super(),super.updateProperties({fill:Ob._defaultLineColor,"stroke-width":0})}clone(){const e=new IM;return e.updateAll(this),e}}class OM extends vM{constructor(e){super(e),super.updateProperties({stroke:Ob._defaultLineColor,"stroke-width":1})}clone(){const e=new OM(this._viewParameters);return e.updateAll(this),e}}var FM=new WeakMap,WM=new WeakMap,BM=new WeakMap,zM=new WeakMap;class UM extends EC{constructor(e){super(Fe(Fe({},e),{},{mustBeCommitted:!0,name:"signatureEditor"})),Xn(this,FM,!1),Xn(this,WM,null),Xn(this,BM,null),Xn(this,zM,null),this._willKeepAspectRatio=!0,$n(BM,this,e.signatureData||null),$n(WM,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Ob.initialize(e,t),this._defaultDrawingOptions=new IM,this._defaultDrawnSignatureOptions=new OM(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return qp(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!Qn(WM,this)}}static computeTelemetryFinalData(e){var t,n;const r=e.get("hasDescription");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(Qn(BM,this)){const{lines:e,mustSmooth:t,areContours:n,description:r,uuid:i,heightInPage:s}=Qn(BM,this),{rawDims:{pageWidth:a,pageHeight:o},rotation:l}=this.parent.viewport,c=_M.processDrawnLines({lines:e,pageWidth:a,pageHeight:o,rotation:l,innerMargin:UM._INNER_MARGIN,mustSmooth:t,areContours:n});this.addSignature(c,s,r,i)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){$n(zM,this,e),this.addEditToolbar()}getUuid(){return Qn(zM,this)}get description(){return Qn(WM,this)}set description(e){$n(WM,this,e),super.addEditToolbar().then((t=>{null===t||void 0===t||t.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:r,height:i}=Qn(BM,this),s=Math.max(r,i);return{areContours:t,outline:_M.processDrawnLines({lines:{curves:e.map((e=>({points:e}))),thickness:n,width:r,height:i},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&null!==Qn(WM,this)&&(await e.addEditSignatureButton(this._uiManager.signatureManager,Qn(zM,this),Qn(WM,this)),e.show()),e):null}addSignature(e,t,n,r){const{x:i,y:s}=this,{outline:a}=$n(BM,this,e);let o;$n(FM,this,a instanceof xM),$n(WM,this,n),this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),Qn(FM,this)?o=UM.getDefaultDrawingOptions():(o=UM._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:o});const[l,c]=this.parentDimensions,[,u]=this.pageDimensions;let d=t/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(l*this.width,c*this.height),this.x=i,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return _M.process(e,t,n,r,UM._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return _M.extractContoursFromText(e,t,n,r,i,UM._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return _M.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:UM._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(e){let{areContours:t,thickness:n}=e;t?this._drawingOptions=UM.getDefaultDrawingOptions():(this._drawingOptions=UM._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:t,points:n,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s={annotationType:mp.SIGNATURE,isSignature:!0,areContours:Qn(FM,this),color:[0,0,0],thickness:Qn(FM,this)?0:i,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(s.paths={lines:t,points:n},s.uuid=Qn(zM,this),s.isCopy=!0):s.lines=t,Qn(WM,this)&&(s.accessibilityData={type:"Figure",alt:Qn(WM,this)}),s}static deserializeDraw(e,t,n,r,i,s){return s.areContours?xM.deserialize(e,t,n,r,i,s):hM.deserialize(e,t,n,r,i,s)}static async deserialize(e,t,n){var r;const i=await super.deserialize(e,t,n);return $n(FM,i,e.areContours),$n(WM,i,(null===(r=e.accessibilityData)||void 0===r?void 0:r.alt)||""),$n(zM,i,e.uuid),i}}Ie(UM,"_type","signature"),Ie(UM,"_editorType",mp.SIGNATURE),Ie(UM,"_defaultDrawingOptions",null);var HM=new WeakMap,VM=new WeakMap,GM=new WeakMap,qM=new WeakMap,KM=new WeakMap,XM=new WeakMap,YM=new WeakMap,QM=new WeakMap,$M=new WeakMap,JM=new WeakMap,ZM=new WeakMap,eR=new WeakSet;class tR extends Ob{constructor(e){super(Fe(Fe({},e),{},{name:"stampEditor"})),np(this,eR),Xn(this,HM,null),Xn(this,VM,null),Xn(this,GM,null),Xn(this,qM,null),Xn(this,KM,null),Xn(this,XM,""),Xn(this,YM,null),Xn(this,QM,!1),Xn(this,$M,null),Xn(this,JM,!1),Xn(this,ZM,!1),$n(qM,this,e.bitmapUrl),$n(KM,this,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Ob.initialize(e,t)}static isHandlingMimeForPasting(e){return Tg.includes(e)}static paste(e,t){t.pasteEditor({mode:mp.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const r=e.get("hasAltText");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:i,height:s}=e||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:r,width:i,height:s,channels:r.length/(i*s)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;Qn(VM,this)&&($n(HM,this,null),this._uiManager.imageManager.deleteId(Qn(VM,this)),null===(e=Qn(YM,this))||void 0===e||e.remove(),$n(YM,this,null),Qn($M,this)&&(clearTimeout(Qn($M,this)),$n($M,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(Qn(VM,this)&&null===Qn(YM,this)&&Yn(eR,this,iR).call(this),this.isAttachedToDOM||this.parent.add(this))):Qn(VM,this)&&Yn(eR,this,iR).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(Qn(GM,this)||Qn(HM,this)||Qn(qM,this)||Qn(KM,this)||Qn(VM,this)||Qn(QM,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Qn(QM,this)||(Qn(HM,this)?Yn(eR,this,sR).call(this):Yn(eR,this,iR).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&($n(VM,this,n),r&&$n(HM,this,r),$n(QM,this,!1),Yn(eR,this,sR).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==Qn($M,this)&&clearTimeout(Qn($M,this));$n($M,this,setTimeout((()=>{$n($M,this,null),Yn(eR,this,oR).call(this)}),200))}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:r,height:i}=Qn(HM,this),s=new Ng;let a=Qn(HM,this),o=r,l=i,c=null;if(t){var u,d;if(r>t||i>t){const e=Math.min(t/r,t/i);o=Math.floor(r*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*s.sx),n=c.height=Math.ceil(l*s.sy);Qn(JM,this)||(a=Yn(eR,this,aR).call(this,e,n));const h=c.getContext("2d");h.filter=this._uiManager.hcmFilter;let f="white",p="#cfcfd8";"none"!==this._uiManager.hcmFilter?p="black":null!==(u=(d=window).matchMedia)&&void 0!==u&&u.call(d,"(prefers-color-scheme: dark)").matches&&(f="#8f8f9d",p="#42414d");const g=15,m=g*s.sx,v=g*s.sy,b=new OffscreenCanvas(2*m,2*v),y=b.getContext("2d");y.fillStyle=f,y.fillRect(0,0,2*m,2*v),y.fillStyle=p,y.fillRect(0,0,m,v),y.fillRect(m,v,m,v),h.fillStyle=h.createPattern(b,"repeat"),h.fillRect(0,0,e,n),h.drawImage(a,0,0,a.width,a.height,0,0,e,n)}let h=null;if(n){let t,n;if(s.symmetric&&a.width<e&&a.height<e)t=a.width,n=a.height;else if(a=Qn(HM,this),r>e||i>e){const s=Math.min(e/r,e/i);t=Math.floor(r*s),n=Math.floor(i*s),Qn(JM,this)||(a=Yn(eR,this,aR).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,t,n),h={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:h}}static async deserialize(e,t,n){let r=null,i=!1;if(e instanceof qk){var s;const{data:{rect:a,rotation:o,id:l,structParent:c,popupRef:u},container:d,parent:{page:{pageNumber:h}},canvas:f}=e;let p,g;f?(delete e.canvas,({id:p,bitmap:g}=n.imageManager.getFromCanvas(d.id,f)),f.remove()):(i=!0,e._hasNoCanvas=!0);const m=(null===(s=await t._structTree.getAriaAttributes("".concat(ug).concat(l)))||void 0===s?void 0:s.get("aria-label"))||"";r=e={annotationType:mp.STAMP,bitmapId:p,bitmap:g,pageIndex:h-1,rect:a.slice(0),rotation:o,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:m},isSvg:!1,structParent:c,popupRef:u}}const a=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:d,accessibilityData:h}=e;i?(n.addMissingCanvas(e.id,a),$n(QM,a,!0)):u&&n.imageManager.isValidId(u)?($n(VM,a,u),l&&$n(HM,a,l)):$n(qM,a,c),$n(JM,a,d);const[f,p]=a.pageDimensions;return a.width=(o[2]-o[0])/f,a.height=(o[3]-o[1])/p,a.annotationElementId=e.id||null,h&&(a.altTextData=h),a._initialData=r,$n(ZM,a,!!r),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:mp.STAMP,bitmapId:Qn(VM,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Qn(JM,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=Yn(eR,this,lR).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:i}=this.serializeAltText(!1);if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=Yn(eR,this,cR).call(this,n);if(e.isSame)return null;var s;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(s=this._initialData.structParent)&&void 0!==s?s:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const a=Qn(JM,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(Qn(VM,this))){if(Qn(JM,this)){const e=t.stamps.get(Qn(VM,this));a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=Yn(eR,this,lR).call(this,!1))}}else t.stamps.set(Qn(VM,this),{area:a,serialized:n}),n.bitmap=Yn(eR,this,lR).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}function nR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?($n(HM,this,e.bitmap),t||($n(VM,this,e.id),$n(JM,this,e.isSvg)),e.file&&$n(XM,this,e.file.name),Yn(eR,this,sR).call(this)):this.remove()}function rR(){if($n(GM,this,null),this._uiManager.enableWaiting(!1),Qn(YM,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Qn(HM,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Qn(HM,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function iR(){if(Qn(VM,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(Qn(VM,this)).then((e=>Yn(eR,this,nR).call(this,e,!0))).finally((()=>Yn(eR,this,rR).call(this)));if(Qn(qM,this)){const e=Qn(qM,this);return $n(qM,this,null),this._uiManager.enableWaiting(!0),void $n(GM,this,this._uiManager.imageManager.getFromUrl(e).then((e=>Yn(eR,this,nR).call(this,e))).finally((()=>Yn(eR,this,rR).call(this))))}if(Qn(KM,this)){const e=Qn(KM,this);return $n(KM,this,null),this._uiManager.enableWaiting(!0),void $n(GM,this,this._uiManager.imageManager.getFromFile(e).then((e=>Yn(eR,this,nR).call(this,e))).finally((()=>Yn(eR,this,rR).call(this))))}const e=document.createElement("input");e.type="file",e.accept=Tg.join(",");const t=this._uiManager._signal;$n(GM,this,new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Yn(eR,this,nR).call(this,t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>Yn(eR,this,rR).call(this)))),e.click()}function sR(){var e;const{div:t}=this;let{width:n,height:r}=Qn(HM,this);const[i,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>a*i||r>a*s){const e=Math.min(a*i/n,a*s/r);n*=e,r*=e}const[o,l]=this.parentDimensions;this.setDims(n*o/i,r*l/s),this._uiManager.enableWaiting(!1);const c=$n(YM,this,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/i,this.height=r/s,null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),Yn(eR,this,oR).call(this),Qn(ZM,this)||(this.parent.addUndoableEditor(this),$n(ZM,this,!0)),this._reportTelemetry({action:"inserted_image"}),Qn(XM,this)&&this.div.setAttribute("aria-description",Qn(XM,this))}function aR(e,t){const{width:n,height:r}=Qn(HM,this);let i=n,s=r,a=Qn(HM,this);for(;i>2*e||s>2*t;){const n=i,r=s;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(i,s);o.getContext("2d").drawImage(a,0,0,n,r,0,0,i,s),a=o.transferToImageBitmap()}return a}function oR(){const[e,t]=this.parentDimensions,{width:n,height:r}=this,i=new Ng,s=Math.ceil(n*e*i.sx),a=Math.ceil(r*t*i.sy),o=Qn(YM,this);if(!o||o.width===s&&o.height===a)return;o.width=s,o.height=a;const l=Qn(JM,this)?Qn(HM,this):Yn(eR,this,aR).call(this,s,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,a)}function lR(e){if(e){if(Qn(JM,this)){const e=this._uiManager.imageManager.getSvgUrl(Qn(VM,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=Qn(HM,this));return e.getContext("2d").drawImage(Qn(HM,this),0,0),e.toDataURL()}if(Qn(JM,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*pg.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*pg.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(Qn(HM,this),0,0,Qn(HM,this).width,Qn(HM,this).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(Qn(HM,this))}function cR(e){var t;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,s=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}Ie(tR,"_type","stamp"),Ie(tR,"_editorType",mp.STAMP);var uR=new WeakMap,dR=new WeakMap,hR=new WeakMap,fR=new WeakMap,pR=new WeakMap,gR=new WeakMap,mR=new WeakMap,vR=new WeakMap,bR=new WeakMap,yR=new WeakMap,wR=new WeakMap,xR=new WeakMap,_R=new WeakMap,SR=new WeakMap,kR=new WeakSet;class AR{constructor(e){let{uiManager:t,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}=e;np(this,kR),Xn(this,uR,void 0),Xn(this,dR,!1),Xn(this,hR,null),Xn(this,fR,null),Xn(this,pR,null),Xn(this,gR,new Map),Xn(this,mR,!1),Xn(this,vR,!1),Xn(this,bR,!1),Xn(this,yR,null),Xn(this,wR,null),Xn(this,xR,null),Xn(this,_R,null),Xn(this,SR,void 0);const d=[...TR._.values()];if(!AR._initialized){AR._initialized=!0;for(const e of d)e.initialize(u,t)}t.registerEditorTypes(d),$n(SR,this,t),this.pageIndex=n,this.div=r,$n(uR,this,s),$n(hR,this,a),this.viewport=c,$n(xR,this,l),this.drawLayer=o,this._structTree=i,Qn(SR,this).addLayer(this)}get isEmpty(){return 0===Qn(gR,this).size}get isInvisible(){return this.isEmpty&&Qn(SR,this).getMode()===mp.NONE}updateToolbar(e){Qn(SR,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn(SR,this).getMode();switch(Yn(kR,this,NR).call(this),e){case mp.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case mp.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case mp.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of TR._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=Qn(xR,this))||void 0===t?void 0:t.div)}setEditingState(e){Qn(SR,this).setEditingState(e)}addCommands(e){Qn(SR,this).addCommands(e)}cleanUndoStack(e){Qn(SR,this).cleanUndoStack(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=Qn(hR,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){$n(bR,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of Qn(gR,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(Qn(SR,this).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!Qn(hR,this))return void $n(bR,this,!1);const t=Qn(hR,this).getEditableAnnotations();for(const n of t){if(n.hide(),Qn(SR,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}$n(bR,this,!1)}disable(){$n(vR,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of Qn(gR,this).values()){var n;i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),null===(n=this.getEditableAnnotation(i.annotationElementId))||void 0===n||n.show(),i.remove()):e.set(i.annotationElementId,i))}if(Qn(hR,this)){const n=Qn(hR,this).getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(Qn(SR,this).isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=e.get(n),i&&(Qn(SR,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(r)&&i.show(!1)),r.show())}}Yn(kR,this,NR).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of TR._.values())r.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$n(vR,this,!1)}getEditableAnnotation(e){var t;return(null===(t=Qn(hR,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){Qn(SR,this).getActive()!==e&&Qn(SR,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=Qn(xR,this))&&void 0!==e&&e.div&&!Qn(_R,this)){$n(_R,this,new AbortController);const e=Qn(SR,this).combinedSignal(Qn(_R,this));Qn(xR,this).div.addEventListener("pointerdown",Yn(kR,this,ER).bind(this),{signal:e}),Qn(xR,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=Qn(xR,this))&&void 0!==e&&e.div&&Qn(_R,this)&&(Qn(_R,this).abort(),$n(_R,this,null),Qn(xR,this).div.classList.remove("highlighting"))}enableClick(){if(Qn(fR,this))return;$n(fR,this,new AbortController);const e=Qn(SR,this).combinedSignal(Qn(fR,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null===(e=Qn(fR,this))||void 0===e||e.abort(),$n(fR,this,null)}attach(e){Qn(gR,this).set(e.id,e);const{annotationElementId:t}=e;t&&Qn(SR,this).isDeletedAnnotationElement(t)&&Qn(SR,this).removeDeletedAnnotationElement(e)}detach(e){var t;Qn(gR,this).delete(e.id),null===(t=Qn(uR,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!Qn(vR,this)&&e.annotationElementId&&Qn(SR,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),Qn(SR,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(Qn(SR,this).addDeletedAnnotationElement(e.annotationElementId),Ob.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),Qn(SR,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!Qn(bR,this)),Qn(SR,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!Qn(pR,this)&&(e._focusEventsAllowed=!1,$n(pR,this,setTimeout((()=>{$n(pR,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:Qn(SR,this)._signal}),n.focus())}),0))),e._structTreeParentId=null===(t=Qn(uR,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return Qn(SR,this).getId()}combinedSignal(e){return Qn(SR,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=rp(kR,this,CR))||void 0===e?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await Qn(SR,this).updateMode(e.mode);const{offsetX:n,offsetY:r}=Yn(kR,this,RR).call(this),i=this.getNextId(),s=Yn(kR,this,MR).call(this,Fe({parent:this,id:i,x:n,y:r,uiManager:Qn(SR,this),isCentered:!0},t));s&&this.add(s)}async deserialize(e){var t,n;return await(null===(t=TR._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,Qn(SR,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=Yn(kR,this,MR).call(this,Fe({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:Qn(SR,this),isCentered:t},n));return i&&this.add(i),i}addNewEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(Yn(kR,this,RR).call(this),!0,e)}setSelected(e){Qn(SR,this).setSelected(e)}toggleSelected(e){Qn(SR,this).toggleSelected(e)}unselect(e){Qn(SR,this).unselect(e)}pointerup(e){var t;const{isMac:n}=ng.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(!Qn(mR,this))return;if($n(mR,this,!1),null!==(t=rp(kR,this,CR))&&void 0!==t&&t.isDrawer&&rp(kR,this,CR).supportMultipleDrawings)return;if(!Qn(dR,this))return void $n(dR,this,!0);const r=Qn(SR,this).getMode();r!==mp.STAMP&&r!==mp.SIGNATURE?this.createAndAddNewEditor(e,!1):Qn(SR,this).unselectAll()}pointerdown(e){var t;if(Qn(SR,this).getMode()===mp.HIGHLIGHT&&this.enableTextSelection(),Qn(mR,this))return void $n(mR,this,!1);const{isMac:n}=ng.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if($n(mR,this,!0),null!==(t=rp(kR,this,CR))&&void 0!==t&&t.isDrawer)return void this.startDrawingSession(e);const r=Qn(SR,this).getActive();$n(dR,this,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),Qn(yR,this))return void rp(kR,this,CR).startDrawing(this,Qn(SR,this),!1,e);Qn(SR,this).setCurrentDrawingSession(this),$n(yR,this,new AbortController);const t=Qn(SR,this).combinedSignal(Qn(yR,this));this.div.addEventListener("blur",(e=>{let{relatedTarget:t}=e;t&&!this.div.contains(t)&&($n(wR,this,null),this.commitOrRemove())}),{signal:t}),rp(kR,this,CR).startDrawing(this,Qn(SR,this),!1,e)}pause(e){if(e){const{activeElement:e}=document;this.div.contains(e)&&$n(wR,this,e)}else Qn(wR,this)&&setTimeout((()=>{var e;null===(e=Qn(wR,this))||void 0===e||e.focus(),$n(wR,this,null)}),0)}endDrawingSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Qn(yR,this)?(Qn(SR,this).setCurrentDrawingSession(null),Qn(yR,this).abort(),$n(yR,this,null),$n(wR,this,null),rp(kR,this,CR).endDrawing(e)):null}findNewParent(e,t,n){const r=Qn(SR,this).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}commitOrRemove(){return!!Qn(yR,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){Qn(yR,this)&&rp(kR,this,CR).onScaleChangingWhenDrawing(this)}destroy(){var e;this.commitOrRemove(),(null===(e=Qn(SR,this).getActive())||void 0===e?void 0:e.parent)===this&&(Qn(SR,this).commitOrRemove(),Qn(SR,this).setActiveEditor(null)),Qn(pR,this)&&(clearTimeout(Qn(pR,this)),$n(pR,this,null));for(const n of Qn(gR,this).values()){var t;null===(t=Qn(uR,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,Qn(gR,this).clear(),Qn(SR,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,Rg(this.div,t);for(const n of Qn(SR,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;Qn(SR,this).commitOrRemove(),Yn(kR,this,NR).call(this);const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Rg(this.div,{rotation:r}),n!==r)for(const i of Qn(gR,this).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return Qn(SR,this).viewParameters.realScale}}function ER(e){Qn(SR,this).unselectAll();const{target:t}=e;if(t===Qn(xR,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&Qn(xR,this).div.contains(t)){const{isMac:t}=ng.platform;if(0!==e.button||e.ctrlKey&&t)return;Qn(SR,this).showAllEditors("highlight",!0,!0),Qn(xR,this).div.classList.add("free"),this.toggleDrawing(),iC.startHighlighting(this,"ltr"===Qn(SR,this).direction,{target:Qn(xR,this).div,x:e.x,y:e.y}),Qn(xR,this).div.addEventListener("pointerup",(()=>{Qn(xR,this).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:Qn(SR,this)._signal}),e.preventDefault()}}function CR(e){return TR._.get(Qn(SR,e).getMode())}function MR(e){const t=rp(kR,this,CR);return t?new t.prototype.constructor(e):null}function RR(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),s=Math.max(0,t),a=(i+Math.min(window.innerWidth,e+n))/2-e,o=(s+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function NR(){for(const e of Qn(gR,this).values())e.isEmpty()&&e.remove()}Ie(AR,"_initialized",!1);var TR={_:new Map([hA,yM,tR,iC,UM].map((e=>[e._editorType,e])))},PR=new WeakMap,LR=new WeakMap,DR=new WeakMap,jR=new WeakSet;class IR{constructor(e){let{pageIndex:t}=e;np(this,jR),Xn(this,PR,null),Xn(this,LR,new Map),Xn(this,DR,new Map),this.pageIndex=t}setParent(e){if(Qn(PR,this)){if(Qn(PR,this)!==e){if(Qn(LR,this).size>0)for(const t of Qn(LR,this).values())t.remove(),e.append(t);$n(PR,this,e)}}else $n(PR,this,e)}static get _svgFactory(){return qp(this,"_svgFactory",new AS)}draw(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=(zR._=(t=zR._,n=t++,t),n),a=Yn(jR,this,FR).call(this),o=IR._svgFactory.createElement("defs");a.append(o);const l=IR._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(s);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),r&&Qn(DR,this).set(s,l);const u=i?Yn(jR,this,WR).call(this,o,c):null,d=IR._svgFactory.createElement("use");return a.append(d),d.setAttribute("href","#".concat(c)),this.updateProperties(a,e),Qn(LR,this).set(s,a),{id:s,clipPathId:"url(#".concat(u,")")}}drawOutline(e,t){var n,r;const i=(zR._=(n=zR._,r=n++,n),r),s=Yn(jR,this,FR).call(this),a=IR._svgFactory.createElement("defs");s.append(a);const o=IR._svgFactory.createElement("path");a.append(o);const l="path_p".concat(this.pageIndex,"_").concat(i);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t){const e=IR._svgFactory.createElement("mask");a.append(e),c="mask_p".concat(this.pageIndex,"_").concat(i),e.setAttribute("id",c),e.setAttribute("maskUnits","objectBoundingBox");const t=IR._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=IR._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const u=IR._svgFactory.createElement("use");s.append(u),u.setAttribute("href","#".concat(l)),c&&u.setAttribute("mask","url(#".concat(c,")"));const d=u.cloneNode();return s.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,e),Qn(LR,this).set(i,s),i}finalizeDraw(e,t){Qn(DR,this).delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:r,rootClass:i,path:s}=t,a="number"===typeof e?Qn(LR,this).get(e):e;if(a){if(n&&Yn(jR,this,BR).call(this,a,n),r&&OR.call(IR,a,r),i){const{classList:e}=a;for(const[t,n]of Object.entries(i))e.toggle(t,n)}if(s){const e=a.firstChild.firstChild;Yn(jR,this,BR).call(this,e,s)}}}updateParent(e,t){if(t===this)return;const n=Qn(LR,this).get(e);n&&(Qn(PR,t).append(n),Qn(LR,this).delete(e),Qn(LR,t).set(e,n))}remove(e){Qn(DR,this).delete(e),null!==Qn(PR,this)&&(Qn(LR,this).get(e).remove(),Qn(LR,this).delete(e))}destroy(){$n(PR,this,null);for(const e of Qn(LR,this).values())e.remove();Qn(LR,this).clear(),Qn(DR,this).clear()}}function OR(e,t){let[n,r,i,s]=t;const{style:a}=e;a.top="".concat(100*r,"%"),a.left="".concat(100*n,"%"),a.width="".concat(100*i,"%"),a.height="".concat(100*s,"%")}function FR(){const e=Qf._svgFactory.create(1,1,!0);return Qn(PR,this).append(e),e.setAttribute("aria-hidden",!0),e}function WR(e,t){const n=Qf._svgFactory.createElement("clipPath");e.append(n);const r="clip_".concat(t);n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=Qf._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),r}function BR(e,t){for(const[n,r]of Object.entries(t))null===r?e.removeAttribute(n):e.setAttribute(n,r)}Qf=IR;var zR={_:0};globalThis._pdfjsTestingUtils={HighlightOutliner:lE},globalThis.pdfjsLib={AbortException:Zp,AnnotationEditorLayer:AR,AnnotationEditorParamsType:vp,AnnotationEditorType:mp,AnnotationEditorUIManager:uv,AnnotationLayer:nA,AnnotationMode:gp,AnnotationType:Ap,build:"47ad820d9",ColorPicker:TE,createValidAbsoluteUrl:Vp,DOMSVGFactory:AS,DrawLayer:IR,FeatureTest:ng,fetchData:gg,getDocument:D_,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(bg(e))return zp('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(s){}return i||t},getUuid:cg,getXfaPageViewport:function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:s}=e.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new mg({viewBox:a,userUnit:1,scale:n,rotation:r})},GlobalWorkerOptions:cx,ImageKind:kp,InvalidPDFException:Qp,isDataScheme:bg,isPdfFile:yg,isValidExplicitDest:_y,MathClamp:dg,noContextMenu:_g,normalizeUnicode:function(e){return og||(og=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,lg=new Map([["\ufb05","\u017ft"]])),e.replaceAll(og,((e,t,n)=>t?t.normalize("NFKC"):lg.get(n)))},OPS:Pp,OutputScale:Ng,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:U_,PDFDateString:kg,PDFWorker:Z_,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:pg,RenderingCancelledException:vg,ResponseException:$p,setLayerDimensions:Rg,shadow:qp,SignatureExtractor:_M,stopEvent:Sg,SupportedImageMimeTypes:Tg,TextLayer:w_,TouchManager:lb,updateUrlHash:Gp,Util:ig,VerbosityLevel:Tp,version:"5.3.31",XfaLayer:ES};const UR=(0,a.createContext)(null);function HR(e){let{children:t,type:n}=e;return(0,He.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:t})}class VR{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return jf(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){jf(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{jf(this.pdfDocument),jf(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{jf(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise((e=>{jf(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{jf(!1,'"'.concat(t,'" is not a valid page reference.'))})):"number"===typeof t?e(t):jf(!1,'"'.concat(t,'" is not a valid destination reference.'))})).then((t=>{const n=t+1;jf(this.pdfViewer),jf(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;jf(this.pdfViewer),jf(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const GR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},qR="undefined"!==typeof window,KR=qR&&"file:"===window.location.protocol;function XR(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function YR(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function QR(e){jf(YR(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function $R(){return qR&&window.devicePixelRatio||1}const JR="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ZR(){$f(!KR,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(JR))}function eN(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function tN(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function nN(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function rN(){return(0,a.useReducer)(nN,{value:void 0,error:void 0})}var iN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const{Tm:sN}=i,aN=(e,t)=>{switch(t){case GR.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case GR.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function oN(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const lN=(0,a.forwardRef)((function(e,t){var{children:n,className:r,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:f,onLoadError:p,onLoadProgress:g,onLoadSuccess:m,onPassword:v=aN,onSourceError:b,onSourceSuccess:y,options:w,renderMode:x,rotate:_,scale:S}=e,k=iN(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[A,E]=rN(),{value:C,error:M}=A,[R,N]=rN(),{value:T,error:P}=R,L=(0,a.useRef)(new VR),D=(0,a.useRef)([]),j=(0,a.useRef)(void 0),I=(0,a.useRef)(void 0);l&&l!==j.current&&oN(l)&&($f(!ep(l,j.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),j.current=l),w&&w!==I.current&&($f(!ep(w,I.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),I.current=w);const O=(0,a.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:r=n-1}=e;if(f)return void f({dest:t,pageIndex:r,pageNumber:n});const i=D.current[r];i?i.scrollIntoView():$f(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,a.useImperativeHandle)(t,(()=>({linkService:L,pages:D,viewer:O})),[]),(0,a.useEffect)((function(){E({type:"RESET"})}),[l,E]);const F=(0,a.useCallback)((async()=>{if(!l)return null;if("string"===typeof l){if(YR(l)){return{data:QR(l)}}return ZR(),{url:l}}if(l instanceof sN)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(qR&&function(e){return jf(qR),e instanceof Blob}(l)){const e=await function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));t(r.result)},r.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e)}))}(l);return{data:e}}if(jf("object"===typeof l),jf(oN(l)),"url"in l&&"string"===typeof l.url){if(YR(l.url)){const{url:e}=l,t=iN(l,["url"]),n=QR(e);return Object.assign({data:n},t)}ZR()}return l}),[l]);(0,a.useEffect)((()=>{const e=Lf(F());return e.promise.then((e=>{E({type:"RESOLVE",value:e})})).catch((e=>{E({type:"REJECT",error:e})})),()=>{eN(e)}}),[F,E]),(0,a.useEffect)((()=>{"undefined"!==typeof C&&(!1!==C?y&&y():M&&($f(!1,M.toString()),b&&b(M)))}),[C]),(0,a.useEffect)((function(){N({type:"RESET"})}),[N,C]),(0,a.useEffect)((function(){if(!C)return;const e=D_(w?Object.assign(Object.assign({},C),w):C);g&&(e.onProgress=g),v&&(e.onPassword=v);const t=e,n=t.promise.then((e=>{N({type:"RESOLVE",value:e})})).catch((e=>{t.destroyed||N({type:"REJECT",error:e})}));return()=>{n.finally((()=>t.destroy()))}}),[w,N,C]),(0,a.useEffect)((()=>{"undefined"!==typeof T&&(!1!==T?T&&(m&&m(T),D.current=new Array(T.numPages),L.current.setDocument(T)):P&&($f(!1,P.toString()),p&&p(P)))}),[T]),(0,a.useEffect)((function(){L.current.setViewer(O.current),L.current.setExternalLinkRel(s),L.current.setExternalLinkTarget(o)}),[s,o]);const W=(0,a.useCallback)(((e,t)=>{D.current[e]=t}),[]),B=(0,a.useCallback)((e=>{delete D.current[e]}),[]),z=(0,a.useMemo)((()=>({imageResourcesPath:u,linkService:L.current,onItemClick:f,pdf:T,registerPage:W,renderMode:x,rotate:_,scale:S,unregisterPage:B})),[u,f,T,W,x,_,S,B]),U=(0,a.useMemo)((()=>Pf(k,(()=>T))),[k,T]);return(0,He.jsx)("div",Object.assign({className:Ze("react-pdf__Document",r),ref:c},U,{children:l?void 0===T||null===T?(0,He.jsx)(HR,{type:"loading",children:"function"===typeof d?d():d}):!1===T?(0,He.jsx)(HR,{type:"error",children:"function"===typeof i?i():i}):(0,He.jsx)(UR.Provider,{value:z,children:n}):(0,He.jsx)(HR,{type:"no-data",children:"function"===typeof h?h():h})}))})),cN=lN;function uN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){for(var t=0,r=n;t<r.length;t++){var i=r[t];"function"===typeof i?i(e):i&&(i.current=e)}}}const dN=(0,a.createContext)(null),hN={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},fN=/^H(\d+)$/;function pN(e){return"children"in e}function gN(e){return!!pN(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function mN(e){const t={};if(pN(e)){const{role:n}=e,r=n.match(fN);if(r)t.role="heading",t["aria-level"]=Number(r[1]);else if(function(e){return e in hN}(n)){const e=hN[n];e&&(t.role=e)}}return t}function vN(e){const t={};if(pN(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),gN(e)){const[n]=e.children;if(n){const e=vN(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function bN(e){return e?Object.assign(Object.assign({},mN(e)),vN(e)):null}function yN(e){let{className:t,node:n}=e;const r=(0,a.useMemo)((()=>bN(n)),[n]),i=(0,a.useMemo)((()=>pN(n)?gN(n)?null:n.children.map(((e,t)=>(0,He.jsx)(yN,{node:e},t))):null),[n]);return(0,He.jsx)("span",Object.assign({className:t},r,{children:i}))}function wN(){return(0,a.useContext)(dN)}function xN(){const e=wN();jf(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[r,i]=rN(),{value:s,error:o}=r,{customTextRenderer:l,page:c}=e;return(0,a.useEffect)((function(){i({type:"RESET"})}),[i,c]),(0,a.useEffect)((function(){if(l)return;if(!c)return;const e=Lf(c.getStructTree()),t=e;return e.promise.then((e=>{i({type:"RESOLVE",value:e})})).catch((e=>{i({type:"REJECT",error:e})})),()=>eN(t)}),[l,c,i]),(0,a.useEffect)((()=>{void 0!==s&&(!1!==s?s&&n&&n(s):o&&($f(!1,o.toString()),t&&t(o)))}),[s]),s?(0,He.jsx)(yN,{className:"react-pdf__Page__structTree structTree",node:s}):null}const _N=gp;function SN(e){const t=wN();jf(t);const n=Object.assign(Object.assign({},t),e),{_className:r,canvasBackground:i,devicePixelRatio:s=$R(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=n,{canvasRef:p}=e;jf(c);const g=(0,a.useRef)(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||($f(!1,e.toString()),o&&o(e))}const v=(0,a.useMemo)((()=>c.getViewport({scale:f*s,rotation:h})),[s,c,h,f]),b=(0,a.useMemo)((()=>c.getViewport({scale:f,rotation:h})),[c,h,f]);(0,a.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width="".concat(Math.floor(b.width),"px"),e.style.height="".concat(Math.floor(b.height),"px"),e.style.visibility="hidden";const t={annotationMode:u?_N.ENABLE_FORMS:_N.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};i&&(t.background=i);const n=c.render(t),r=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(tN(c,f))})).catch(m),()=>eN(r)}),[i,c,u,v,b]);const y=(0,a.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[]);return(0,a.useEffect)((()=>y),[y]),(0,He.jsx)("canvas",{className:"".concat(r,"__canvas"),dir:"ltr",ref:uN(p,g),style:{display:"block",userSelect:"none"},children:d?(0,He.jsx)(xN,{}):null})}function kN(){const e=wN();jf(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=e;jf(o);const[h,f]=rN(),{value:p,error:g}=h,m=(0,a.useRef)(null);$f(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,a.useEffect)((function(){f({type:"RESET"})}),[o,f]),(0,a.useEffect)((function(){if(!o)return;const e=Lf(o.getTextContent()),t=e;return e.promise.then((e=>{f({type:"RESOLVE",value:e})})).catch((e=>{f({type:"REJECT",error:e})})),()=>eN(t)}),[o,f]),(0,a.useEffect)((()=>{void 0!==p&&(!1!==p?p&&r&&r(p):g&&($f(!1,g.toString()),n&&n(g)))}),[p]);const v=(0,a.useCallback)((()=>{s&&s()}),[s]),b=(0,a.useCallback)((e=>{$f(!1,e.toString()),i&&i(e)}),[i]);const y=(0,a.useMemo)((()=>o.getViewport({scale:d,rotation:u})),[o,u,d]);return(0,a.useLayoutEffect)((function(){if(!o||!p)return;const{current:e}=m;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),r=new w_({container:e,textContentSource:n,viewport:y}),i=r;return r.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const r=e.querySelectorAll('[role="presentation"]');if(t){let e=0;p.items.forEach(((n,i)=>{if(!function(e){return"str"in e}(n))return;const s=r[e];if(!s)return;const a=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:i},n));s.innerHTML=a,e+=n.str&&n.hasEOL?2:1}))}v()})).catch(b),()=>eN(i)}),[t,b,v,o,l,c,p,y]),(0,He.jsx)("div",{className:Ze("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=m.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=m.current;e&&e.classList.add("selecting")},ref:m})}function AN(){return(0,a.useContext)(UR)}function EN(){const e=AN(),t=wN();jf(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=n;jf(d),jf(u),jf(i);const[g,m]=rN(),{value:v,error:b}=g,y=(0,a.useRef)(null);$f(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,a.useEffect)((function(){m({type:"RESET"})}),[m,u]),(0,a.useEffect)((function(){if(!u)return;const e=Lf(u.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{eN(t)}}),[m,u]),(0,a.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):b&&($f(!1,b.toString()),s&&s(b)))}),[v]);const w=(0,a.useMemo)((()=>u.getViewport({scale:p,rotation:f})),[u,f,p]);return(0,a.useEffect)((function(){if(!d||!u||!i||!v)return;const{current:e}=y;if(!e)return;const t=w.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:u,structTreeLayer:null,viewport:t},s={annotations:v,annotationStorage:d.annotationStorage,div:e,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:t};e.innerHTML="";try{new nA(n).render(s),c&&c()}catch(a){!function(e){$f(!1,"".concat(e)),l&&l(e)}(a)}return()=>{}}),[v,r,i,u,d,h,w]),(0,He.jsx)("div",{className:Ze("react-pdf__Page__annotations","annotationLayer"),ref:y})}var CN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const MN=1;function RN(e){const t=AN(),n=Object.assign(Object.assign({},t),e),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:x,onGetTextError:_,onGetTextSuccess:S,onLoadError:k,onLoadSuccess:A,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:C,onRenderError:M,onRenderSuccess:R,onRenderTextLayerError:N,onRenderTextLayerSuccess:T,pageIndex:P,pageNumber:L,pdf:D,registerPage:j,renderAnnotationLayer:I=!0,renderForms:O=!1,renderMode:F="canvas",renderTextLayer:W=!0,rotate:B,scale:z=MN,unregisterPage:U,width:H}=n,V=CN(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[G,q]=rN(),{value:K,error:X}=G,Y=(0,a.useRef)(null);jf(D);const Q=XR(L)?L-1:null!==P&&void 0!==P?P:null,$=null!==L&&void 0!==L?L:XR(P)?P+1:null,J=null!==B&&void 0!==B?B:K?K.rotate:null,Z=(0,a.useMemo)((()=>{if(!K)return null;let e=1;const t=null!==z&&void 0!==z?z:MN;if(H||p){const t=K.getViewport({scale:1,rotation:J});H?e=H/t.width:p&&(e=p/t.height)}return t*e}),[p,K,J,z,H]);(0,a.useEffect)((function(){return()=>{XR(Q)&&i&&U&&U(Q)}}),[i,D,Q,U]),(0,a.useEffect)((function(){q({type:"RESET"})}),[q,D,Q]),(0,a.useEffect)((function(){if(!D||!$)return;const e=Lf(D.getPage($)),t=e;return e.promise.then((e=>{q({type:"RESOLVE",value:e})})).catch((e=>{q({type:"REJECT",error:e})})),()=>eN(t)}),[q,D,$]),(0,a.useEffect)((()=>{void 0!==K&&(!1!==K?function(){if(A){if(!K||!Z)return;A(tN(K,Z))}if(i&&j){if(!XR(Q)||!Y.current)return;j(Q,Y.current)}}():X&&($f(!1,X.toString()),k&&k(X)))}),[K,Z]);const ee=(0,a.useMemo)((()=>K&&XR(Q)&&$&&XR(J)&&XR(Z)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:x,onGetTextError:_,onGetTextSuccess:S,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:C,onRenderError:M,onRenderSuccess:R,onRenderTextLayerError:N,onRenderTextLayerSuccess:T,page:K,pageIndex:Q,pageNumber:$,renderForms:O,renderTextLayer:W,rotate:J,scale:Z}:null),[r,s,d,h,b,y,w,x,_,S,E,C,M,R,N,T,K,Q,$,O,W,J,Z]),te=(0,a.useMemo)((()=>Pf(V,(()=>K?Z?tN(K,Z):void 0:K))),[V,K,Z]),ne="".concat(Q,"@").concat(Z,"/").concat(J);function re(){switch(F){case"custom":return jf(u),(0,He.jsx)(u,{},"".concat(ne,"_custom"));case"none":return null;default:return(0,He.jsx)(SN,{canvasRef:o},"".concat(ne,"_canvas"))}}return(0,He.jsx)("div",Object.assign({className:Ze(r,c),"data-page-number":$,ref:uN(g,Y),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":"".concat(Z),"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:$?null===D||void 0===K||null===K?(0,He.jsx)(HR,{type:"loading",children:"function"===typeof m?m():m}):!1===D||!1===K?(0,He.jsx)(HR,{type:"error",children:"function"===typeof f?f():f}):(0,He.jsxs)(dN.Provider,{value:ee,children:[re(),W?(0,He.jsx)(kN,{},"".concat(ne,"_text")):null,I?(0,He.jsx)(EN,{},"".concat(ne,"_annotations")):null,l]}):(0,He.jsx)(HR,{type:"no-data",children:"function"===typeof v?v():v})}))}function NN(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(""),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(1),[d,h]=(0,a.useState)({width:0,height:0}),[f,p]=(0,a.useState)([]),[g,m]=(0,a.useState)(null),[v,b]=(0,a.useState)(!1),[y,w]=(0,a.useState)({}),[x,_]=(0,a.useState)(0),S=ne(),k=(0,a.useRef)(1),A=(0,a.useRef)(),E=ee(),{id:C,title:M}=E.state||{};if((0,a.useEffect)((()=>{let e=!0;(async()=>{try{const n=await Oh.get("".concat("http://localhost:8000","/documents/blob/").concat(C),{headers:{"x-access-token":localStorage.getItem("token")},responseType:"blob"});e&&t(URL.createObjectURL(n.data))}catch(UN){e&&r("Gagal dalam load dokumen. ".concat(UN.message))}finally{e&&s(!1)}})();return(async()=>{try{const e=await Oh.get("".concat("http://localhost:8000","/users"),{headers:{"x-access-token":localStorage.getItem("token")}});m(e.data)}catch(UN){var e,t;r("Error dalam mendapatkan semua user. ".concat(null===(e=UN.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}})(),()=>{e=!1}}),[C]),i)return(0,He.jsx)("p",{className:"p-4",children:"Loading documents..."});if(n)return(0,He.jsx)("p",{className:"p-4 text-red-500",children:n});return(0,He.jsxs)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:[(0,He.jsx)("div",{className:"flex flex-col gap-6",children:(0,He.jsxs)("div",{className:"space-y-2",children:[(0,He.jsx)("h2",{className:"text-lg font-bold",children:"Tempatkan Letak Tanda Tangan"}),(0,He.jsx)("p",{className:"text-muted-foreground",children:(0,He.jsx)("em",{children:M})}),(0,He.jsxs)("div",{className:"flex gap-6 justify-end",children:[x>0&&(0,He.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>b(!0),children:"Pilih Penerima"}),(0,He.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:async()=>{if(0===f.length||Object.keys(y).length<1)return void alert("Letakkan tempat tanda tangan dan pilih penerima sebelum mengirim.");Object.keys(y).length!==x&&alert("Tidak cocok! Jumlah penerima: ".concat(Object.keys(y).length,". Jumlah ttd: ").concat(x));const e=new Date,t=[];for(const r in y){const n=f.filter((e=>e.count===1*r));t.push({urutan:1*r+1,user:y[r],dateSent:e,pointer:n[0]})}try{await Oh.put("http://localhost:8000"+"/documents/".concat(C),{data:t},{headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}),S("/draft")}catch(UN){var n,i;r("Gagal mengirim file: ".concat(null===(n=UN.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message))}},children:"Kirim"})]}),(0,He.jsx)("div",{className:"inline-block mr-16 opacity-0",children:"foo bar buz ........."}),e&&(0,He.jsxs)("div",{ref:A,className:"relative border inline-block",onDragOver:e=>e.preventDefault(),onDrop:function(e){e.preventDefault();const t=A.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,i=d.width/t.width,s=d.height/t.height,a=n*i,o=(t.height-r)*s;_(x+1);const l={page:c,x:a,y:o,width:120,height:50,count:x,number:k.current++};p([...f,l])},style:{minHeight:400},children:[(0,He.jsx)(cN,{file:e,onLoadSuccess:function(e){let{numPages:t}=e;l(t)},children:(0,He.jsx)(RN,{pageNumber:c,onRenderSuccess:function(e){const t=e.getViewport({scale:1});h({width:t.width,height:t.height})},renderAnnotationLayer:!1,renderTextLayer:!1})}),f&&f.map(((e,t)=>e.page===c?(0,He.jsxs)("div",{className:"absolute border-2 border-blue-500 bg-blue-200 bg-opacity-25 text-blue-700 flex justify-center items-center",style:{left:"".concat(e.x/d.width*100,"%"),top:"".concat((d.height-e.y)/d.height*100,"%"),width:"".concat(e.width/d.width*100,"%"),height:"".concat(e.height/d.height*100,"%"),position:"absolute"},children:["TTD Disini ",e.number]}):null))]}),(0,He.jsxs)("div",{className:"flex justify-between",children:[(0,He.jsx)("div",{}),(0,He.jsxs)("div",{className:"flex space-x-2 p-2",children:[(0,He.jsx)("button",{disabled:c<=1,onClick:()=>u((e=>e-1)),children:"\u2b05\ufe0f"}),(0,He.jsxs)("span",{children:["Halaman ",c," / ",o]}),(0,He.jsx)("button",{disabled:c>=o,onClick:()=>u((e=>e+1)),children:"\u27a1\ufe0f"})]}),(0,He.jsxs)("div",{className:"flex gap-1",children:[f&&(0,He.jsx)("div",{className:"bg-red-600 text-white cursor-grab rounded p-2",onClick:function(){_(0),p([]),w({}),k.current=1},children:"\ud83e\uddf9 Clear"}),(0,He.jsx)("div",{className:"bg-blue-600 text-white cursor-grab rounded p-2",draggable:!0,onDragStart:e=>e.dataTransfer.setData("text/plain","signature-pointer"),children:"\ud83d\udd8b\ufe0f Drag ke PDF"})]})]})]})}),v&&(0,He.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 text-black",children:(0,He.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-md space-y-4",children:[(0,He.jsx)("h3",{className:"text-lg font-semibold",children:"Pilih Penerima dan Tentukan Urutan"}),(0,He.jsxs)("span",{children:["Jumlah tanda tangan: ",x]}),(0,He.jsx)("div",{className:"max-h-800 overflow-y-auto space-y-2",children:x&&[...Array(x)].map(((e,t)=>(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsxs)("label",{className:"mb-1 font-medium",children:["Pilih urutan ke ",t+1,":"]}),(0,He.jsxs)("select",{onChange:e=>y[t]=e.target.value,defaultValue:y[t]&&y[t],required:!0,className:"w-full rounded px-3 py-2 mb-2",children:[(0,He.jsx)("option",{value:"",children:"Pilih Penerima"}),g&&g.rows.map((e=>(0,He.jsx)("option",{value:e._id,children:"".concat(e.username," (").concat(e.email,", ").concat(e.division,")")},e._id)))]})]})))}),(0,He.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,He.jsx)("button",{onClick:()=>b(!1),className:"px-3 py-1 bg-gray-200 rounded",children:"Batal"}),(0,He.jsx)("button",{onClick:()=>{b(!1)},className:"px-3 py-1 bg-blue-600 rounded text-white",children:"Konfirmasi"})]})]})})]})}function TN(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(""),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(1),[d,h]=(0,a.useState)({width:0,height:0}),[f,p]=(0,a.useState)([]),[g,m]=(0,a.useState)(""),v=ne(),b=ee(),{id:y,title:w,signing:x}=b.state||{};if((0,a.useEffect)((()=>{let e=!0;return(async()=>{try{const n=await Oh.get("".concat("http://localhost:8000","/documents/blob/").concat(y),{headers:{"x-access-token":localStorage.getItem("token")},responseType:"blob"});if("x-meta-info"in n.headers){if(e){const e=JSON.parse(n.headers.get("X-Meta-Info"));m(e.message.current),p(e.message.data)}t(URL.createObjectURL(n.data))}}catch(UN){e&&r("Failed to load documents. ".concat(UN.message))}finally{e&&s(!1)}})(),()=>{e=!1}}),[y]),i)return(0,He.jsx)("p",{className:"p-4",children:"Loading documents..."});if(n)return(0,He.jsx)("p",{className:"p-4 text-red-500",children:n});return(0,He.jsx)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:(0,He.jsx)("div",{className:"flex flex-col gap-6",children:(0,He.jsxs)("div",{className:"space-y-2",children:[(0,He.jsxs)("h2",{className:"text-lg font-bold",children:[x?"Tanda Tangan":"Lihat"," Dokumen"]}),(0,He.jsx)("p",{className:"text-muted-foreground",children:(0,He.jsx)("em",{children:w})}),(0,He.jsx)("div",{className:"flex gap-6 justify-end",children:x&&(0,He.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>(async e=>{try{await Oh.get("".concat("http://localhost:8000","/documents/sign/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")}}),alert("Tanda tangan dokumen BERHASIL!"),v("/completed")}catch(UN){alert("Tanda tangan dokumen GAGAL! ".concat(UN.response.data.message))}})(y),children:"Tanda Tangan"})}),(0,He.jsx)("div",{className:"inline-block mr-16 opacity-0",children:"foo bar buz ........."}),(0,He.jsxs)("div",{className:"relative border inline-block",children:[(0,He.jsx)(cN,{file:e,onLoadSuccess:function(e){let{numPages:t}=e;l(t)},children:(0,He.jsx)(RN,{pageNumber:c,onRenderSuccess:function(e){const t=e.getViewport({scale:1});h({width:t.width,height:t.height})},renderAnnotationLayer:!1,renderTextLayer:!1})}),f&&f.map(((e,t)=>e.pointer.page!==c||e.user!==localStorage.getItem("id")||e.urutan!==g||e.signed?null:(0,He.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-200 bg-opacity-25 text-blue-700 flex justify-center items-center",style:{left:"".concat(e.pointer.x/d.width*100,"%"),top:"".concat((d.height-e.pointer.y)/d.height*100,"%"),width:"".concat(e.pointer.width/d.width*100,"%"),height:"".concat(e.pointer.height/d.height*100,"%"),position:"absolute"},children:"TTD Disini"},t)))]}),(0,He.jsxs)("div",{className:"flex justify-between",children:[(0,He.jsx)("div",{}),(0,He.jsxs)("div",{className:"flex space-x-2 p-2",children:[(0,He.jsx)("button",{disabled:c<=1,onClick:()=>u((e=>e-1)),children:"\u2b05\ufe0f"}),(0,He.jsxs)("span",{children:["Halaman ",c," / ",o]}),(0,He.jsx)("button",{disabled:c>=o,onClick:()=>u((e=>e+1)),children:"\u27a1\ufe0f"})]})]})]})})})}function PN(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(""),[i,s]=(0,a.useState)({username:localStorage.getItem("username"),email:localStorage.getItem("email"),role:localStorage.getItem("role"),division:localStorage.getItem("division"),newPassword:""}),o=ne(),l=async()=>{try{const e=await Oh.get("http://localhost:8000"+"/signature/".concat(localStorage.getItem("id")),{headers:{"x-access-token":localStorage.getItem("token")},responseType:"blob"}),t=URL.createObjectURL(e.data);r(t)}catch(UN){}};(0,a.useEffect)((()=>{l()}),[]);const c=e=>{s(Fe(Fe({},i),{},{[e.target.name]:e.target.value}))};return(0,He.jsxs)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile"}),(0,He.jsx)("p",{className:"text-muted-foreground mb-4",children:"Profil mengenai dirimu."}),(0,He.jsx)("h2",{className:"text-lg font-bold",children:"Tanda tanganmu:"}),(0,He.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start mx-auto mb-4",children:[n?(0,He.jsx)("img",{alt:"user signature",src:n,className:"bg-white p-2 rounded"}):(0,He.jsx)("span",{children:(0,He.jsx)("em",{children:"Gambar tanda tangan tidak ditemukan. Coba upload gambar tanda tanganmu."})}),(0,He.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e)return void alert("Please fill in all fields");const n=new FormData;n.append("signature",e);try{await Oh.post("http://localhost:8000/signature",n,{headers:{"Content-Type":"multipart/form-data","x-access-token":localStorage.getItem("token")}}),alert("Upload tanda tangan berhasil!"),await l()}catch(UN){var r,i;alert("Upload signature failed: ".concat(null===(r=UN.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message))}},className:"flex-1",children:[(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsx)("label",{className:"block mb-1 font-medium",children:"Upload gambar tanda tangan (jpg, png):"}),(0,He.jsx)("input",{type:"file",accept:".jpg,.png",onChange:e=>t(e.target.files[0]),required:!0,className:"block w-full border border-gray-300 rounded px-3 py-2"})]}),(0,He.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",children:"Upload"})]})]}),(0,He.jsx)("div",{className:"w-full rounded-lg shadow-md mt-8",children:(0,He.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Oh.put("http://localhost:8000"+"/users/".concat(localStorage.getItem("id")),{data:i},{headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}});localStorage.setItem("username",e.data.username),localStorage.setItem("id",e.data.id),localStorage.setItem("email",e.data.email),localStorage.setItem("role",e.data.role),localStorage.setItem("division",e.data.division),alert("Update sukses!"),o("/dashboard")}catch(UN){var t,n;alert("Update gagal. ".concat(null===(t=UN.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message))}},className:"grid grid-cols-2 gap-4",children:[(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Username"}),(0,He.jsx)("input",{type:"text",name:"username",placeholder:"Masukan username baru",value:i.username,onChange:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Email"}),(0,He.jsx)("input",{type:"email",name:"email",placeholder:"Masukan email baru",readOnly:!0,disabled:!0,value:i.email,onChange:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Role"}),(0,He.jsx)("input",{type:"text",name:"role",placeholder:"Masukan role baru",readOnly:!0,disabled:!0,value:i.role,onChange:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Division"}),(0,He.jsx)("input",{type:"text",name:"division",value:i.division,readOnly:!0,disabled:!0,placeholder:"Masukan division baru",onChange:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"New Password"}),(0,He.jsx)("input",{type:"text",name:"newPassword",value:i.newPassword,placeholder:"Masukan password baru",onChange:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-4 px-4 rounded-md hover:bg-indigo-700 transition col-span-full",children:"Simpan Perubahan"})]})})]})}const LN=an("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),DN=["MKT","FIN","CHC","PROD","OPS","ITINFRA","LGL","DIR","ADMIN"];function jN(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0),[i,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)({username:"",email:"",division:"",role:"",password:""}),d=ne(),h=async()=>{try{const e=await Oh.get("".concat("http://localhost:8000","/users"),{headers:{"x-access-token":localStorage.getItem("token")}});t(e.data)}catch(UN){var e,n;s("Gagal dalam load user. ".concat(null===(e=UN.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message))}finally{r(!1)}};(0,a.useEffect)((()=>{h()}),[]);const f=()=>{l(!1),u({username:"",email:"",division:"",roleId:""})},p=e=>{const{name:t,value:n}=e.target;u((e=>Fe(Fe({},e),{},{[t]:n})))};return n?(0,He.jsx)("p",{className:"p-4",children:"Loading users..."}):i?(0,He.jsx)("p",{className:"p-4 text-red-500",children:i}):(0,He.jsxs)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,He.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Manajemen User"}),(0,He.jsx)("p",{className:"text-muted-foreground",children:"Buat, Edit atau Non-aktifkan User."})]}),(0,He.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[(0,He.jsxs)("div",{className:"flex w-full md:w-1/2 items-center gap-2",children:[(0,He.jsxs)("div",{className:"relative w-full",children:[(0,He.jsx)(xf,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,He.jsx)(nf,{type:"search",placeholder:"Cari user...",className:"w-full pl-8"})]}),(0,He.jsx)(en,{variant:"outline",size:"icon",children:(0,He.jsx)(_f,{className:"h-4 w-4"})})]}),(0,He.jsxs)(en,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[(0,He.jsx)(LN,{className:"h-4 w-4"})," Tambah User"]})]}),(0,He.jsx)("div",{className:"rounded-md border",children:(0,He.jsxs)(hf,{children:[(0,He.jsx)(ff,{children:(0,He.jsxs)(gf,{children:[(0,He.jsx)(mf,{children:"Username"}),(0,He.jsx)(mf,{children:"Email"}),(0,He.jsx)(mf,{children:"Divisi"}),(0,He.jsx)(mf,{children:"Role"}),(0,He.jsx)(mf,{}),(0,He.jsx)(mf,{})]})}),(0,He.jsx)(pf,{children:e.rows.map((e=>(0,He.jsxs)(gf,{children:[(0,He.jsx)(vf,{children:(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsx)(ru,{className:"h-5 w-5 text-primary"}),(0,He.jsx)("span",{className:"font-medium",children:e.username})]})}),(0,He.jsx)(vf,{children:(0,He.jsx)("div",{className:"flex items-center gap-3",children:(0,He.jsx)("span",{className:"font-medium",children:e.email})})}),(0,He.jsx)(vf,{children:e.division}),(0,He.jsx)(vf,{children:e.roleId.name}),(0,He.jsx)(vf,{children:(0,He.jsx)("button",{onClick:()=>{return t=e._id,void d("/users/".concat(t));var t},className:"bg-blue-600 text-white font-bold cursor-pointer rounded p-2 hover:bg-indigo-700 transition",children:"\ud83d\udd8b\ufe0f EDIT"})}),(0,He.jsx)(vf,{children:(0,He.jsx)("button",{onClick:()=>(async e=>{try{await Oh.delete("".concat("http://localhost:8000","/users/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")}}),await h(),alert("Nonaktif user berhasil!")}catch(UN){var t,n;alert("Gagal menonaktifkan user: ".concat(null===(t=UN.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message))}})(e._id),className:"bg-red-600 text-white font-bold cursor-pointer rounded p-2 hover:bg-amber-700 transition",children:"\ud83d\uddd1\ufe0f NONAKTIF"})})]},e._id)))})]})})]}),o&&(0,He.jsx)("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm z-50",children:(0,He.jsxs)("div",{className:"p-6 bg-background rounded-lg shadow-lg w-full max-w-md",children:[(0,He.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Buat User Baru"}),(0,He.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Oh.post("".concat("http://localhost:8000","/users"),c,{headers:{"x-access-token":localStorage.getItem("token")}}),await h(),f()}catch(UN){var t,n;alert("Gagal untuk membuat user: ".concat(null===(t=UN.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message))}},className:"flex flex-col gap-4",children:[(0,He.jsx)(nf,{name:"username",value:c.username,onChange:p,placeholder:"Username",required:!0}),(0,He.jsx)(nf,{name:"email",type:"email",value:c.email,onChange:p,placeholder:"Email",required:!0}),(0,He.jsx)("div",{children:(0,He.jsxs)("select",{name:"division",value:c.division,onChange:p,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",required:!0,children:[(0,He.jsx)("option",{value:"",children:"Pilih Divisi"}),DN.map((e=>(0,He.jsx)("option",{value:e,children:e},e)))]})}),(0,He.jsx)("div",{children:(0,He.jsxs)("select",{name:"role",value:c.role,onChange:p,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",required:!0,children:[(0,He.jsx)("option",{value:"",children:"Pilih Role"}),(0,He.jsx)("option",{value:"admin",children:"ADMIN"},"admin"),(0,He.jsx)("option",{value:"user",children:"USER"},"user")]})}),(0,He.jsx)(nf,{name:"password",value:c.password,onChange:p,placeholder:"Password",required:!0}),(0,He.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,He.jsx)(en,{type:"button",variant:"outline",onClick:f,children:"Batal"}),(0,He.jsx)(en,{type:"submit",children:"Simpan"})]})]})]})})]})}const IN=["MKT","FIN","CHC","PROD","OPS","ITINFRA","LGL","DIR","ADMIN"];function ON(){const[e,t]=(0,a.useState)({username:"",email:"",role:"",division:"",newPassword:""}),n=ne(),{id:r}=function(){let{matches:e}=a.useContext($),t=e[e.length-1];return t?t.params:{}}();(0,a.useEffect)((()=>{(async()=>{try{const e=await Oh.get("http://localhost:8000"+"/users/".concat(r),{headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}),n={username:e.data.username,email:e.data.email,role:e.data.role,division:e.data.division,newPassword:""};t(n)}catch(UN){var e,n;alert("Gagal mendapatkan user. ".concat(null===(e=UN.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message))}})()}),[]);const i=n=>{t(Fe(Fe({},e),{},{[n.target.name]:n.target.value}))};return(0,He.jsxs)("main",{className:"container mx-auto py-6 px-4 md:px-6",children:[(0,He.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit User"}),(0,He.jsx)("p",{className:"text-muted-foreground mb-4",children:"Update username, email, role, divisi atau password dari User."}),(0,He.jsx)("div",{className:"w-full rounded-lg shadow-md mt-8",children:(0,He.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await Oh.put("http://localhost:8000"+"/users/".concat(r),{data:e},{headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}),alert("Update sukses!"),n("/users")}catch(UN){var i,s;alert("Update gagal. ".concat(null===(i=UN.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message))}},className:"grid grid-cols-2 gap-4",children:[(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Username"}),(0,He.jsx)("input",{type:"text",name:"username",placeholder:"Masukan username baru",required:!0,value:e.username,onChange:i,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Email"}),(0,He.jsx)("input",{type:"email",name:"email",placeholder:"Masukan email baru",required:!0,value:e.email,onChange:i,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Role"}),(0,He.jsxs)("select",{name:"role",required:!0,value:e.role,onChange:i,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black",children:[(0,He.jsx)("option",{value:"",children:"Pilih Role"}),(0,He.jsx)("option",{value:"admin",children:"ADMIN"},"admin"),(0,He.jsx)("option",{value:"user",children:"USER"},"user")]})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"Division"}),(0,He.jsxs)("select",{name:"division",value:e.division,onChange:i,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black",required:!0,children:[(0,He.jsx)("option",{value:"",children:"Pilih Divisi"}),IN.map((e=>(0,He.jsx)("option",{value:e,children:e},e)))]})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block font-medium mb-1",children:"New Password"}),(0,He.jsx)("input",{type:"text",name:"newPassword",value:e.newPassword,placeholder:"Masukan password baru",onChange:i,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]}),(0,He.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-4 px-4 rounded-md hover:bg-indigo-700 transition col-span-full",children:"Simpan Perubahan"})]})})]})}function FN(e){let{children:t}=e;return localStorage.getItem("token")?t:(0,He.jsx)(ve,{to:"/login",replace:!0})}function WN(){const e="/login"===ee().pathname;return(0,He.jsxs)("div",{className:"app",children:[!e&&(0,He.jsx)(su,{}),(0,He.jsxs)("div",{className:"main-content flex",children:[!e&&(0,He.jsx)(hu,{}),(0,He.jsx)("main",{className:"content w-full",children:(0,He.jsxs)(we,{children:[(0,He.jsx)(be,{path:"/login",element:(0,He.jsx)(Fh,{})}),(0,He.jsx)(be,{path:"/",element:(0,He.jsx)(FN,{children:(0,He.jsx)(Jh,{})})}),(0,He.jsx)(be,{path:"/dashboard",element:(0,He.jsx)(FN,{children:(0,He.jsx)(Jh,{})})}),(0,He.jsx)(be,{path:"/upload",element:(0,He.jsx)(FN,{children:(0,He.jsx)(ef,{})})}),(0,He.jsx)(be,{path:"/draft",element:(0,He.jsx)(FN,{children:(0,He.jsx)(Mf,{})})}),(0,He.jsx)(be,{path:"/inbox",element:(0,He.jsx)(FN,{children:(0,He.jsx)(Rf,{})})}),(0,He.jsx)(be,{path:"/completed",element:(0,He.jsx)(FN,{children:(0,He.jsx)(Nf,{})})}),(0,He.jsx)(be,{path:"/sent",element:(0,He.jsx)(FN,{children:(0,He.jsx)(NN,{})})}),(0,He.jsx)(be,{path:"/view",element:(0,He.jsx)(FN,{children:(0,He.jsx)(TN,{})})}),"admin"===localStorage.getItem("role")&&(0,He.jsx)(be,{path:"/users",element:(0,He.jsx)(FN,{children:(0,He.jsx)(jN,{})})}),(0,He.jsx)(be,{path:"/profile",element:(0,He.jsx)(FN,{children:(0,He.jsx)(PN,{})})}),(0,He.jsx)(be,{path:"/users/:id",element:(0,He.jsx)(FN,{children:(0,He.jsx)(ON,{})})})]})})]})]})}const BN=function(){return(0,He.jsx)(Me,{children:(0,He.jsx)(WN,{})})};cx.workerSrc="".concat(".","/pdf.worker.min.mjs");l.createRoot(document.getElementById("root")).render((0,He.jsx)(a.StrictMode,{children:(0,He.jsx)(BN,{})}))})();
//# sourceMappingURL=main.c785c2db.js.map